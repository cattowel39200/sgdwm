<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; connect-src 'none'; frame-ancestors 'none';">
<meta http-equiv="X-Content-Type-Options" content="nosniff">
<meta name="referrer" content="no-referrer">
<title>ÏÑ†Í±∞ ÎèÑÏö∞ÎØ∏ - Í≥µÏßÅÏÑ†Í±∞Î≤ï Í∏∞Î∞ò ÌõÑÎ≥¥Ïûê Ïã§Ïö© ÎèÑÍµ¨</title>
<style>
  :root {
    --primary: #1a56db;
    --primary-light: #e8edfb;
    --primary-dark: #12408a;
    --accent: #f59e0b;
    --accent-light: #fef3c7;
    --success: #10b981;
    --danger: #ef4444;
    --gray-50: #f9fafb;
    --gray-100: #f3f4f6;
    --gray-200: #e5e7eb;
    --gray-300: #d1d5db;
    --gray-500: #6b7280;
    --gray-700: #374151;
    --gray-900: #111827;
    --shadow: 0 1px 3px rgba(0,0,0,0.1), 0 1px 2px rgba(0,0,0,0.06);
    --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
    --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
    --radius: 12px;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: var(--gray-50); color: var(--gray-900); line-height: 1.6; }
  nav { background: white; border-bottom: 1px solid var(--gray-200); position: sticky; top: 0; z-index: 100; box-shadow: var(--shadow); }
  .nav-inner { max-width: 1200px; margin: 0 auto; padding: 0 24px; display: flex; align-items: center; gap: 8px; }
  .logo { font-size: 20px; font-weight: 800; color: var(--primary); padding: 16px 0; margin-right: 24px; white-space: nowrap; cursor: pointer; }
  .logo span { color: var(--accent); }
  .nav-links { display: flex; gap: 4px; overflow-x: auto; scrollbar-width: none; }
  .nav-links::-webkit-scrollbar { display: none; }
  .nav-link { padding: 12px 16px; border: none; background: none; color: var(--gray-500); font-size: 14px; font-weight: 500; cursor: pointer; border-bottom: 3px solid transparent; white-space: nowrap; transition: all 0.2s; }
  .nav-link:hover { color: var(--primary); background: var(--primary-light); border-radius: 8px 8px 0 0; }
  .nav-link.active { color: var(--primary); border-bottom-color: var(--primary); font-weight: 600; }
  .container { max-width: 1200px; margin: 0 auto; padding: 32px 24px; }
  .page { display: none; }
  .page.active { display: block; animation: fadeIn 0.3s ease; }
  @keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
  .card { background: white; border-radius: var(--radius); padding: 24px; box-shadow: var(--shadow); border: 1px solid var(--gray-200); }
  .card-title { font-size: 18px; font-weight: 700; margin-bottom: 16px; color: var(--gray-900); }
  .hero { background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); color: white; border-radius: var(--radius); padding: 48px; margin-bottom: 32px; text-align: center; }
  .hero h1 { font-size: 32px; margin-bottom: 12px; }
  .hero p { font-size: 18px; opacity: 0.9; max-width: 600px; margin: 0 auto; }
  .tool-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 20px; }
  .tool-card { background: white; border-radius: var(--radius); padding: 28px; box-shadow: var(--shadow); border: 1px solid var(--gray-200); cursor: pointer; transition: all 0.2s; text-align: center; }
  .tool-card:hover { transform: translateY(-4px); box-shadow: var(--shadow-lg); border-color: var(--primary); }
  .tool-icon { font-size: 40px; margin-bottom: 12px; }
  .tool-card h3 { font-size: 18px; margin-bottom: 8px; color: var(--gray-900); }
  .tool-card p { font-size: 14px; color: var(--gray-500); }
  .form-group { margin-bottom: 20px; }
  .form-group label { display: block; font-size: 14px; font-weight: 600; color: var(--gray-700); margin-bottom: 6px; }
  .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 10px 14px; border: 1px solid var(--gray-300); border-radius: 8px; font-size: 15px; transition: border-color 0.2s; font-family: inherit; }
  .form-group input:focus, .form-group select:focus, .form-group textarea:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(26,86,219,0.1); }
  .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
  .form-row-3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px; }
  .btn { padding: 10px 20px; border: none; border-radius: 8px; font-size: 15px; font-weight: 600; cursor: pointer; transition: all 0.2s; display: inline-flex; align-items: center; gap: 8px; }
  .btn-primary { background: var(--primary); color: white; }
  .btn-primary:hover { background: var(--primary-dark); }
  .btn-success { background: var(--success); color: white; }
  .btn-danger { background: var(--danger); color: white; }
  .btn-outline { background: white; color: var(--primary); border: 2px solid var(--primary); }
  .btn-outline:hover { background: var(--primary-light); }
  .btn-sm { padding: 6px 12px; font-size: 13px; }
  .calc-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; }
  .calc-result { background: var(--primary-light); border: 2px solid var(--primary); border-radius: var(--radius); padding: 24px; text-align: center; }
  .calc-result .big-number { font-size: 32px; font-weight: 800; color: var(--primary); }
  .expense-item { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid var(--gray-100); }
  .expense-item:last-child { border-bottom: none; }
  .expense-bar { height: 8px; background: var(--gray-100); border-radius: 4px; overflow: hidden; margin-top: 4px; }
  .expense-bar-fill { height: 100%; border-radius: 4px; transition: width 0.5s ease; }
  .law-ref { display: inline-block; background: #fef3c7; color: #92400e; font-size: 12px; font-weight: 600; padding: 2px 8px; border-radius: 6px; margin-left: 4px; cursor: help; }
  .law-ref:hover { background: #fde68a; }
  .law-note { background: var(--gray-50); border-left: 4px solid var(--primary); padding: 12px 16px; font-size: 13px; color: var(--gray-700); margin: 12px 0; border-radius: 0 8px 8px 0; }
  .law-note strong { color: var(--primary); }
  .info-table { width: 100%; border-collapse: collapse; font-size: 14px; }
  .info-table th { background: var(--primary-light); color: var(--primary); padding: 10px 12px; text-align: left; font-weight: 600; }
  .info-table td { padding: 10px 12px; border-bottom: 1px solid var(--gray-100); }
  .info-table tr:hover td { background: var(--gray-50); }
  .timeline { position: relative; padding-left: 32px; }
  .timeline::before { content: ''; position: absolute; left: 11px; top: 0; bottom: 0; width: 3px; background: var(--gray-200); }
  .timeline-item { position: relative; margin-bottom: 24px; padding: 16px 20px; background: white; border-radius: var(--radius); box-shadow: var(--shadow); border: 1px solid var(--gray-200); }
  .timeline-item::before { content: ''; position: absolute; left: -27px; top: 20px; width: 13px; height: 13px; border-radius: 50%; background: var(--primary); border: 3px solid white; box-shadow: var(--shadow); }
  .timeline-item.completed::before { background: var(--success); }
  .timeline-item.upcoming::before { background: var(--accent); }
  .timeline-date { font-size: 13px; color: var(--primary); font-weight: 600; }
  .timeline-title { font-size: 16px; font-weight: 600; margin: 4px 0; }
  .timeline-desc { font-size: 14px; color: var(--gray-500); }
  .timeline-law { font-size: 12px; color: #92400e; margin-top: 4px; }
  .d-day-badge { display: inline-block; padding: 2px 10px; border-radius: 12px; font-size: 12px; font-weight: 600; margin-left: 8px; }
  .d-day-badge.soon { background: #fef3c7; color: #92400e; }
  .d-day-badge.far { background: var(--primary-light); color: var(--primary); }
  .d-day-badge.past { background: #d1fae5; color: #065f46; }
  .pledge-list { list-style: none; }
  .pledge-item { background: white; border: 1px solid var(--gray-200); border-radius: var(--radius); padding: 20px; margin-bottom: 12px; box-shadow: var(--shadow); }
  .pledge-header { display: flex; justify-content: space-between; align-items: start; margin-bottom: 8px; }
  .pledge-category { display: inline-block; padding: 2px 10px; border-radius: 12px; font-size: 12px; font-weight: 600; background: var(--primary-light); color: var(--primary); }
  .pledge-title { font-size: 16px; font-weight: 600; }
  .pledge-detail { font-size: 14px; color: var(--gray-500); }
  .pledge-meta { display: flex; gap: 16px; margin-top: 8px; font-size: 13px; color: var(--gray-500); }
  .checklist-section { margin-bottom: 24px; }
  .checklist-section h3 { font-size: 16px; font-weight: 700; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 2px solid var(--primary); color: var(--primary); }
  .check-item { display: flex; flex-wrap: wrap; align-items: center; gap: 8px 12px; padding: 10px 0; border-bottom: 1px solid var(--gray-100); cursor: pointer; }
  .check-item:last-child { border-bottom: none; }
  .check-item input[type="checkbox"] { width: 20px; height: 20px; accent-color: var(--primary); cursor: pointer; flex-shrink:0; }
  .check-item label { cursor: pointer; flex: 1; font-size:14px; min-width: 200px; }
  .check-item .check-law { font-size: 11px; color: #92400e; background: #fef3c7; padding: 1px 6px; border-radius: 4px; white-space: nowrap; flex-shrink:0; }
  .check-item.done label { text-decoration: line-through; color: var(--gray-500); }
  .check-desc { width: 100%; padding: 8px 12px 8px 44px; font-size: 13px; color: var(--gray-500); line-height: 1.6; display: none; background: var(--gray-50); border-radius: 6px; margin-top: 2px; }
  .check-item.expanded .check-desc { display: block; }
  .check-toggle { font-size: 11px; color: var(--primary); cursor: pointer; padding: 2px 8px; border-radius: 4px; flex-shrink:0; user-select: none; }
  .check-toggle:hover { background: var(--gray-100); }
  .progress-bar { width: 100%; height: 12px; background: var(--gray-100); border-radius: 6px; overflow: hidden; margin-bottom: 8px; }
  .progress-fill { height: 100%; background: linear-gradient(90deg, var(--primary), var(--accent)); border-radius: 6px; transition: width 0.5s ease; }
  .progress-text { font-size: 14px; font-weight: 600; color: var(--gray-700); text-align: right; }
  .stat-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 16px; margin-bottom: 24px; }
  .stat-card { background: white; border-radius: var(--radius); padding: 20px; box-shadow: var(--shadow); border: 1px solid var(--gray-200); text-align: center; }
  .stat-number { font-size: 28px; font-weight: 800; color: var(--primary); }
  .stat-label { font-size: 13px; color: var(--gray-500); margin-top: 4px; }
  .tab-bar { display: flex; gap: 4px; margin-bottom: 24px; flex-wrap: wrap; }
  .tab-btn { padding: 8px 16px; border: 2px solid var(--gray-200); background: white; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer; transition: all 0.2s; }
  .tab-btn.active { border-color: var(--primary); background: var(--primary-light); color: var(--primary); }
  .profile-saved { display: inline-block; background: #d1fae5; color: #065f46; padding: 4px 12px; border-radius: 8px; font-size: 13px; font-weight: 600; animation: fadeIn 0.3s; }
  .profile-badge { display: inline-block; background: var(--primary-light); color: var(--primary); padding: 4px 12px; border-radius: 8px; font-size: 13px; font-weight: 600; margin-bottom: 16px; }
  @media print { nav, .no-print { display: none !important; } .page { display: block !important; } .container { padding: 0; } }
  /* ÏÑ†Í±∞Ïö¥Îèô Í∑úÏ†ï ÌéòÏù¥ÏßÄ */
  .reg-tabs { display: flex; gap: 0; margin-bottom: 0; border-radius: 10px 10px 0 0; overflow: hidden; border: 2px solid var(--primary); border-bottom: none; }
  .reg-tab { flex: 1; padding: 14px 8px; border: none; background: white; color: var(--primary); font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.2s; text-align: center; }
  .reg-tab:not(:last-child) { border-right: 1px solid var(--gray-200); }
  .reg-tab.active { background: var(--primary); color: white; }
  .reg-tab:hover:not(.active) { background: var(--primary-light); }
  .reg-period-info { background: var(--primary-light); border: 2px solid var(--primary); border-top: none; border-radius: 0 0 10px 10px; padding: 16px 20px; margin-bottom: 24px; }
  .reg-period-dates { font-size: 14px; font-weight: 600; color: var(--primary-dark); margin-bottom: 8px; }
  .reg-summary-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; margin-top: 10px; }
  .reg-summary-box { background: white; border-radius: 8px; padding: 10px 14px; border: 1px solid var(--gray-200); }
  .reg-summary-box h4 { font-size: 13px; margin-bottom: 6px; }
  .reg-summary-box.s-allowed h4 { color: #065f46; }
  .reg-summary-box.s-conditional h4 { color: #92400e; }
  .reg-summary-box.s-prohibited h4 { color: #991b1b; }
  .reg-summary-box ul { list-style: none; font-size: 12px; color: var(--gray-700); }
  .reg-summary-box ul li { padding: 2px 0; }
  .reg-summary-box ul li::before { margin-right: 4px; }
  .reg-summary-box.s-allowed ul li::before { content: '‚úÖ'; }
  .reg-summary-box.s-conditional ul li::before { content: '‚ö†Ô∏è'; }
  .reg-summary-box.s-prohibited ul li::before { content: 'üö´'; }
  .reg-menu { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 24px; }
  .reg-menu-btn { padding: 10px 16px; border: 1px solid var(--gray-200); border-radius: 10px; background: white; font-size: 13px; font-weight: 500; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; gap: 6px; box-shadow: var(--shadow); }
  .reg-menu-btn:hover { border-color: var(--primary); color: var(--primary); transform: translateY(-1px); }
  .reg-menu-btn.active { background: var(--primary); color: white; border-color: var(--primary); box-shadow: var(--shadow-md); }
  .reg-detail-panel { background: white; border-radius: var(--radius); border: 1px solid var(--gray-200); box-shadow: var(--shadow); overflow: hidden; }
  .reg-detail-header { padding: 20px 24px; background: var(--gray-50); border-bottom: 2px solid var(--primary); }
  .reg-detail-header h3 { font-size: 18px; font-weight: 700; }
  .reg-detail-body { padding: 0; }
  .reg-item { padding: 16px 24px; border-bottom: 1px solid var(--gray-100); display: flex; gap: 12px; align-items: flex-start; font-size: 14px; cursor: pointer; transition: background 0.15s; }
  .reg-item:last-child { border-bottom: none; }
  .reg-item:hover { background: var(--gray-50); }
  .reg-item.expanded { background: var(--primary-light); }
  .reg-badge { display: inline-flex; align-items: center; justify-content: center; min-width: 52px; padding: 4px 10px; border-radius: 6px; font-size: 12px; font-weight: 700; flex-shrink: 0; }
  .reg-badge.allowed { background: #d1fae5; color: #065f46; }
  .reg-badge.conditional { background: #fef3c7; color: #92400e; }
  .reg-badge.prohibited { background: #fee2e2; color: #991b1b; }
  .reg-item-content { flex: 1; }
  .reg-item-title { font-weight: 600; color: var(--gray-900); }
  .reg-item-expand { display: none; margin-top: 12px; padding-top: 12px; border-top: 1px dashed var(--gray-300); }
  .reg-item.expanded .reg-item-expand { display: block; }
  .reg-item-arrow { color: var(--gray-300); flex-shrink: 0; transition: transform 0.2s; font-size: 18px; }
  .reg-item.expanded .reg-item-arrow { transform: rotate(90deg); color: var(--primary); }
  .reg-ex { background: var(--gray-50); border-radius: 8px; padding: 12px 14px; margin-top: 8px; font-size: 13px; border-left: 3px solid var(--primary); }
  .reg-ex-title { font-weight: 600; color: var(--primary); font-size: 12px; margin-bottom: 4px; }
  .reg-penalty { font-size: 12px; color: var(--danger); margin-top: 6px; font-weight: 500; }
  /* Î∂ÑÏÑùÍ∏∞ */
  .analyzer-section { margin-top: 32px; }
  .analyzer-card { background: white; border-radius: var(--radius); border: 2px solid var(--primary); box-shadow: var(--shadow-md); overflow: hidden; }
  .analyzer-header { background: linear-gradient(135deg, var(--primary) 0%, var(--grad-end, #2563eb) 100%); color: white; padding: 20px 24px; display: flex; align-items: center; gap: 12px; }
  .analyzer-header h3 { font-size: 18px; font-weight: 700; }
  .analyzer-body { padding: 24px; }
  .analyzer-tabs { display: flex; gap: 0; margin-bottom: 20px; border-radius: 8px; overflow: hidden; border: 2px solid var(--primary); }
  .analyzer-tab { flex: 1; padding: 10px; border: none; background: white; color: var(--primary); font-size: 14px; font-weight: 600; cursor: pointer; text-align: center; transition: all 0.2s; }
  .analyzer-tab:not(:last-child) { border-right: 1px solid var(--gray-200); }
  .analyzer-tab.active { background: var(--primary); color: white; }
  .analyzer-input-area { position: relative; }
  .analyzer-textarea { width: 100%; min-height: 120px; padding: 14px; border: 1px solid var(--gray-300); border-radius: 10px; font-size: 14px; font-family: inherit; line-height: 1.6; resize: vertical; transition: border-color 0.2s; }
  .analyzer-textarea:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(26,86,219,0.1); }
  .analyzer-textarea::placeholder { color: var(--gray-500); }
  .analyzer-img-area { border: 2px dashed var(--gray-300); border-radius: 10px; padding: 24px; text-align: center; cursor: pointer; transition: all 0.2s; background: var(--gray-50); position: relative; }
  .analyzer-img-area:hover { border-color: var(--primary); background: var(--primary-light); }
  .analyzer-img-area.has-image { border-style: solid; border-color: var(--success); background: white; }
  .analyzer-img-preview { max-width: 100%; max-height: 300px; border-radius: 8px; margin-top: 10px; }
  .analyzer-img-text { color: var(--gray-500); font-size: 14px; }
  .analyzer-img-text .big { font-size: 40px; display: block; margin-bottom: 8px; }
  .analyzer-options { display: flex; flex-wrap: wrap; gap: 10px; margin: 16px 0; align-items: center; }
  .analyzer-options label { font-size: 13px; font-weight: 600; color: var(--gray-700); }
  .analyzer-options select { padding: 6px 10px; border: 1px solid var(--gray-300); border-radius: 6px; font-size: 13px; }
  .analyzer-btn { width: 100%; padding: 14px; border: none; border-radius: 10px; background: linear-gradient(135deg, var(--primary) 0%, var(--grad-end, #2563eb) 100%); color: white; font-size: 16px; font-weight: 700; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; justify-content: center; gap: 8px; }
  .analyzer-btn:hover { transform: translateY(-1px); box-shadow: var(--shadow-lg); }
  .analyzer-btn:disabled { opacity: 0.6; cursor: not-allowed; transform: none; box-shadow: none; }
  .analyzer-result { margin-top: 20px; display: none; }
  .analyzer-result.show { display: block; animation: fadeIn 0.3s ease; }
  .result-verdict { padding: 20px; border-radius: 10px; margin-bottom: 16px; display: flex; align-items: flex-start; gap: 14px; }
  .result-verdict.safe { background: #d1fae5; border: 2px solid #10b981; }
  .result-verdict.warning { background: #fef3c7; border: 2px solid #f59e0b; }
  .result-verdict.danger { background: #fee2e2; border: 2px solid #ef4444; }
  .result-verdict .verdict-icon { font-size: 36px; flex-shrink: 0; }
  .result-verdict .verdict-text h4 { font-size: 16px; margin-bottom: 4px; }
  .result-verdict.safe h4 { color: #065f46; }
  .result-verdict.warning h4 { color: #92400e; }
  .result-verdict.danger h4 { color: #991b1b; }
  .result-verdict .verdict-text p { font-size: 13px; color: var(--gray-700); line-height: 1.5; }
  .result-issues { border: 1px solid var(--gray-200); border-radius: 10px; overflow: hidden; }
  .result-issue { padding: 14px 18px; border-bottom: 1px solid var(--gray-100); display: flex; gap: 10px; align-items: flex-start; }
  .result-issue:last-child { border-bottom: none; }
  .result-issue:hover { background: var(--gray-50); }
  .issue-icon { font-size: 18px; flex-shrink: 0; margin-top: 1px; }
  .issue-content { flex: 1; }
  .issue-content .issue-title { font-size: 14px; font-weight: 600; margin-bottom: 4px; }
  .issue-content .issue-desc { font-size: 13px; color: var(--gray-700); line-height: 1.5; }
  .issue-content .issue-law { display: inline-block; background: #fef3c7; color: #92400e; font-size: 11px; font-weight: 600; padding: 2px 8px; border-radius: 4px; margin-top: 4px; }
  .issue-content .issue-fix { background: var(--primary-light); padding: 8px 12px; border-radius: 6px; font-size: 12px; color: var(--primary-dark); margin-top: 6px; line-height: 1.5; }
  .result-summary-bar { display: flex; gap: 10px; margin-bottom: 16px; flex-wrap: wrap; }
  .result-summary-chip { padding: 6px 14px; border-radius: 20px; font-size: 13px; font-weight: 600; }
  .result-summary-chip.danger-chip { background: #fee2e2; color: #991b1b; }
  .result-summary-chip.warning-chip { background: #fef3c7; color: #92400e; }
  .result-summary-chip.safe-chip { background: #d1fae5; color: #065f46; }
  .analyzer-examples { margin-top: 16px; }
  .analyzer-examples summary { font-size: 13px; font-weight: 600; color: var(--primary); cursor: pointer; padding: 8px 0; }
  .example-chips { display: flex; flex-wrap: wrap; gap: 6px; margin-top: 8px; }
  .example-chip { padding: 6px 12px; border: 1px solid var(--gray-200); border-radius: 20px; font-size: 12px; cursor: pointer; transition: all 0.15s; background: white; }
  .example-chip:hover { border-color: var(--primary); color: var(--primary); background: var(--primary-light); }
  /* Ìôà ÌÉÄÏûÑÎùºÏù∏ */
  .home-election-selector { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
  .home-elec-btn { padding: 10px 18px; border: 2px solid var(--gray-200); border-radius: 10px; background: white; font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.2s; }
  .home-elec-btn:hover { border-color: var(--primary); color: var(--primary); }
  .home-elec-btn.active { border-color: var(--primary); background: var(--primary); color: white; }
  .home-countdown { background: linear-gradient(135deg, var(--primary) 0%, var(--grad-end, #2563eb) 100%); color: white; border-radius: var(--radius); padding: 28px 32px; margin-bottom: 24px; display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 16px; }
  .home-countdown .countdown-left h2 { font-size: 22px; font-weight: 800; margin-bottom: 4px; }
  .home-countdown .countdown-left p { font-size: 14px; opacity: 0.85; }
  .countdown-numbers { display: flex; gap: 12px; }
  .countdown-box { text-align: center; background: rgba(255,255,255,0.15); border-radius: 10px; padding: 12px 16px; min-width: 64px; backdrop-filter: blur(4px); }
  .countdown-box .num { font-size: 28px; font-weight: 800; display: block; line-height: 1; }
  .countdown-box .label { font-size: 11px; opacity: 0.8; margin-top: 4px; display: block; }
  .home-timeline { position: relative; padding-left: 28px; margin-bottom: 32px; }
  .home-timeline::before { content: ''; position: absolute; left: 9px; top: 0; bottom: 0; width: 3px; background: linear-gradient(to bottom, var(--primary), var(--accent), var(--success)); border-radius: 2px; }
  .home-tl-item { position: relative; padding: 10px 0 10px 20px; }
  .home-tl-dot { position: absolute; left: -24px; top: 14px; width: 14px; height: 14px; border-radius: 50%; border: 3px solid var(--primary); background: white; z-index: 1; }
  .home-tl-item.past .home-tl-dot { background: var(--gray-300); border-color: var(--gray-300); }
  .home-tl-item.current .home-tl-dot { background: var(--primary); border-color: var(--primary); box-shadow: 0 0 0 4px rgba(26,86,219,0.2); }
  .home-tl-item.future .home-tl-dot { background: white; border-color: var(--accent); }
  .home-tl-card { background: white; border-radius: 10px; padding: 14px 18px; border: 1px solid var(--gray-200); box-shadow: var(--shadow); transition: all 0.15s; }
  .home-tl-item.current .home-tl-card { border-color: var(--primary); border-width: 2px; box-shadow: var(--shadow-md); background: var(--primary-light); }
  .home-tl-date { font-size: 12px; font-weight: 600; color: var(--primary); }
  .home-tl-title { font-size: 14px; font-weight: 700; color: var(--gray-900); margin: 2px 0; }
  .home-tl-desc { font-size: 12px; color: var(--gray-500); }
  .home-period-section { margin-bottom: 28px; }
  .home-period-header { display: flex; align-items: center; gap: 10px; margin-bottom: 14px; padding-bottom: 8px; border-bottom: 2px solid var(--gray-200); }
  .home-period-header h3 { font-size: 17px; font-weight: 700; }
  .home-period-header .period-dates { font-size: 12px; color: var(--gray-500); }
  .home-period-badge { padding: 4px 10px; border-radius: 6px; font-size: 12px; font-weight: 700; }
  .home-period-badge.bp-normal { background: #dbeafe; color: #1e40af; }
  .home-period-badge.bp-pre { background: #fef3c7; color: #92400e; }
  .home-period-badge.bp-main { background: #d1fae5; color: #065f46; }
  .home-reg-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 12px; }
  .home-reg-card { background: white; border-radius: 10px; padding: 14px 16px; border: 1px solid var(--gray-200); box-shadow: var(--shadow); }
  .home-reg-card-header { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }
  .home-reg-card-header .cat-icon { font-size: 20px; }
  .home-reg-card-header .cat-title { font-size: 14px; font-weight: 700; }
  .home-reg-items { font-size: 13px; line-height: 1.7; }
  .home-reg-items .reg-line { display: flex; gap: 6px; align-items: baseline; }
  .home-reg-items .reg-status { flex-shrink: 0; font-size: 12px; }
  .home-section-title { font-size: 20px; font-weight: 800; color: var(--gray-900); margin-bottom: 16px; display: flex; align-items: center; gap: 8px; }
  .home-current-indicator { display: inline-block; padding: 3px 10px; border-radius: 20px; font-size: 11px; font-weight: 700; background: var(--primary); color: white; animation: pulse 2s infinite; }
  @keyframes pulse { 0%,100% { opacity: 1; } 50% { opacity: 0.7; } }
  /* ÌöåÏõêÍ∞ÄÏûÖ¬∑Î°úÍ∑∏Ïù∏ */
  .auth-wrapper { min-height: 70vh; display: flex; align-items: center; justify-content: center; }
  .auth-card { background: white; border-radius: var(--radius); box-shadow: var(--shadow-lg); border: 1px solid var(--gray-200); width: 100%; max-width: 480px; overflow: hidden; }
  .auth-header { background: linear-gradient(135deg, var(--primary) 0%, var(--grad-end, #2563eb) 100%); color: white; padding: 32px; text-align: center; }
  .auth-header .auth-logo { font-size: 40px; margin-bottom: 8px; }
  .auth-header h2 { font-size: 22px; font-weight: 800; }
  .auth-header p { font-size: 13px; opacity: 0.85; margin-top: 4px; }
  .auth-body { padding: 28px 32px; }
  .auth-body .form-group { margin-bottom: 16px; }
  .auth-body .form-group label { font-size: 13px; }
  .auth-body .form-group input, .auth-body .form-group select { padding: 11px 14px; font-size: 14px; }
  .auth-btn { width: 100%; padding: 13px; border: none; border-radius: 8px; background: linear-gradient(135deg, var(--primary) 0%, var(--grad-end, #2563eb) 100%); color: white; font-size: 16px; font-weight: 700; cursor: pointer; transition: all 0.2s; margin-top: 8px; }
  .auth-btn:hover { transform: translateY(-1px); box-shadow: var(--shadow-md); }
  .auth-footer { text-align: center; padding: 16px 32px 28px; font-size: 13px; color: var(--gray-500); }
  .auth-footer a { color: var(--primary); font-weight: 600; cursor: pointer; text-decoration: none; }
  .auth-footer a:hover { text-decoration: underline; }
  .auth-divider { display: flex; align-items: center; gap: 12px; margin: 20px 0 16px; color: var(--gray-500); font-size: 12px; }
  .auth-divider::before, .auth-divider::after { content: ''; flex: 1; height: 1px; background: var(--gray-200); }
  .auth-msg { padding: 10px 14px; border-radius: 8px; font-size: 13px; margin-bottom: 16px; display: none; }
  .auth-msg.error { display: block; background: #fee2e2; color: #991b1b; border: 1px solid #fecaca; }
  .auth-msg.success { display: block; background: #d1fae5; color: #065f46; border: 1px solid #a7f3d0; }
  .auth-terms { font-size: 12px; color: var(--gray-500); margin-top: 12px; display: flex; align-items: flex-start; gap: 8px; }
  .auth-terms input[type="checkbox"] { margin-top: 2px; flex-shrink: 0; }
  .user-bar { display: flex; align-items: center; gap: 10px; margin-left: auto; white-space: nowrap; }
  .user-bar .user-name { font-size: 13px; font-weight: 600; color: var(--primary); }
  .user-bar .user-btn { padding: 5px 12px; border: 1px solid var(--gray-200); border-radius: 6px; background: white; font-size: 12px; cursor: pointer; transition: all 0.15s; }
  .user-bar .user-btn:hover { border-color: var(--primary); color: var(--primary); }
  .user-bar .user-btn.logout-btn:hover { border-color: var(--danger); color: var(--danger); }
  .pw-strength { height: 4px; border-radius: 2px; margin-top: 4px; transition: all 0.3s; }
  .pw-strength.weak { background: var(--danger); width: 33%; }
  .pw-strength.medium { background: var(--accent); width: 66%; }
  .pw-strength.strong { background: var(--success); width: 100%; }
  .pw-strength-text { font-size: 11px; margin-top: 2px; }
  /* ÏßÅÏ±Ö¬∑Ïä§ÌÉúÌîÑ Í¥ÄÎ¶¨ */
  .role-badge { display: inline-flex; align-items: center; gap: 4px; padding: 3px 10px; border-radius: 20px; font-size: 12px; font-weight: 700; }
  .role-badge.role-candidate { background: #dbeafe; color: #1e40af; }
  .role-badge.role-manager { background: #d1fae5; color: #065f46; }
  .role-badge.role-accountant { background: #fef3c7; color: #92400e; }
  .role-badge.role-secretary { background: #ede9fe; color: #5b21b6; }
  .role-badge.role-volunteer { background: #fce7f3; color: #9d174d; }
  .role-badge.role-observer { background: var(--gray-100); color: var(--gray-700); }
  .staff-list { border: 1px solid var(--gray-200); border-radius: var(--radius); overflow: hidden; }
  .staff-item { display: flex; align-items: center; gap: 12px; padding: 14px 18px; border-bottom: 1px solid var(--gray-100); transition: background 0.15s; }
  .staff-item:last-child { border-bottom: none; }
  .staff-item:hover { background: var(--gray-50); }
  .staff-avatar { width: 40px; height: 40px; border-radius: 50%; background: var(--primary-light); display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 700; color: var(--primary); flex-shrink: 0; }
  .staff-info { flex: 1; }
  .staff-info .staff-name { font-size: 14px; font-weight: 600; }
  .staff-info .staff-meta { font-size: 12px; color: var(--gray-500); }
  .staff-actions { display: flex; gap: 6px; }
  .online-dot { display: inline-block; width: 8px; height: 8px; border-radius: 50%; margin-right: 4px; }
  .online-dot.on { background: #10b981; box-shadow: 0 0 4px #10b981; }
  .online-dot.off { background: var(--gray-300); }
  /* Ï†ïÎãπ ÌÖåÎßà */
  .party-indicator { display: flex; align-items: center; gap: 6px; margin-right: 8px; }
  .party-logo { width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 16px; font-weight: 800; color: white; background: var(--primary); flex-shrink: 0; border: 2px solid white; box-shadow: var(--shadow); }
  .party-name-tag { font-size: 11px; font-weight: 700; color: var(--primary); background: var(--primary-light); padding: 2px 8px; border-radius: 10px; white-space: nowrap; }
  .party-select-preview { display: flex; align-items: center; gap: 12px; padding: 12px 16px; border-radius: 10px; margin-top: 8px; border: 2px solid var(--gray-200); transition: all 0.3s; }
  .party-select-preview.active { border-color: var(--primary); background: var(--primary-light); }
  .party-select-preview .party-preview-dot { width: 24px; height: 24px; border-radius: 50%; flex-shrink: 0; }
  .party-select-preview .party-preview-text { font-size: 13px; font-weight: 600; }
  .nav-party-bar { height: 4px; background: linear-gradient(90deg, var(--primary), var(--primary-dark)); position: absolute; bottom: 0; left: 0; right: 0; }
  .invite-code-box { background: var(--primary-light); border: 2px dashed var(--primary); border-radius: 10px; padding: 20px; text-align: center; }
  .invite-code-box .code { font-size: 28px; font-weight: 800; color: var(--primary); letter-spacing: 4px; margin: 8px 0; font-family: monospace; }
  .online-panel { background: white; border-radius: var(--radius); border: 1px solid var(--gray-200); box-shadow: var(--shadow); padding: 20px; margin-bottom: 24px; }
  .online-users { display: flex; flex-wrap: wrap; gap: 10px; }
  .online-user-chip { display: flex; align-items: center; gap: 6px; padding: 6px 12px; border-radius: 20px; background: var(--gray-50); border: 1px solid var(--gray-200); font-size: 13px; }
  .perm-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 8px; margin-top: 10px; }
  .perm-item { padding: 8px 12px; border-radius: 8px; border: 1px solid var(--gray-200); font-size: 13px; display: flex; align-items: center; gap: 8px; }
  .perm-item.granted { background: #d1fae5; border-color: #a7f3d0; }
  .perm-item.denied { background: #fee2e2; border-color: #fecaca; }
  /* ÏöîÍ∏àÏ†ú¬∑Í≤∞Ï†ú */
  .pricing-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 32px; }
  .pricing-card { background: white; border-radius: var(--radius); border: 2px solid var(--gray-200); box-shadow: var(--shadow); overflow: hidden; transition: all 0.2s; display: flex; flex-direction: column; }
  .pricing-card:hover { transform: translateY(-4px); box-shadow: var(--shadow-lg); }
  .pricing-card.popular { border-color: var(--primary); position: relative; }
  .pricing-card.popular::before { content: 'Ïù∏Í∏∞'; position: absolute; top: 12px; right: -28px; background: var(--primary); color: white; font-size: 11px; font-weight: 700; padding: 3px 32px; transform: rotate(45deg); }
  .pricing-header { padding: 28px 24px 16px; text-align: center; }
  .pricing-header .plan-icon { font-size: 36px; margin-bottom: 8px; }
  .pricing-header h3 { font-size: 20px; font-weight: 800; }
  .pricing-header .plan-desc { font-size: 13px; color: var(--gray-500); margin-top: 4px; }
  .pricing-price { text-align: center; padding: 12px 24px; }
  .pricing-price .amount { font-size: 36px; font-weight: 800; color: var(--primary); }
  .pricing-price .period { font-size: 13px; color: var(--gray-500); }
  .pricing-price .original { font-size: 14px; color: var(--gray-500); text-decoration: line-through; margin-right: 4px; }
  .pricing-features { padding: 16px 24px; flex: 1; }
  .pricing-features ul { list-style: none; }
  .pricing-features li { padding: 6px 0; font-size: 13px; color: var(--gray-700); display: flex; align-items: center; gap: 8px; }
  .pricing-features li .check { color: var(--success); font-weight: 700; }
  .pricing-features li .lock { color: var(--gray-300); }
  .pricing-features li.disabled { color: var(--gray-400); }
  .pricing-action { padding: 16px 24px 24px; }
  .pricing-action button { width: 100%; padding: 12px; border: none; border-radius: 8px; font-size: 15px; font-weight: 700; cursor: pointer; transition: all 0.2s; }
  .pricing-action .btn-free { background: var(--gray-100); color: var(--gray-700); }
  .pricing-action .btn-pro { background: var(--primary); color: white; }
  .pricing-action .btn-pro:hover { background: var(--primary-dark); }
  .pricing-action .btn-team { background: linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%); color: white; }
  .pricing-action .btn-team:hover { opacity: 0.9; }
  .plan-badge-pro { display: inline-flex; align-items: center; gap: 3px; padding: 2px 8px; border-radius: 4px; font-size: 10px; font-weight: 800; background: linear-gradient(135deg, #f59e0b, #d97706); color: white; vertical-align: middle; }
  .plan-badge-team { display: inline-flex; align-items: center; gap: 3px; padding: 2px 8px; border-radius: 4px; font-size: 10px; font-weight: 800; background: linear-gradient(135deg, #7c3aed, #6d28d9); color: white; vertical-align: middle; }
  .upgrade-banner { background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); border: 2px solid #f59e0b; border-radius: var(--radius); padding: 16px 20px; display: flex; align-items: center; justify-content: space-between; gap: 16px; margin-bottom: 20px; flex-wrap: wrap; }
  .upgrade-banner .ub-text { font-size: 14px; font-weight: 600; color: #92400e; }
  .upgrade-banner .ub-btn { padding: 8px 18px; border: none; border-radius: 8px; background: #f59e0b; color: white; font-size: 13px; font-weight: 700; cursor: pointer; white-space: nowrap; }
  .feature-lock-overlay { position: relative; }
  .feature-lock-overlay::after { content: 'üîí PRO'; position: absolute; top: 4px; right: 4px; background: rgba(0,0,0,0.7); color: #fbbf24; font-size: 10px; font-weight: 800; padding: 2px 8px; border-radius: 4px; }
  .payment-form { background: white; border-radius: var(--radius); border: 1px solid var(--gray-200); box-shadow: var(--shadow); padding: 28px; max-width: 500px; }
  .payment-summary { background: var(--gray-50); border-radius: 8px; padding: 16px; margin-bottom: 20px; }
  .payment-summary .ps-row { display: flex; justify-content: space-between; padding: 4px 0; font-size: 14px; }
  .payment-summary .ps-total { font-weight: 800; font-size: 16px; color: var(--primary); border-top: 2px solid var(--gray-200); padding-top: 8px; margin-top: 8px; }
  .current-plan-box { background: var(--primary-light); border: 2px solid var(--primary); border-radius: var(--radius); padding: 20px; text-align: center; margin-bottom: 24px; }
  .current-plan-box .cp-plan { font-size: 22px; font-weight: 800; color: var(--primary); }
  .current-plan-box .cp-exp { font-size: 13px; color: var(--gray-500); margin-top: 4px; }
  /* Í≤∞Ï†ú ÏïàÎÇ¥ */
  .pay-guide-section { margin-bottom: 28px; }
  .pay-guide-section:last-child { margin-bottom: 0; }
  .pay-guide-section h4 { font-size: 16px; font-weight: 700; color: var(--gray-800); margin-bottom: 14px; padding-bottom: 8px; border-bottom: 2px solid var(--primary); }
  .pay-guide-item { display: flex; gap: 14px; padding: 12px 0; border-bottom: 1px solid var(--gray-100); }
  .pay-guide-item:last-child { border-bottom: none; }
  .pay-guide-icon { width: 36px; height: 36px; background: var(--primary-light); color: var(--primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: 800; flex-shrink: 0; }
  .pay-guide-item strong { font-size: 14px; color: var(--gray-800); display: block; margin-bottom: 4px; }
  .pay-guide-item p { font-size: 13px; color: var(--gray-500); line-height: 1.6; margin: 0; }
  .pay-guide-steps { display: flex; flex-direction: column; gap: 8px; }
  .pay-step { display: flex; align-items: center; gap: 12px; padding: 10px 14px; background: var(--gray-50); border-radius: 8px; font-size: 14px; color: var(--gray-700); }
  .pay-step-num { font-size: 16px; font-weight: 800; color: var(--primary); flex-shrink: 0; }
  .pay-faq-item { border: 1px solid var(--gray-200); border-radius: 8px; margin-bottom: 8px; overflow: hidden; cursor: pointer; transition: all 0.2s; }
  .pay-faq-item:hover { border-color: var(--primary); }
  .pay-faq-item.open { border-color: var(--primary); background: var(--primary-light); }
  .pay-faq-q { padding: 14px 16px; font-size: 14px; font-weight: 600; color: var(--gray-800); display: flex; align-items: center; gap: 8px; }
  .pay-faq-q span { color: var(--primary); font-weight: 800; font-size: 15px; }
  .pay-faq-a { padding: 0 16px 0 40px; font-size: 13px; color: var(--gray-600); line-height: 1.7; max-height: 0; overflow: hidden; transition: max-height 0.3s ease, padding 0.3s ease; }
  .pay-faq-item.open .pay-faq-a { max-height: 200px; padding: 0 16px 14px 40px; }
  @media (max-width: 768px) {
    .hero { padding: 32px 20px; } .hero h1 { font-size: 24px; }
    .calc-grid, .form-row, .form-row-3 { grid-template-columns: 1fr; }
    .stat-grid { grid-template-columns: 1fr 1fr; }
    .nav-inner { padding: 0 12px; } .logo { font-size: 16px; margin-right: 12px; }
    .container { padding: 20px 12px; }
    .reg-tabs { flex-direction: column; }
    .reg-tab:not(:last-child) { border-right: none; border-bottom: 1px solid var(--gray-200); }
    .analyzer-tabs { flex-direction: column; }
    .analyzer-tab:not(:last-child) { border-right: none; border-bottom: 1px solid var(--gray-200); }
    .result-summary-bar { flex-direction: column; }
    .reg-summary-grid { grid-template-columns: 1fr; }
    .home-countdown { flex-direction: column; text-align: center; padding: 20px; }
    .countdown-numbers { justify-content: center; }
    .countdown-box { min-width: 50px; padding: 10px 12px; }
    .countdown-box .num { font-size: 22px; }
    .home-reg-grid { grid-template-columns: 1fr; }
    .home-election-selector { flex-direction: column; }
    .home-elec-btn { text-align: center; }
    .home-period-header { flex-wrap: wrap; }
    .auth-body { padding: 20px; }
    .auth-header { padding: 24px 20px; }
    .user-bar .user-name { display: none; }
    .staff-item { flex-wrap: wrap; }
    .staff-actions { width: 100%; justify-content: flex-end; margin-top: 8px; }
    .perm-grid { grid-template-columns: 1fr 1fr; }
    .pricing-grid { grid-template-columns: 1fr; }
    .upgrade-banner { flex-direction: column; text-align: center; }
    .admin-stats-grid { grid-template-columns: repeat(2, 1fr); }
    .admin-tab-content .info-table { font-size: 12px; }
    .admin-chart-row { grid-template-columns: 1fr; }
  }
  /* Í¥ÄÎ¶¨Ïûê Î≤ÑÌäº (Î≥ÑÎèÑ ‚Äî Ìï≠ÏÉÅ ÌëúÏãú) */
  #adminBtnWrap { display: flex; margin-left: 4px; }
  #adminBtn { padding: 6px 14px; border: 2px solid #1e293b; border-radius: 8px; background: linear-gradient(135deg, #1e293b 0%, #334155 100%); color: #fff; font-size: 12px; font-weight: 800; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; gap: 5px; white-space: nowrap; letter-spacing: 0.5px; }
  #adminBtn:hover { transform: translateY(-1px); box-shadow: 0 4px 8px rgba(30,41,59,0.3); }
  #adminBtn .admin-icon { font-size: 14px; }
  /* Í¥ÄÎ¶¨Ïûê Î°úÍ∑∏Ïù∏ Î™®Îã¨ */
  .admin-login-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.6); z-index: 9999; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(4px); animation: fadeIn 0.2s ease; }
  .admin-login-box { background: white; border-radius: 16px; width: 380px; max-width: 90vw; overflow: hidden; box-shadow: 0 20px 60px rgba(0,0,0,0.3); }
  .admin-login-header { background: linear-gradient(135deg, #1e293b 0%, #334155 100%); color: white; padding: 28px 28px 20px; text-align: center; }
  .admin-login-header .alh-icon { font-size: 40px; margin-bottom: 8px; display: block; }
  .admin-login-header h3 { font-size: 18px; font-weight: 800; }
  .admin-login-header p { font-size: 12px; opacity: 0.7; margin-top: 4px; }
  .admin-login-body { padding: 24px 28px 20px; }
  .admin-login-body .form-group { margin-bottom: 14px; }
  .admin-login-body .form-group label { font-size: 12px; font-weight: 700; color: #334155; margin-bottom: 4px; display: block; }
  .admin-login-body .form-group input { width: 100%; padding: 10px 14px; border: 2px solid var(--gray-200); border-radius: 8px; font-size: 14px; transition: border-color 0.2s; }
  .admin-login-body .form-group input:focus { outline: none; border-color: #1e293b; box-shadow: 0 0 0 3px rgba(30,41,59,0.1); }
  .admin-login-msg { font-size: 12px; padding: 8px 12px; border-radius: 6px; margin-bottom: 12px; display: none; }
  .admin-login-msg.error { display: block; background: #fee2e2; color: #991b1b; border: 1px solid #fecaca; }
  .admin-login-footer { padding: 0 28px 24px; display: flex; gap: 10px; }
  .admin-login-footer button { flex: 1; padding: 11px; border: none; border-radius: 8px; font-size: 14px; font-weight: 700; cursor: pointer; transition: all 0.2s; }
  .admin-login-footer .abl-cancel { background: var(--gray-100); color: var(--gray-700); }
  .admin-login-footer .abl-cancel:hover { background: var(--gray-200); }
  .admin-login-footer .abl-submit { background: linear-gradient(135deg, #1e293b, #334155); color: white; }
  .admin-login-footer .abl-submit:hover { transform: translateY(-1px); box-shadow: 0 4px 8px rgba(30,41,59,0.3); }
  /* Í¥ÄÎ¶¨Ïûê ÌéòÏù¥ÏßÄ */
  .admin-header { background: linear-gradient(135deg, #1e293b 0%, #334155 100%); color: white; border-radius: var(--radius); padding: 28px 32px; margin-bottom: 24px; display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 16px; }
  .admin-header h1 { font-size: 24px; font-weight: 800; display: flex; align-items: center; gap: 10px; }
  .admin-header .admin-badge { background: rgba(255,255,255,0.15); padding: 4px 12px; border-radius: 6px; font-size: 12px; font-weight: 600; }
  .admin-header .admin-actions { display: flex; gap: 8px; }
  .admin-header .admin-actions button { padding: 8px 16px; border: 1px solid rgba(255,255,255,0.3); border-radius: 8px; background: rgba(255,255,255,0.1); color: white; font-size: 13px; font-weight: 600; cursor: pointer; transition: all 0.2s; }
  .admin-header .admin-actions button:hover { background: rgba(255,255,255,0.2); }
  .admin-stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 24px; }
  .admin-stat { background: white; border-radius: var(--radius); padding: 20px; box-shadow: var(--shadow); border: 1px solid var(--gray-200); position: relative; overflow: hidden; }
  .admin-stat::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 4px; }
  .admin-stat.st-users::before { background: var(--primary); }
  .admin-stat.st-camps::before { background: var(--success); }
  .admin-stat.st-active::before { background: var(--accent); }
  .admin-stat.st-plans::before { background: #7c3aed; }
  .admin-stat .stat-icon { font-size: 32px; margin-bottom: 8px; }
  .admin-stat .stat-val { font-size: 28px; font-weight: 800; color: var(--gray-900); }
  .admin-stat .stat-lbl { font-size: 13px; color: var(--gray-500); margin-top: 2px; }
  .admin-stat .stat-change { font-size: 11px; font-weight: 600; margin-top: 6px; }
  .admin-stat .stat-change.up { color: var(--success); }
  .admin-stat .stat-change.down { color: var(--danger); }
  .admin-tabs { display: flex; gap: 0; border-bottom: 2px solid var(--gray-200); margin-bottom: 24px; }
  .admin-tab { padding: 12px 20px; border: none; background: none; color: var(--gray-500); font-size: 14px; font-weight: 600; cursor: pointer; border-bottom: 3px solid transparent; margin-bottom: -2px; transition: all 0.2s; display: flex; align-items: center; gap: 6px; }
  .admin-tab:hover { color: var(--primary); }
  .admin-tab.active { color: var(--primary); border-bottom-color: var(--primary); }
  .admin-tab .tab-count { background: var(--gray-100); color: var(--gray-700); font-size: 11px; font-weight: 700; padding: 1px 7px; border-radius: 10px; }
  .admin-tab.active .tab-count { background: var(--primary-light); color: var(--primary); }
  .admin-tab-content { display: none; }
  .admin-tab-content.active { display: block; animation: fadeIn 0.2s ease; }
  .admin-toolbar { display: flex; align-items: center; gap: 10px; margin-bottom: 16px; flex-wrap: wrap; }
  .admin-search { padding: 8px 14px; border: 1px solid var(--gray-300); border-radius: 8px; font-size: 13px; min-width: 240px; }
  .admin-search:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(26,86,219,0.1); }
  .admin-filter { padding: 7px 12px; border: 1px solid var(--gray-300); border-radius: 8px; font-size: 13px; background: white; }
  .admin-table { width: 100%; border-collapse: collapse; font-size: 13px; background: white; border-radius: var(--radius); overflow: hidden; box-shadow: var(--shadow); border: 1px solid var(--gray-200); }
  .admin-table thead { background: var(--gray-50); }
  .admin-table th { padding: 12px 14px; text-align: left; font-weight: 700; color: var(--gray-700); border-bottom: 2px solid var(--gray-200); white-space: nowrap; }
  .admin-table td { padding: 10px 14px; border-bottom: 1px solid var(--gray-100); }
  .admin-table tr:hover td { background: var(--gray-50); }
  .admin-table .user-cell { display: flex; align-items: center; gap: 8px; }
  .admin-table .user-avatar { width: 32px; height: 32px; border-radius: 50%; background: var(--primary-light); display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: 700; color: var(--primary); flex-shrink: 0; }
  .admin-table .action-btns { display: flex; gap: 4px; }
  .admin-table .action-btns button { padding: 4px 10px; border: 1px solid var(--gray-200); border-radius: 6px; background: white; font-size: 11px; cursor: pointer; transition: all 0.15s; }
  .admin-table .action-btns button:hover { border-color: var(--primary); color: var(--primary); }
  .admin-table .action-btns button.del-btn:hover { border-color: var(--danger); color: var(--danger); }
  .admin-chart-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 24px; }
  .admin-chart-card { background: white; border-radius: var(--radius); padding: 20px; box-shadow: var(--shadow); border: 1px solid var(--gray-200); }
  .admin-chart-card h4 { font-size: 15px; font-weight: 700; margin-bottom: 16px; color: var(--gray-900); display: flex; align-items: center; gap: 8px; }
  .admin-bar-chart { display: flex; flex-direction: column; gap: 10px; }
  .admin-bar-item { display: flex; align-items: center; gap: 10px; }
  .admin-bar-label { font-size: 12px; font-weight: 600; color: var(--gray-700); min-width: 80px; text-align: right; }
  .admin-bar-track { flex: 1; height: 24px; background: var(--gray-100); border-radius: 6px; overflow: hidden; position: relative; }
  .admin-bar-fill { height: 100%; border-radius: 6px; transition: width 0.6s ease; display: flex; align-items: center; padding-left: 8px; font-size: 11px; font-weight: 700; color: white; min-width: fit-content; }
  .admin-bar-val { font-size: 12px; font-weight: 700; color: var(--gray-700); min-width: 32px; }
  .admin-log { max-height: 400px; overflow-y: auto; border: 1px solid var(--gray-200); border-radius: var(--radius); background: white; }
  .admin-log-item { padding: 10px 16px; border-bottom: 1px solid var(--gray-100); display: flex; align-items: flex-start; gap: 10px; font-size: 13px; }
  .admin-log-item:last-child { border-bottom: none; }
  .admin-log-item:hover { background: var(--gray-50); }
  .admin-log-time { font-size: 11px; color: var(--gray-500); white-space: nowrap; min-width: 80px; }
  .admin-log-icon { font-size: 16px; flex-shrink: 0; }
  .admin-log-text { flex: 1; line-height: 1.5; }
  .admin-log-text strong { color: var(--primary); }
  .admin-empty { text-align: center; padding: 40px; color: var(--gray-500); font-size: 14px; }
  .admin-empty .empty-icon { font-size: 48px; margin-bottom: 12px; display: block; }
  .admin-pagination { display: flex; align-items: center; justify-content: center; gap: 4px; margin-top: 16px; }
  .admin-pagination button { padding: 6px 12px; border: 1px solid var(--gray-200); border-radius: 6px; background: white; font-size: 12px; cursor: pointer; transition: all 0.15s; }
  .admin-pagination button.active { background: var(--primary); color: white; border-color: var(--primary); }
  .admin-pagination button:hover:not(.active) { border-color: var(--primary); color: var(--primary); }
  .admin-settings-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
  .admin-setting-card { background: white; border-radius: var(--radius); padding: 20px; box-shadow: var(--shadow); border: 1px solid var(--gray-200); }
  .admin-setting-card h4 { font-size: 15px; font-weight: 700; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }
  .admin-setting-row { display: flex; align-items: center; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid var(--gray-100); }
  .admin-setting-row:last-child { border-bottom: none; }
  .admin-setting-row label { font-size: 13px; font-weight: 500; color: var(--gray-700); }
  .admin-toggle { position: relative; width: 44px; height: 24px; }
  .admin-toggle input { opacity: 0; width: 0; height: 0; }
  .admin-toggle .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background: var(--gray-300); border-radius: 12px; transition: 0.3s; }
  .admin-toggle .slider::before { content: ''; position: absolute; height: 18px; width: 18px; left: 3px; bottom: 3px; background: white; border-radius: 50%; transition: 0.3s; }
  .admin-toggle input:checked + .slider { background: var(--primary); }
  .admin-toggle input:checked + .slider::before { transform: translateX(20px); }
</style>
</head>
<body>

<nav style="position:sticky;top:0;z-index:100;">
  <div class="nav-party-bar" id="navPartyBar" style="display:none;"></div>
  <div class="nav-inner">
    <div class="party-indicator" id="partyIndicator" style="display:none;"></div>
    <div class="logo" onclick="showPage('home')">ÏÑ†Í±∞<span>ÎèÑÏö∞ÎØ∏</span></div>
    <div class="nav-links">
      <button class="nav-link active" data-page="home">Ìôà</button>
      <button class="nav-link" data-page="calculator">ÎπÑÏö© Í≥ÑÏÇ∞Í∏∞</button>
      <button class="nav-link" data-page="timeline">ÏÑ†Í±∞ ÏùºÏ†ï</button>
      <button class="nav-link" data-page="regulations">ÏÑ†Í±∞Ïö¥Îèô Í∑úÏ†ï</button>
      <button class="nav-link" data-page="pledge">Í≥µÏïΩ ÏûëÏÑ±</button>
      <button class="nav-link" data-page="checklist">Ï§ÄÎπÑ Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏</button>
      <button class="nav-link" data-page="pricing">üíé ÏöîÍ∏àÏ†ú</button>
      <button class="nav-link nav-profile-btn" data-page="profile" style="display:none;">ÎÇ¥ ÌîÑÎ°úÌïÑ</button>
    </div>
    <div class="user-bar" id="userBar">
      <button class="user-btn" onclick="showPage('login')">Î°úÍ∑∏Ïù∏</button>
      <button class="user-btn" onclick="showPage('register')" style="background:var(--primary);color:white;border-color:var(--primary);">ÌöåÏõêÍ∞ÄÏûÖ</button>
    </div>
  </div>
</nav>

<div class="container">

<!-- ==================== REGISTER ==================== -->
<div id="page-register" class="page">
  <div class="auth-wrapper">
    <div class="auth-card">
      <div class="auth-header">
        <div class="auth-logo">üó≥Ô∏è</div>
        <h2>ÌöåÏõêÍ∞ÄÏûÖ</h2>
        <p>ÏÑ†Í±∞ÎèÑÏö∞ÎØ∏Ïóê Í∞ÄÏûÖÌïòÍ≥† ÎßûÏ∂§ ÏÑúÎπÑÏä§Î•º Ïù¥Ïö©ÌïòÏÑ∏Ïöî</p>
      </div>
      <div class="auth-body">
        <div class="auth-msg" id="registerMsg"></div>

        <div class="form-group">
          <label>Ïù¥Î¶Ñ (Ïã§Î™Ö) *</label>
          <input type="text" id="regName" placeholder="ÌôçÍ∏∏Îèô" maxlength="20">
        </div>

        <div class="form-group">
          <label>Ïù¥Î©îÏùº *</label>
          <input type="email" id="regEmail" placeholder="example@email.com">
        </div>

        <div class="form-group">
          <label>Ìú¥ÎåÄÏ†ÑÌôî *</label>
          <input type="tel" id="regPhone" placeholder="010-0000-0000" maxlength="13" oninput="formatPhone(this)">
        </div>

        <div class="form-group">
          <label>ÎπÑÎ∞ÄÎ≤àÌò∏ * <span style="font-size:11px; color:var(--gray-500);">(8Ïûê Ïù¥ÏÉÅ, ÏòÅÎ¨∏+Ïà´Ïûê+ÌäπÏàòÎ¨∏Ïûê)</span></label>
          <input type="password" id="regPassword" placeholder="ÎπÑÎ∞ÄÎ≤àÌò∏ ÏûÖÎ†•" oninput="checkPwStrength(this.value)">
          <div class="pw-strength" id="pwStrengthBar"></div>
          <div class="pw-strength-text" id="pwStrengthText"></div>
        </div>

        <div class="form-group">
          <label>ÎπÑÎ∞ÄÎ≤àÌò∏ ÌôïÏù∏ *</label>
          <input type="password" id="regPasswordConfirm" placeholder="ÎπÑÎ∞ÄÎ≤àÌò∏ Ïû¨ÏûÖÎ†•">
        </div>

        <div class="auth-divider">Í∞ÄÏûÖ Ïú†Ìòï</div>

        <div class="form-group">
          <label>ÏßÅÏ±Ö ÏÑ†ÌÉù *</label>
          <select id="regRole" onchange="onRegRoleChange()">
            <option value="candidate">ÌõÑÎ≥¥Ïûê (Ï∫†ÌîÑ ÎåÄÌëú)</option>
            <option value="manager">ÏÑ†Í±∞ÏÇ¨Î¨¥Ïû•</option>
            <option value="accountant">ÌöåÍ≥ÑÏ±ÖÏûÑÏûê</option>
            <option value="secretary">ÎπÑÏÑú¬∑ÏàòÌñâ</option>
            <option value="volunteer">ÏûêÏõêÎ¥âÏÇ¨Ïûê¬∑ÏÑ†Í±∞Ïö¥ÎèôÏõê</option>
            <option value="observer">Ï∞∏Í¥ÄÏù∏¬∑ÏßÄÏßÄÏûê</option>
          </select>
          <div style="font-size:11px; color:var(--gray-500); margin-top:4px;" id="regRoleDesc">ÌõÑÎ≥¥ÏûêÎ°ú Í∞ÄÏûÖÌïòÎ©¥ Ï∫†ÌîÑÎ•º ÏÉùÏÑ±ÌïòÍ≥† Ïä§ÌÉúÌîÑÎ•º Ï¥àÎåÄÌï† Ïàò ÏûàÏäµÎãàÎã§.</div>
        </div>

        <div class="form-group" id="regInviteGroup" style="display:none;">
          <label>Ï¥àÎåÄ ÏΩîÎìú * <span style="font-size:11px; color:var(--gray-500);">(ÌõÑÎ≥¥ÏûêÏóêÍ≤å Î∞õÏùÄ ÏΩîÎìú)</span></label>
          <input type="text" id="regInviteCode" placeholder="Ïòà: ABC123" maxlength="8" style="text-transform:uppercase; letter-spacing:2px; font-weight:700; font-family:monospace;">
        </div>

        <div class="auth-divider">ÏÑ†Í±∞ Ï†ïÎ≥¥</div>

        <div class="form-row">
          <div class="form-group">
            <label>Ï∂úÎßà ÏòàÏ†ï ÏÑ†Í±∞</label>
            <select id="regElecType">
              <option value="">-- ÏÑ†ÌÉù (ÏÑ†ÌÉùÏÇ¨Ìï≠) --</option>
              <option value="city_council">Í∏∞Ï¥àÏùòÏõê (Ïãú¬∑Íµ∞¬∑Íµ¨ÏùòÌöå)</option>
              <option value="metro_council">Í¥ëÏó≠ÏùòÏõê (Ïãú¬∑ÎèÑÏùòÌöå)</option>
              <option value="city_mayor">Í∏∞Ï¥àÎã®Ï≤¥Ïû• (ÏãúÏû•¬∑Íµ∞Ïàò¬∑Íµ¨Ï≤≠Ïû•)</option>
              <option value="governor">Í¥ëÏó≠Îã®Ï≤¥Ïû• (Ïãú¬∑ÎèÑÏßÄÏÇ¨)</option>
              <option value="assembly">Íµ≠ÌöåÏùòÏõê</option>
            </select>
          </div>
          <div class="form-group">
            <label>ÏÜåÏÜç Ï†ïÎãπ</label>
            <select id="regParty" onchange="previewPartyTheme(this.value)">
              <option value="">-- ÏÑ†ÌÉù (ÏÑ†ÌÉùÏÇ¨Ìï≠) --</option>
              <option value="ÎçîÎ∂àÏñ¥ÎØºÏ£ºÎãπ">ÎçîÎ∂àÏñ¥ÎØºÏ£ºÎãπ</option>
              <option value="Íµ≠ÎØºÏùòÌûò">Íµ≠ÎØºÏùòÌûò</option>
              <option value="Ï°∞Íµ≠ÌòÅÏã†Îãπ">Ï°∞Íµ≠ÌòÅÏã†Îãπ</option>
              <option value="Í∞úÌòÅÏã†Îãπ">Í∞úÌòÅÏã†Îãπ</option>
              <option value="ÏßÑÎ≥¥Îãπ">ÏßÑÎ≥¥Îãπ</option>
              <option value="ÏÉàÎ°úÏö¥ÎØ∏Îûò">ÏÉàÎ°úÏö¥ÎØ∏Îûò</option>
              <option value="Î¨¥ÏÜåÏÜç">Î¨¥ÏÜåÏÜç</option>
              <option value="Í∏∞ÌÉÄ">Í∏∞ÌÉÄ</option>
            </select>
            <div class="party-select-preview" id="regPartyPreview" style="display:none;">
              <div class="party-preview-dot" id="regPartyDot"></div>
              <span class="party-preview-text" id="regPartyText"></span>
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Ïãú¬∑ÎèÑ</label>
            <select id="regSido" onchange="onRegSidoChange()">
              <option value="">-- ÏÑ†ÌÉù (ÏÑ†ÌÉùÏÇ¨Ìï≠) --</option>
            </select>
          </div>
          <div class="form-group">
            <label>Ïãú¬∑Íµ∞¬∑Íµ¨</label>
            <select id="regSigungu">
              <option value="">-- ÏÑ†ÌÉù --</option>
            </select>
          </div>
        </div>

        <div class="auth-terms">
          <input type="checkbox" id="regTerms">
          <label for="regTerms">
            <a onclick="showPage('terms')" style="font-weight:700;cursor:pointer;text-decoration:underline;">Ïù¥Ïö©ÏïΩÍ¥Ä</a> Î∞è <a onclick="showPage('privacy')" style="font-weight:700;cursor:pointer;text-decoration:underline;">Í∞úÏù∏Ï†ïÎ≥¥Ï≤òÎ¶¨Î∞©Ïπ®</a>Ïóê ÎèôÏùòÌï©ÎãàÎã§. ÏûÖÎ†•Îêú Ï†ïÎ≥¥Îäî Í∏∞Í∏∞ÏóêÎßå Ï†ÄÏû•ÎêòÎ©∞ Ïô∏Î∂ÄÎ°ú Ï†ÑÏÜ°ÎêòÏßÄ ÏïäÏäµÎãàÎã§.
          </label>
        </div>

        <button class="auth-btn" onclick="doRegister()" style="margin-top:16px;">ÌöåÏõêÍ∞ÄÏûÖ</button>
      </div>
      <div class="auth-footer">
        Ïù¥ÎØ∏ Í≥ÑÏ†ïÏù¥ ÏûàÏúºÏã†Í∞ÄÏöî? <a onclick="showPage('login')">Î°úÍ∑∏Ïù∏</a>
      </div>
    </div>
  </div>
</div>

<!-- ==================== LOGIN ==================== -->
<div id="page-login" class="page">
  <div class="auth-wrapper">
    <div class="auth-card">
      <div class="auth-header">
        <div class="auth-logo">üó≥Ô∏è</div>
        <h2>Î°úÍ∑∏Ïù∏</h2>
        <p>ÏÑ†Í±∞ÎèÑÏö∞ÎØ∏Ïóê Î°úÍ∑∏Ïù∏ÌïòÏÑ∏Ïöî</p>
      </div>
      <div class="auth-body">
        <div class="auth-msg" id="loginMsg"></div>

        <div class="form-group">
          <label>Ïù¥Î©îÏùº</label>
          <input type="email" id="loginEmail" placeholder="example@email.com">
        </div>

        <div class="form-group">
          <label>ÎπÑÎ∞ÄÎ≤àÌò∏</label>
          <input type="password" id="loginPassword" placeholder="ÎπÑÎ∞ÄÎ≤àÌò∏ ÏûÖÎ†•" onkeydown="if(event.key==='Enter') doLogin()">
        </div>

        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:8px;">
          <label style="font-size:12px; color:var(--gray-500); display:flex; align-items:center; gap:4px;">
            <input type="checkbox" id="loginRemember"> Ïù¥Î©îÏùº Í∏∞ÏñµÌïòÍ∏∞
          </label>
          <a style="font-size:12px; color:var(--primary); cursor:pointer;" onclick="showFindPassword()">ÎπÑÎ∞ÄÎ≤àÌò∏ Ï∞æÍ∏∞</a>
        </div>

        <button class="auth-btn" onclick="doLogin()">Î°úÍ∑∏Ïù∏</button>
      </div>
      <div class="auth-footer">
        Í≥ÑÏ†ïÏù¥ ÏóÜÏúºÏã†Í∞ÄÏöî? <a onclick="showPage('register')">ÌöåÏõêÍ∞ÄÏûÖ</a>
      </div>
    </div>
  </div>
</div>

<!-- ==================== MY PAGE ==================== -->
<div id="page-mypage" class="page">
  <h2 style="font-size:24px; margin-bottom:8px;">üë§ ÎßàÏù¥ÌéòÏù¥ÏßÄ</h2>
  <p style="color:var(--gray-500); margin-bottom:24px;">ÌöåÏõê Ï†ïÎ≥¥Î•º ÌôïÏù∏ÌïòÍ≥† Ï∫†ÌîÑÎ•º Í¥ÄÎ¶¨ÌïòÏÑ∏Ïöî.</p>

  <!-- Ï†ëÏÜç ÌòÑÌô© -->
  <div class="online-panel" id="onlinePanel">
    <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:12px;">
      <h3 style="font-size:16px; font-weight:700;">üü¢ ÌòÑÏû¨ Ï†ëÏÜç ÌòÑÌô©</h3>
      <span style="font-size:12px; color:var(--gray-500);" id="onlineCount"></span>
    </div>
    <div class="online-users" id="onlineUsers"></div>
  </div>

  <!-- ÎÇ¥ Ï†ïÎ≥¥ -->
  <div class="card" style="margin-bottom:24px;">
    <div class="card-title">ÎÇ¥ Ï†ïÎ≥¥</div>
    <div id="mypageInfo"></div>
  </div>

  <!-- Ïä§ÌÉúÌîÑ Ï¥àÎåÄ (ÌõÑÎ≥¥ÏûêÎßå) -->
  <div class="card" style="margin-bottom:24px;" id="inviteSection" style="display:none;">
    <div class="card-title">üì® Ïä§ÌÉúÌîÑ Ï¥àÎåÄ</div>
    <p style="font-size:13px; color:var(--gray-500); margin-bottom:16px;">ÏïÑÎûò Ï¥àÎåÄ ÏΩîÎìúÎ•º Ïä§ÌÉúÌîÑÏóêÍ≤å Í≥µÏú†ÌïòÏÑ∏Ïöî. ÌöåÏõêÍ∞ÄÏûÖ Ïãú Ïù¥ ÏΩîÎìúÎ•º ÏûÖÎ†•ÌïòÎ©¥ ÎÇ¥ Ï∫†ÌîÑÏóê Ìï©Î•òÌï©ÎãàÎã§.</p>
    <div class="invite-code-box">
      <div style="font-size:13px; color:var(--gray-500);">ÎÇ¥ Ï∫†ÌîÑ Ï¥àÎåÄ ÏΩîÎìú</div>
      <div class="code" id="myInviteCode">------</div>
      <button class="btn btn-primary btn-sm" onclick="copyInviteCode()" style="margin-top:8px;">üìã ÏΩîÎìú Î≥µÏÇ¨</button>
      <button class="btn btn-outline btn-sm" onclick="regenerateInviteCode()" style="margin-top:8px;">üîÑ ÏΩîÎìú Ïû¨ÏÉùÏÑ±</button>
    </div>
  </div>

  <!-- Ïä§ÌÉúÌîÑ Î™©Î°ù (ÌõÑÎ≥¥ÏûêÎßå) -->
  <div class="card" style="margin-bottom:24px;" id="staffSection" style="display:none;">
    <div class="card-title">üë• Ï∫†ÌîÑ Ïä§ÌÉúÌîÑ Í¥ÄÎ¶¨</div>
    <div id="staffList"></div>
  </div>

  <!-- ÎÇ¥ Í∂åÌïú (Ïä§ÌÉúÌîÑ) -->
  <div class="card" style="margin-bottom:24px;" id="myPermSection" style="display:none;">
    <div class="card-title">üîë ÎÇ¥ Ï†ëÍ∑º Í∂åÌïú</div>
    <div id="myPermList"></div>
  </div>

  <!-- ÎπÑÎ∞ÄÎ≤àÌò∏ Î≥ÄÍ≤Ω -->
  <div class="card" style="margin-bottom:24px;">
    <div class="card-title">ÎπÑÎ∞ÄÎ≤àÌò∏ Î≥ÄÍ≤Ω</div>
    <div class="auth-msg" id="pwChangeMsg"></div>
    <div class="form-group">
      <label>ÌòÑÏû¨ ÎπÑÎ∞ÄÎ≤àÌò∏</label>
      <input type="password" id="pwCurrent" placeholder="ÌòÑÏû¨ ÎπÑÎ∞ÄÎ≤àÌò∏">
    </div>
    <div class="form-group">
      <label>ÏÉà ÎπÑÎ∞ÄÎ≤àÌò∏</label>
      <input type="password" id="pwNew" placeholder="ÏÉà ÎπÑÎ∞ÄÎ≤àÌò∏ (8Ïûê Ïù¥ÏÉÅ)">
    </div>
    <div class="form-group">
      <label>ÏÉà ÎπÑÎ∞ÄÎ≤àÌò∏ ÌôïÏù∏</label>
      <input type="password" id="pwNewConfirm" placeholder="ÏÉà ÎπÑÎ∞ÄÎ≤àÌò∏ Ïû¨ÏûÖÎ†•">
    </div>
    <button class="btn btn-primary" onclick="changePassword()">ÎπÑÎ∞ÄÎ≤àÌò∏ Î≥ÄÍ≤Ω</button>
  </div>

  <div class="card">
    <div class="card-title" style="color:var(--danger);">ÌöåÏõê ÌÉàÌá¥</div>
    <p style="font-size:13px; color:var(--gray-500); margin-bottom:12px;">ÌÉàÌá¥ Ïãú Î™®Îì† Îç∞Ïù¥ÌÑ∞Í∞Ä ÏÇ≠Ï†úÎêòÎ©∞ Î≥µÍµ¨Ìï† Ïàò ÏóÜÏäµÎãàÎã§.</p>
    <button class="btn btn-danger btn-sm" onclick="deleteAccount()">ÌöåÏõê ÌÉàÌá¥</button>
  </div>
</div>

<!-- ==================== PRICING ==================== -->
<div id="page-pricing" class="page">
  <h2 style="font-size:24px; margin-bottom:4px;">üíé ÏöîÍ∏àÏ†ú ÏÑ†ÌÉù</h2>
  <p style="color:var(--gray-500); margin-bottom:24px;">ÏÑ§Ïπò ÌõÑ <strong>7ÏùºÍ∞Ñ Î™®Îì† Í∏∞Îä•ÏùÑ Î¨¥Î£å</strong>Î°ú Ï≤¥ÌóòÌïòÏã§ Ïàò ÏûàÏäµÎãàÎã§. Ï≤¥Ìóò ÌõÑ ÌïÑÏöîÏóê ÎßûÎäî ÏöîÍ∏àÏ†úÎ•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî.</p>

  <!-- Ï≤¥Ìóò Í∏∞Í∞Ñ Î∞∞ÎÑà -->
  <div id="trialBanner"></div>

  <!-- ÌòÑÏû¨ ÌîåÎûú -->
  <div class="current-plan-box" id="currentPlanBox"></div>

  <!-- ÏöîÍ∏à Ïπ¥Îìú -->
  <div class="pricing-grid">
    <!-- FREE -->
    <div class="pricing-card">
      <div class="pricing-header">
        <div class="plan-icon">üÜì</div>
        <h3>Î¨¥Î£å(Free)</h3>
        <div class="plan-desc">Í∏∞Î≥∏ Í∏∞Îä•ÏúºÎ°ú ÏãúÏûëÌïòÏÑ∏Ïöî</div>
      </div>
      <div class="pricing-price">
        <span class="amount">‚Ç©0</span>
        <span class="period">/ ÏòÅÍµ¨ Î¨¥Î£å</span>
      </div>
      <div class="pricing-features">
        <ul>
          <li><span class="check">‚úì</span> ÏÑ†Í±∞ ÏùºÏ†ï ÌÉÄÏûÑÎùºÏù∏</li>
          <li><span class="check">‚úì</span> ÏÑ†Í±∞Ïö¥Îèô Í∑úÏ†ï ÏïàÎÇ¥</li>
          <li><span class="check">‚úì</span> Í∏∞Î≥∏ ÎπÑÏö© Í≥ÑÏÇ∞Í∏∞</li>
          <li><span class="check">‚úì</span> Í∏∞Í∞ÑÎ≥Ñ Í∑úÏ†ï ÏöîÏïΩ (Ìôà)</li>
          <li class="disabled"><span class="lock">‚úó</span> Ï†ÅÎ≤ïÏÑ± Î∂ÑÏÑùÍ∏∞ (3Ìöå/Ïùº)</li>
          <li class="disabled"><span class="lock">‚úó</span> Í≥µÏïΩ ÏûëÏÑ± ÎèÑÍµ¨</li>
          <li class="disabled"><span class="lock">‚úó</span> Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏</li>
          <li class="disabled"><span class="lock">‚úó</span> Ïä§ÌÉúÌîÑ Ï¥àÎåÄ (1Î™Ö)</li>
          <li class="disabled"><span class="lock">‚úó</span> ÌîÑÎ°úÌïÑ Ï†ÄÏû•</li>
        </ul>
      </div>
      <div class="pricing-action">
        <button class="btn-free" id="btnPlanFree" onclick="selectPlan('free')">ÌòÑÏû¨ ÌîåÎûú</button>
      </div>
    </div>

    <!-- PRO -->
    <div class="pricing-card popular">
      <div class="pricing-header">
        <div class="plan-icon">‚≠ê</div>
        <h3>ÌîÑÎ°ú(Pro)</h3>
        <div class="plan-desc">Î≥∏Í≤©Ï†ÅÏù∏ ÏÑ†Í±∞ Ï§ÄÎπÑÏóê ÌïÑÏöîÌïú Î™®Îì† Í∏∞Îä•</div>
      </div>
      <div class="pricing-price">
        <span class="original">‚Ç©29,000</span>
        <span class="amount">‚Ç©19,000</span>
        <span class="period">/ Ïõî</span>
      </div>
      <div class="pricing-features">
        <ul>
          <li><span class="check">‚úì</span> Î¨¥Î£å ÌîåÎûú Í∏∞Îä• Ï†ÑÎ∂Ä Ìè¨Ìï®</li>
          <li><span class="check">‚úì</span> <strong>Ï†ÅÎ≤ïÏÑ± Î∂ÑÏÑùÍ∏∞ Î¨¥Ï†úÌïú</strong></li>
          <li><span class="check">‚úì</span> <strong>Í≥µÏïΩ ÏûëÏÑ± ÎèÑÍµ¨</strong></li>
          <li><span class="check">‚úì</span> <strong>ÏÑ†Í±∞ Ï§ÄÎπÑ Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏</strong></li>
          <li><span class="check">‚úì</span> <strong>ÌîÑÎ°úÌïÑ Ï†ÄÏû•¬∑Í¥ÄÎ¶¨</strong></li>
          <li><span class="check">‚úì</span> ÎπÑÏö© ÏÉÅÏÑ∏ Î∂ÑÏÑù¬∑Î¶¨Ìè¨Ìä∏</li>
          <li><span class="check">‚úì</span> Ïä§ÌÉúÌîÑ Ï¥àÎåÄ (5Î™Ö)</li>
          <li class="disabled"><span class="lock">‚úó</span> ÎèôÏãúÏ†ëÏÜç ÌòÑÌô©</li>
          <li class="disabled"><span class="lock">‚úó</span> Ïä§ÌÉúÌîÑ Í∂åÌïúÍ¥ÄÎ¶¨</li>
        </ul>
      </div>
      <div class="pricing-action">
        <button class="btn-pro" id="btnPlanPro" onclick="selectPlan('pro')">ÌîÑÎ°ú ÏãúÏûëÌïòÍ∏∞</button>
      </div>
    </div>

    <!-- TEAM -->
    <div class="pricing-card">
      <div class="pricing-header">
        <div class="plan-icon">üè¢</div>
        <h3>ÌåÄ(Team)</h3>
        <div class="plan-desc">Ï∫†ÌîÑ Ï†ÑÏ≤¥Î•º ÏúÑÌïú ÏôÑÏ†ÑÌïú ÏÜîÎ£®ÏÖò</div>
      </div>
      <div class="pricing-price">
        <span class="original">‚Ç©59,000</span>
        <span class="amount">‚Ç©39,000</span>
        <span class="period">/ Ïõî</span>
      </div>
      <div class="pricing-features">
        <ul>
          <li><span class="check">‚úì</span> ÌîÑÎ°ú ÌîåÎûú Í∏∞Îä• Ï†ÑÎ∂Ä Ìè¨Ìï®</li>
          <li><span class="check">‚úì</span> <strong>Ïä§ÌÉúÌîÑ Î¨¥Ï†úÌïú Ï¥àÎåÄ</strong></li>
          <li><span class="check">‚úì</span> <strong>ÎèôÏãúÏ†ëÏÜç ÌòÑÌô© Ïã§ÏãúÍ∞Ñ</strong></li>
          <li><span class="check">‚úì</span> <strong>ÏßÅÏ±ÖÎ≥Ñ Í∂åÌïúÍ¥ÄÎ¶¨</strong></li>
          <li><span class="check">‚úì</span> <strong>Ï∫†ÌîÑ ÌôúÎèô Î°úÍ∑∏</strong></li>
          <li><span class="check">‚úì</span> ÏÑ†Í±∞ÎπÑÏö© ÏóëÏÖÄ ÎÇ¥Î≥¥ÎÇ¥Í∏∞</li>
          <li><span class="check">‚úì</span> Ïö∞ÏÑ† Í≥†Í∞ù ÏßÄÏõê</li>
          <li><span class="check">‚úì</span> ÎßûÏ∂§ Î≤ïÎ•† ÏûêÎ¨∏ Ïó∞Í≤∞</li>
        </ul>
      </div>
      <div class="pricing-action">
        <button class="btn-team" id="btnPlanTeam" onclick="selectPlan('team')">ÌåÄ ÏãúÏûëÌïòÍ∏∞</button>
      </div>
    </div>
  </div>

  <!-- Í≤∞Ï†ú Ìèº -->
  <div id="paymentSection" style="display:none;">
    <h3 style="font-size:18px; font-weight:700; margin-bottom:16px;">üí≥ Í≤∞Ï†ú Ï†ïÎ≥¥</h3>
    <div class="payment-form">
      <div class="payment-summary" id="paymentSummary"></div>
      <div class="form-group">
        <label>Ïπ¥Îìú Î≤àÌò∏</label>
        <input type="text" id="payCardNum" placeholder="0000-0000-0000-0000" maxlength="19" oninput="formatCardNum(this)">
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>Ïú†Ìö®Í∏∞Í∞Ñ</label>
          <input type="text" id="payExpiry" placeholder="MM/YY" maxlength="5" oninput="formatExpiry(this)">
        </div>
        <div class="form-group">
          <label>CVC</label>
          <input type="password" id="payCvc" placeholder="000" maxlength="3">
        </div>
      </div>
      <div class="form-group">
        <label>Ïπ¥Îìú ÏÜåÏú†ÏûêÎ™Ö</label>
        <input type="text" id="payCardName" placeholder="ÌôçÍ∏∏Îèô">
      </div>

      <div class="auth-divider">Í≤∞Ï†ú Î∞©Î≤ï ÏÑ†ÌÉù</div>
      <div style="display:flex; gap:8px; margin-bottom:16px; flex-wrap:wrap;">
        <button class="btn btn-outline btn-sm pay-method active" onclick="selectPayMethod(this,'card')" style="flex:1;">üí≥ Ïπ¥ÎìúÍ≤∞Ï†ú</button>
        <button class="btn btn-outline btn-sm pay-method" onclick="selectPayMethod(this,'bank')" style="flex:1;">üè¶ Í≥ÑÏ¢åÏù¥Ï≤¥</button>
      </div>

      <div class="auth-terms" style="margin-bottom:16px;">
        <input type="checkbox" id="payTerms">
        <label for="payTerms">
          Í≤∞Ï†ú ÏïΩÍ¥Ä Î∞è ÏûêÎèô Í≤∞Ï†ú(Ïõî Í∞±Ïã†)Ïóê ÎèôÏùòÌï©ÎãàÎã§. Îã§Ïùå Í≤∞Ï†úÏùº Ï†Ñ Ïñ∏Ï†úÎì† Ìï¥ÏßÄÌï† Ïàò ÏûàÏäµÎãàÎã§.
        </label>
      </div>

      <button class="auth-btn" onclick="processPayment()" id="payBtn">Í≤∞Ï†úÌïòÍ∏∞</button>
      <div class="auth-msg" id="payMsg" style="margin-top:12px;"></div>
      <p style="font-size:11px; color:var(--gray-500); text-align:center; margin-top:12px;">üîí Í≤∞Ï†ú Ï†ïÎ≥¥Îäî ÏïàÏ†ÑÌïòÍ≤å ÏïîÌò∏ÌôîÎêòÏñ¥ Ï≤òÎ¶¨Îê©ÎãàÎã§ ¬∑ Ïñ∏Ï†úÎì† Ìï¥ÏßÄ Í∞ÄÎä•</p>
    </div>
  </div>

  <!-- ÎπÑÍµêÌëú -->
  <div class="card" style="margin-top:32px;">
    <div class="card-title">üìä ÏöîÍ∏àÏ†ú Í∏∞Îä• ÎπÑÍµê</div>
    <div style="overflow-x:auto;">
      <table class="info-table" id="planCompareTable">
        <thead>
          <tr><th>Í∏∞Îä•</th><th>Î¨¥Î£å(Free)</th><th>‚≠ê ÌîÑÎ°ú(Pro)</th><th>üè¢ ÌåÄ(Team)</th></tr>
        </thead>
        <tbody>
          <tr><td>ÏÑ†Í±∞ ÏùºÏ†ï ÌÉÄÏûÑÎùºÏù∏</td><td>‚úÖ</td><td>‚úÖ</td><td>‚úÖ</td></tr>
          <tr><td>ÏÑ†Í±∞Ïö¥Îèô Í∑úÏ†ï ÏïàÎÇ¥</td><td>‚úÖ</td><td>‚úÖ</td><td>‚úÖ</td></tr>
          <tr><td>Í∏∞Î≥∏ ÎπÑÏö© Í≥ÑÏÇ∞Í∏∞</td><td>‚úÖ</td><td>‚úÖ</td><td>‚úÖ</td></tr>
          <tr><td>Ï†ÅÎ≤ïÏÑ± Î∂ÑÏÑùÍ∏∞</td><td>3Ìöå/Ïùº</td><td>‚úÖ Î¨¥Ï†úÌïú</td><td>‚úÖ Î¨¥Ï†úÌïú</td></tr>
          <tr><td>Í≥µÏïΩ ÏûëÏÑ± ÎèÑÍµ¨</td><td>üîí</td><td>‚úÖ</td><td>‚úÖ</td></tr>
          <tr><td>ÏÑ†Í±∞ Ï§ÄÎπÑ Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏</td><td>üîí</td><td>‚úÖ</td><td>‚úÖ</td></tr>
          <tr><td>ÌîÑÎ°úÌïÑ Ï†ÄÏû•¬∑Í¥ÄÎ¶¨</td><td>üîí</td><td>‚úÖ</td><td>‚úÖ</td></tr>
          <tr><td>ÎπÑÏö© ÏÉÅÏÑ∏ Î¶¨Ìè¨Ìä∏</td><td>üîí</td><td>‚úÖ</td><td>‚úÖ</td></tr>
          <tr><td>Ïä§ÌÉúÌîÑ Ï¥àÎåÄ</td><td>1Î™Ö</td><td>5Î™Ö</td><td>‚úÖ Î¨¥Ï†úÌïú</td></tr>
          <tr><td>ÎèôÏãúÏ†ëÏÜç ÌòÑÌô©</td><td>üîí</td><td>üîí</td><td>‚úÖ</td></tr>
          <tr><td>ÏßÅÏ±ÖÎ≥Ñ Í∂åÌïúÍ¥ÄÎ¶¨</td><td>üîí</td><td>üîí</td><td>‚úÖ</td></tr>
          <tr><td>Ï∫†ÌîÑ ÌôúÎèô Î°úÍ∑∏</td><td>üîí</td><td>üîí</td><td>‚úÖ</td></tr>
          <tr><td>ÏóëÏÖÄ ÎÇ¥Î≥¥ÎÇ¥Í∏∞</td><td>üîí</td><td>üîí</td><td>‚úÖ</td></tr>
          <tr><td>Ïö∞ÏÑ† Í≥†Í∞ù ÏßÄÏõê</td><td>üîí</td><td>üîí</td><td>‚úÖ</td></tr>
          <tr><td><strong>Ïõî ÏöîÍ∏à</strong></td><td><strong>‚Ç©0</strong></td><td><strong>‚Ç©19,000</strong></td><td><strong>‚Ç©39,000</strong></td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Í≤∞Ï†ú ÏïàÎÇ¥ -->
  <div class="card" style="margin-top:32px;">
    <div class="card-title">üìã Ïù¥Ïö© ÏöîÍ∏à Î∞è Í≤∞Ï†ú ÏïàÎÇ¥</div>
    <div class="pay-guide">

      <div class="pay-guide-section">
        <h4>üéÅ Î¨¥Î£å Ï≤¥Ìóò ÏïàÎÇ¥</h4>
        <div class="pay-guide-content">
          <div class="pay-guide-item">
            <span class="pay-guide-icon" style="background:#d1fae5;color:#10b981;">üéÅ</span>
            <div>
              <strong>ÏÑ§Ïπò ÌõÑ 7ÏùºÍ∞Ñ Î™®Îì† Í∏∞Îä• Î¨¥Î£å</strong>
              <p>ÏÑ§Ïπò(Ï≤´ Ï†ëÏÜç) ÏãúÏ†êÎ∂ÄÌÑ∞ 7ÏùºÍ∞Ñ ÌîÑÎ°ú¬∑ÌåÄ ÏöîÍ∏àÏ†úÏùò Î™®Îì† ÌîÑÎ¶¨ÎØ∏ÏóÑ Í∏∞Îä•ÏùÑ Î¨¥Î£åÎ°ú Ï≤¥ÌóòÌïòÏã§ Ïàò ÏûàÏäµÎãàÎã§. Î≥ÑÎèÑÏùò Ïπ¥Îìú Îì±Î°ùÏù¥ÎÇò Í≤∞Ï†ú ÏóÜÏù¥ ÏûêÎèôÏúºÎ°ú ÏãúÏûëÎê©ÎãàÎã§.</p>
            </div>
          </div>
          <div class="pay-guide-item">
            <span class="pay-guide-icon" style="background:#d1fae5;color:#10b981;">‚úÖ</span>
            <div>
              <strong>Ï≤¥Ìóò Í∏∞Í∞Ñ Ï§ë Ïù¥Ïö© Í∞ÄÎä• Í∏∞Îä•</strong>
              <p>Ï†ÅÎ≤ïÏÑ± Î∂ÑÏÑùÍ∏∞ Î¨¥Ï†úÌïú, Í≥µÏïΩ ÏûëÏÑ± ÎèÑÍµ¨, ÏÑ†Í±∞ Ï§ÄÎπÑ Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏, ÌîÑÎ°úÌïÑ Ï†ÄÏû•, Ïä§ÌÉúÌîÑ Ï¥àÎåÄ(5Î™Ö), ÎèôÏãúÏ†ëÏÜç ÌòÑÌô©, ÏßÅÏ±ÖÎ≥Ñ Í∂åÌïúÍ¥ÄÎ¶¨, ÏóëÏÖÄ ÎÇ¥Î≥¥ÎÇ¥Í∏∞ Îì± Î™®Îì† ÌîÑÎ¶¨ÎØ∏ÏóÑ Í∏∞Îä•ÏùÑ Ïù¥Ïö©Ìï† Ïàò ÏûàÏäµÎãàÎã§.</p>
            </div>
          </div>
          <div class="pay-guide-item">
            <span class="pay-guide-icon" style="background:#fef3c7;color:#f59e0b;">‚è∞</span>
            <div>
              <strong>Ï≤¥Ìóò Ï¢ÖÎ£å ÌõÑ</strong>
              <p>7Ïùº Ï≤¥Ìóò Ï¢ÖÎ£å ÌõÑÏóêÎäî Î¨¥Î£å(Free) ÌîåÎûúÏúºÎ°ú ÏûêÎèô Ï†ÑÌôòÎê©ÎãàÎã§. Í∏∞Î≥∏ Í∏∞Îä•(ÌÉÄÏûÑÎùºÏù∏, Í∑úÏ†ï ÏïàÎÇ¥, ÎπÑÏö© Í≥ÑÏÇ∞Í∏∞, Î∂ÑÏÑùÍ∏∞ 3Ìöå/Ïùº)ÏùÄ Í≥ÑÏÜç Î¨¥Î£åÎ°ú Ïù¥Ïö© Í∞ÄÎä•Ìï©ÎãàÎã§. ÌîÑÎ¶¨ÎØ∏ÏóÑ Í∏∞Îä•ÏùÑ Í≥ÑÏÜç ÏÇ¨Ïö©ÌïòÏãúÎ†§Î©¥ Ïú†Î£å ÏöîÍ∏àÏ†úÎ•º ÏÑ†ÌÉùÌï¥ Ï£ºÏÑ∏Ïöî.</p>
            </div>
          </div>
        </div>
      </div>

      <div class="pay-guide-section">
        <h4>üí≥ Í≤∞Ï†ú Î∞©Î≤ï</h4>
        <div class="pay-guide-content">
          <div class="pay-guide-item">
            <span class="pay-guide-icon">1</span>
            <div>
              <strong>Ïã†Ïö©Ïπ¥Îìú / Ï≤¥ÌÅ¨Ïπ¥Îìú</strong>
              <p>Íµ≠ÎÇ¥ Î™®Îì† Ïπ¥ÎìúÏÇ¨ Ïù¥Ïö© Í∞ÄÎä• (ÎπÑÏûê, ÎßàÏä§ÌÑ∞, BC, ÏÇºÏÑ±, ÌòÑÎåÄ, Î°ØÎç∞, Ïã†Ìïú, KB Îì±). Í≤∞Ï†ú Ïãú Ïπ¥ÎìúÎ≤àÌò∏, Ïú†Ìö®Í∏∞Í∞Ñ, CVCÎ•º ÏûÖÎ†•Ìï©ÎãàÎã§.</p>
            </div>
          </div>
          <div class="pay-guide-item">
            <span class="pay-guide-icon">2</span>
            <div>
              <strong>Í≥ÑÏ¢åÏù¥Ï≤¥ (Ïã§ÏãúÍ∞Ñ)</strong>
              <p>Ï£ºÏöî ÏãúÏ§ëÏùÄÌñâ Î∞è Ïù∏ÌÑ∞ÎÑ∑Ï†ÑÎ¨∏ÏùÄÌñâ Í≥ÑÏ¢åÏóêÏÑú Ï¶âÏãú Ïù¥Ï≤¥Îê©ÎãàÎã§. Í≥µÏù∏Ïù∏Ï¶ùÏÑú ÎòêÎäî Í∞ÑÌé∏Ïù∏Ï¶ùÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.</p>
            </div>
          </div>
          <div class="pay-guide-item">
            <span class="pay-guide-icon">3</span>
            <div>
              <strong>Ìú¥ÎåÄÌè∞ ÏÜåÏï°Í≤∞Ï†ú</strong>
              <p style="color:var(--gray-400);">üìå Ï§ÄÎπÑ Ï§ëÏûÖÎãàÎã§. Ìñ•ÌõÑ ÏóÖÎç∞Ïù¥Ìä∏Î•º ÌÜµÌï¥ ÏßÄÏõêÎê† ÏòàÏ†ïÏûÖÎãàÎã§.</p>
            </div>
          </div>
        </div>
      </div>

      <div class="pay-guide-section">
        <h4>üîÑ Í≤∞Ï†ú Ï†àÏ∞®</h4>
        <div class="pay-guide-steps">
          <div class="pay-step"><span class="pay-step-num">‚ë†</span> ÏõêÌïòÎäî ÏöîÍ∏àÏ†úÏùò <strong>ÏãúÏûëÌïòÍ∏∞</strong> Î≤ÑÌäº ÌÅ¥Î¶≠</div>
          <div class="pay-step"><span class="pay-step-num">‚ë°</span> Í≤∞Ï†ú ÏàòÎã®(Ïπ¥Îìú/Í≥ÑÏ¢åÏù¥Ï≤¥) ÏÑ†ÌÉù</div>
          <div class="pay-step"><span class="pay-step-num">‚ë¢</span> Í≤∞Ï†ú Ï†ïÎ≥¥ ÏûÖÎ†• Î∞è ÏïΩÍ¥Ä ÎèôÏùò</div>
          <div class="pay-step"><span class="pay-step-num">‚ë£</span> <strong>Í≤∞Ï†úÌïòÍ∏∞</strong> Î≤ÑÌäºÏúºÎ°ú Í≤∞Ï†ú ÏôÑÎ£å</div>
          <div class="pay-step"><span class="pay-step-num">‚ë§</span> Ï¶âÏãú Ïú†Î£å Í∏∞Îä• ÌôúÏÑ±Ìôî ‚Äî Ïù¥Î©îÏùºÎ°ú Í≤∞Ï†ú ÌôïÏù∏ÏÑú Î∞úÏÜ°</div>
        </div>
      </div>

      <div class="pay-guide-section">
        <h4>üìå Íµ¨ÎèÖ Î∞è Í∞±Ïã† ÏïàÎÇ¥</h4>
        <div class="pay-guide-content">
          <div class="pay-guide-item">
            <span class="pay-guide-icon">üìÖ</span>
            <div>
              <strong>ÏûêÎèô Í∞±Ïã†</strong>
              <p>Îß§Ïõî Í≤∞Ï†úÏùºÏóê ÎèôÏùºÌïú Í≤∞Ï†ú ÏàòÎã®ÏúºÎ°ú ÏûêÎèô Í≤∞Ï†úÎê©ÎãàÎã§. Í≤∞Ï†úÏùº 3Ïùº Ï†Ñ Ïù¥Î©îÏùºÎ°ú Í∞±Ïã† ÏòàÏ†ï ÏïàÎÇ¥Í∞Ä Î∞úÏÜ°Îê©ÎãàÎã§.</p>
            </div>
          </div>
          <div class="pay-guide-item">
            <span class="pay-guide-icon">‚è∏Ô∏è</span>
            <div>
              <strong>Ìï¥ÏßÄ Î∞è ÏùºÏãúÏ†ïÏßÄ</strong>
              <p>ÎßàÏù¥ÌéòÏù¥ÏßÄ ÎòêÎäî ÏöîÍ∏àÏ†ú ÌéòÏù¥ÏßÄÏóêÏÑú Ïñ∏Ï†úÎì† Ìï¥ÏßÄ Í∞ÄÎä•Ìï©ÎãàÎã§. Ìï¥ÏßÄ ÌõÑÏóêÎèÑ ÌòÑÏû¨ Í≤∞Ï†ú Í∏∞Í∞Ñ ÎßåÎ£åÏùºÍπåÏßÄ Ïú†Î£å Í∏∞Îä•ÏùÑ Ïù¥Ïö©Ìï† Ïàò ÏûàÏäµÎãàÎã§.</p>
            </div>
          </div>
          <div class="pay-guide-item">
            <span class="pay-guide-icon">üîÑ</span>
            <div>
              <strong>ÏöîÍ∏àÏ†ú Î≥ÄÍ≤Ω</strong>
              <p>ÏÉÅÏúÑ ÏöîÍ∏àÏ†úÎ°ú Î≥ÄÍ≤Ω Ïãú Ï∞®Ïï°Îßå Í≤∞Ï†úÎê©ÎãàÎã§. ÌïòÏúÑ ÏöîÍ∏àÏ†úÎ°ú Î≥ÄÍ≤Ω Ïãú Îã§Ïùå Í≤∞Ï†úÏùºÎ∂ÄÌÑ∞ Ï†ÅÏö©ÎêòÎ©∞, ÏûîÏó¨ Í∏∞Í∞ÑÏùÄ Ïú†Î£å Í∏∞Îä•Ïù¥ Ïú†ÏßÄÎê©ÎãàÎã§.</p>
            </div>
          </div>
          <div class="pay-guide-item">
            <span class="pay-guide-icon">üóìÔ∏è</span>
            <div>
              <strong>ÏÑ†Í±∞ Ï¢ÖÎ£å ÌõÑ ÏûêÎèô Ìï¥ÏßÄ</strong>
              <p>ÏÑ†Í±∞Ïùº Ïù¥ÌõÑ ÏûêÎèôÏúºÎ°ú Íµ¨ÎèÖÏù¥ Ìï¥ÏßÄÎêòÏñ¥ Ï∂îÍ∞Ä Í≤∞Ï†úÍ∞Ä Î∞úÏÉùÌïòÏßÄ ÏïäÏäµÎãàÎã§. Îã§Ïùå ÏÑ†Í±∞ Ïãú Ïû¨Íµ¨ÎèÖÏù¥ Í∞ÄÎä•Ìï©ÎãàÎã§.</p>
            </div>
          </div>
        </div>
      </div>

      <div class="pay-guide-section">
        <h4>üí∞ ÌôòÎ∂à Ï†ïÏ±Ö</h4>
        <div class="pay-guide-content">
          <div class="pay-guide-item">
            <span class="pay-guide-icon">‚úÖ</span>
            <div>
              <strong>Ï†ÑÏï° ÌôòÎ∂à</strong>
              <p>Í≤∞Ï†ú ÌõÑ 7Ïùº Ïù¥ÎÇ¥Ïóê Ïú†Î£å Í∏∞Îä•ÏùÑ ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÏùÄ Í≤ΩÏö∞, Ï†ÑÏï° ÌôòÎ∂àÏù¥ Í∞ÄÎä•Ìï©ÎãàÎã§.</p>
            </div>
          </div>
          <div class="pay-guide-item">
            <span class="pay-guide-icon">‚ö†Ô∏è</span>
            <div>
              <strong>Î∂ÄÎ∂Ñ ÌôòÎ∂à</strong>
              <p>Í≤∞Ï†ú ÌõÑ 7Ïùº Ïù¥ÎÇ¥ÎùºÎèÑ Ïú†Î£å Í∏∞Îä•(Í≥µÏïΩ ÏûëÏÑ±, Î∂ÑÏÑùÍ∏∞ Îì±)ÏùÑ Ïù¥Ïö©Ìïú Í≤ΩÏö∞, Ïù¥Ïö©ÏùºÏàòÎ•º Ï†úÏô∏Ìïú ÏûîÏó¨ Í∏∞Í∞ÑÏóê ÎåÄÌï¥ ÏùºÌï† Í≥ÑÏÇ∞ÏúºÎ°ú ÌôòÎ∂àÎê©ÎãàÎã§.</p>
            </div>
          </div>
          <div class="pay-guide-item">
            <span class="pay-guide-icon">‚ùå</span>
            <div>
              <strong>ÌôòÎ∂à Î∂àÍ∞Ä</strong>
              <p>Í≤∞Ï†ú ÌõÑ 7Ïùº Ï¥àÍ≥º ÏãúÏóêÎäî ÌôòÎ∂àÏù¥ Î∂àÍ∞ÄÌï©ÎãàÎã§. Ìï¥ÏßÄ Ïã†Ï≤≠ ÌõÑ ÏûîÏó¨ Í∏∞Í∞ÑÍπåÏßÄ ÏÑúÎπÑÏä§Î•º Ïù¥Ïö©ÌïòÏã§ Ïàò ÏûàÏäµÎãàÎã§.</p>
            </div>
          </div>
        </div>
      </div>

      <div class="pay-guide-section">
        <h4>üîí Í≤∞Ï†ú Î≥¥Ïïà</h4>
        <div class="pay-guide-content">
          <div class="pay-guide-item">
            <span class="pay-guide-icon">üõ°Ô∏è</span>
            <div>
              <strong>SSL 256bit ÏïîÌò∏Ìôî</strong>
              <p>Î™®Îì† Í≤∞Ï†ú Ï†ïÎ≥¥Îäî SSL 256bit ÏïîÌò∏ÌôîÎ°ú Ï†ÑÏÜ°ÎêòÎ©∞, Ïπ¥Îìú Ï†ïÎ≥¥Îäî PCI-DSS Ïù∏Ï¶ù Í≤∞Ï†ú ÎåÄÌñâÏÇ¨(PG)Î•º ÌÜµÌï¥ ÏïàÏ†ÑÌïòÍ≤å Ï≤òÎ¶¨Îê©ÎãàÎã§. ÎãπÏÇ¨Îäî Ïπ¥Îìú Ï†ïÎ≥¥Î•º ÏßÅÏ†ë Ï†ÄÏû•ÌïòÏßÄ ÏïäÏäµÎãàÎã§.</p>
            </div>
          </div>
          <div class="pay-guide-item">
            <span class="pay-guide-icon">üìß</span>
            <div>
              <strong>Í≤∞Ï†ú ÌôïÏù∏</strong>
              <p>Í≤∞Ï†ú ÏôÑÎ£å Ï¶âÏãú Í∞ÄÏûÖ Ïù¥Î©îÏùºÎ°ú Í≤∞Ï†ú ÌôïÏù∏ÏÑúÍ∞Ä Î∞úÏÜ°Îê©ÎãàÎã§. Í≤∞Ï†ú ÎÇ¥Ïó≠ÏùÄ ÎßàÏù¥ÌéòÏù¥ÏßÄÏóêÏÑúÎèÑ ÌôïÏù∏Ìï† Ïàò ÏûàÏäµÎãàÎã§.</p>
            </div>
          </div>
        </div>
      </div>

      <div class="pay-guide-section">
        <h4>‚ùì ÏûêÏ£º Î¨ªÎäî ÏßàÎ¨∏ (FAQ)</h4>
        <div class="pay-faq-list" id="payFaqList">
          <div class="pay-faq-item" onclick="toggleFaq(this)">
            <div class="pay-faq-q"><span>Q.</span> ÏÑ†Í±∞ÎπÑÏö©ÏúºÎ°ú Ï≤òÎ¶¨Ìï† Ïàò ÏûàÎÇòÏöî?</div>
            <div class="pay-faq-a">ÎÑ§, Î≥∏ ÏÑúÎπÑÏä§ Ïù¥Ïö©Î£åÎäî ÏÑ†Í±∞ÏÇ¨Î¨¥ Í¥ÄÎ†® ÎπÑÏö©ÏúºÎ°ú Î∂ÑÎ•òÎê† Ïàò ÏûàÏúºÎ©∞, ÌöåÍ≥Ñ Ï≤òÎ¶¨ Ïãú 'ÏÑ†Í±∞ÏÇ¨Î¨¥Ïö© ÏÜåÌîÑÌä∏Ïõ®Ïñ¥ Ïù¥Ïö©Î£å'Î°ú Í∏∞Ïû¨ÌïòÏãúÎ©¥ Îê©ÎãàÎã§. ÏÑ∏Í∏àÍ≥ÑÏÇ∞ÏÑú(Ï†ÑÏûê) Î∞úÌñâÏù¥ Í∞ÄÎä•ÌïòÎ©∞, Í≤∞Ï†ú ÌõÑ Í≥†Í∞ùÏÑºÌÑ∞Ïóê ÏöîÏ≤≠Ìï¥ Ï£ºÏÑ∏Ïöî.</div>
          </div>
          <div class="pay-faq-item" onclick="toggleFaq(this)">
            <div class="pay-faq-q"><span>Q.</span> ÏÑ∏Í∏àÍ≥ÑÏÇ∞ÏÑú Î∞úÌñâÏù¥ Í∞ÄÎä•ÌïúÍ∞ÄÏöî?</div>
            <div class="pay-faq-a">ÎÑ§, ÏÇ¨ÏóÖÏûêÎì±Î°ùÎ≤àÌò∏Î•º Î≥¥Ïú†Ìïú Í≤ΩÏö∞ Ï†ÑÏûêÏÑ∏Í∏àÍ≥ÑÏÇ∞ÏÑú Î∞úÌñâÏù¥ Í∞ÄÎä•Ìï©ÎãàÎã§. Í≤∞Ï†ú ÌõÑ Í≥†Í∞ùÏÑºÌÑ∞(support@election-helper.kr)Î°ú ÏÇ¨ÏóÖÏûêÎì±Î°ùÏ¶ù ÏÇ¨Î≥∏Í≥º Ìï®Íªò ÏöîÏ≤≠Ìï¥ Ï£ºÏÑ∏Ïöî. Î∞úÌñâÍπåÏßÄ ÏòÅÏóÖÏùº Í∏∞Ï§Ä 1~2Ïùº ÏÜåÏöîÎê©ÎãàÎã§.</div>
          </div>
          <div class="pay-faq-item" onclick="toggleFaq(this)">
            <div class="pay-faq-q"><span>Q.</span> Ïó¨Îü¨ ÏÇ¨ÎûåÏù¥ Ìï®Íªò ÏÇ¨Ïö©Ìï† Ïàò ÏûàÎÇòÏöî?</div>
            <div class="pay-faq-a">ÌåÄ(Team) ÏöîÍ∏àÏ†úÏóêÏÑúÎäî Ïä§ÌÉúÌîÑ Î¨¥Ï†úÌïú Ï¥àÎåÄÍ∞Ä Í∞ÄÎä•Ìï©ÎãàÎã§. ÏÑ†Í±∞ÏÇ¨Î¨¥Ïû•, ÌöåÍ≥ÑÏ±ÖÏûÑÏûê, ÎπÑÏÑú, ÏûêÏõêÎ¥âÏÇ¨Ïûê Îì± ÏßÅÏ±ÖÎ≥ÑÎ°ú Ï†ëÍ∑º Í∂åÌïúÏùÑ ÏÑ§Ï†ïÌï† Ïàò ÏûàÏñ¥ Ï∫†ÌîÑ Ï†ÑÏ≤¥Í∞Ä Ìö®Ïú®Ï†ÅÏúºÎ°ú ÌòëÏóÖÌï† Ïàò ÏûàÏäµÎãàÎã§.</div>
          </div>
          <div class="pay-faq-item" onclick="toggleFaq(this)">
            <div class="pay-faq-q"><span>Q.</span> Í≤∞Ï†ú ÏàòÎã®ÏùÑ Î≥ÄÍ≤ΩÌï† Ïàò ÏûàÎÇòÏöî?</div>
            <div class="pay-faq-a">ÎÑ§, ÎßàÏù¥ÌéòÏù¥ÏßÄÏóêÏÑú Í≤∞Ï†ú ÏàòÎã®ÏùÑ Î≥ÄÍ≤ΩÌï† Ïàò ÏûàÏäµÎãàÎã§. Î≥ÄÍ≤ΩÎêú Í≤∞Ï†ú ÏàòÎã®ÏùÄ Îã§Ïùå ÏûêÎèô Í∞±Ïã†ÏùºÎ∂ÄÌÑ∞ Ï†ÅÏö©Îê©ÎãàÎã§. Î≥ÄÍ≤Ω Ï†Ñ Í∏∞Ï°¥ Ïπ¥ÎìúÏùò Ïú†Ìö®ÏÑ±ÏùÑ ÌôïÏù∏Ìï¥ Ï£ºÏÑ∏Ïöî.</div>
          </div>
          <div class="pay-faq-item" onclick="toggleFaq(this)">
            <div class="pay-faq-q"><span>Q.</span> Î¨¥Î£å Ï≤¥Ìóò Í∏∞Í∞ÑÏù¥ ÏûàÎÇòÏöî?</div>
            <div class="pay-faq-a">ÎÑ§, ÏÑ§Ïπò(Ï≤´ Ï†ëÏÜç) ÌõÑ 7ÏùºÍ∞Ñ Î™®Îì† ÌîÑÎ¶¨ÎØ∏ÏóÑ Í∏∞Îä•ÏùÑ Î¨¥Î£åÎ°ú Ïù¥Ïö©ÌïòÏã§ Ïàò ÏûàÏäµÎãàÎã§. Ïπ¥Îìú Îì±Î°ù ÏóÜÏù¥ ÏûêÎèôÏúºÎ°ú ÏãúÏûëÎêòÎ©∞, Ï≤¥Ìóò Ï¢ÖÎ£å ÌõÑÏóêÎèÑ Í∏∞Î≥∏ Í∏∞Îä•(ÌÉÄÏûÑÎùºÏù∏¬∑Í∑úÏ†ï¬∑Í≥ÑÏÇ∞Í∏∞)ÏùÄ Í≥ÑÏÜç Î¨¥Î£åÏûÖÎãàÎã§.</div>
          </div>
          <div class="pay-faq-item" onclick="toggleFaq(this)">
            <div class="pay-faq-q"><span>Q.</span> Í≤∞Ï†úÍ∞Ä Ïã§Ìå®ÌïòÎ©¥ Ïñ¥ÎñªÍ≤å ÎêòÎÇòÏöî?</div>
            <div class="pay-faq-a">ÏûêÎèô Í∞±Ïã† Í≤∞Ï†ú Ïã§Ìå® Ïãú 3Ïùº Í∞ÑÍ≤©ÏúºÎ°ú ÏµúÎåÄ 3Ìöå Ïû¨ÏãúÎèÑÎê©ÎãàÎã§. 3Ìöå Î™®Îëê Ïã§Ìå®ÌïòÎ©¥ Íµ¨ÎèÖÏù¥ ÏûêÎèô Ìï¥ÏßÄÎêòÎ©∞, Ïú†Î£å Í∏∞Îä• Ï†ëÍ∑ºÏù¥ Ï†úÌïúÎê©ÎãàÎã§. Í≤∞Ï†ú ÏàòÎã® ÌôïÏù∏ ÌõÑ Îã§Ïãú Íµ¨ÎèÖÌïòÏã§ Ïàò ÏûàÏäµÎãàÎã§.</div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <div class="law-note" style="margin-top:20px;">
    <strong>Í≥†Í∞ù ÏßÄÏõê</strong> ‚Äî Í≤∞Ï†ú Í¥ÄÎ†® Î¨∏ÏùòÎäî ÏïÑÎûò Ï±ÑÎÑêÎ°ú Ïó∞ÎùΩÌï¥ Ï£ºÏÑ∏Ïöî.<br>
    üìß Ïù¥Î©îÏùº: support@election-helper.kr ¬∑ ‚òé Ï†ÑÌôî: 1588-0000 (ÌèâÏùº 09:00~18:00)<br>
    <strong>ÌôòÎ∂à Ï†ïÏ±Ö</strong> ‚Äî Í≤∞Ï†ú ÌõÑ 7Ïùº Ïù¥ÎÇ¥ ÎØ∏ÏÇ¨Ïö© Ïãú Ï†ÑÏï° ÌôòÎ∂à Í∞ÄÎä•Ìï©ÎãàÎã§. ÏÑ†Í±∞ Ï¢ÖÎ£å ÌõÑ ÏûêÎèô Ìï¥ÏßÄÎê©ÎãàÎã§.
  </div>
</div>

<!-- ==================== ADMIN ==================== -->
<div id="page-admin" class="page">

  <div class="admin-header">
    <h1>‚öôÔ∏è Í¥ÄÎ¶¨Ïûê ÎåÄÏãúÎ≥¥Îìú <span class="admin-badge">ADMIN</span></h1>
    <div class="admin-actions">
      <button onclick="exportAdminData()">üì• Îç∞Ïù¥ÌÑ∞ ÎÇ¥Î≥¥ÎÇ¥Í∏∞</button>
      <button onclick="renderAdminPage()">üîÑ ÏÉàÎ°úÍ≥†Ïπ®</button>
    </div>
  </div>

  <!-- ÌÜµÍ≥Ñ Ïπ¥Îìú -->
  <div class="admin-stats-grid" id="adminStats"></div>

  <!-- Ï∞®Ìä∏ ÏòÅÏó≠ -->
  <div class="admin-chart-row" id="adminCharts"></div>

  <!-- ÌÉ≠ Î©îÎâ¥ -->
  <div class="admin-tabs" id="adminTabs">
    <button class="admin-tab active" data-atab="users" onclick="switchAdminTab('users')">üë§ ÌöåÏõêÍ¥ÄÎ¶¨ <span class="tab-count" id="adminUserCount">0</span></button>
    <button class="admin-tab" data-atab="camps" onclick="switchAdminTab('camps')">üèïÔ∏è Ï∫†ÌîÑÍ¥ÄÎ¶¨ <span class="tab-count" id="adminCampCount">0</span></button>
    <button class="admin-tab" data-atab="logs" onclick="switchAdminTab('logs')">üìã ÌôúÎèôÎ°úÍ∑∏</button>
    <button class="admin-tab" data-atab="settings" onclick="switchAdminTab('settings')">üîß ÏãúÏä§ÌÖúÏÑ§Ï†ï</button>
  </div>

  <!-- ÌöåÏõêÍ¥ÄÎ¶¨ ÌÉ≠ -->
  <div class="admin-tab-content active" id="atab-users">
    <div class="admin-toolbar">
      <input type="text" class="admin-search" id="adminUserSearch" placeholder="üîç Ïù¥Î¶Ñ¬∑Ïù¥Î©îÏùº¬∑Ï†ïÎãπ Í≤ÄÏÉâ..." oninput="filterAdminUsers()">
      <select class="admin-filter" id="adminRoleFilter" onchange="filterAdminUsers()">
        <option value="">Ï†ÑÏ≤¥ ÏßÅÏ±Ö</option>
        <option value="candidate">ÌõÑÎ≥¥Ïûê</option>
        <option value="manager">ÏÇ¨Î¨¥Ïû•</option>
        <option value="accountant">ÌöåÍ≥Ñ</option>
        <option value="secretary">ÎπÑÏÑú</option>
        <option value="volunteer">Î¥âÏÇ¨Ïûê</option>
        <option value="observer">Ï∞∏Í¥ÄÏù∏</option>
      </select>
      <select class="admin-filter" id="adminPartyFilter" onchange="filterAdminUsers()">
        <option value="">Ï†ÑÏ≤¥ Ï†ïÎãπ</option>
        <option value="ÎçîÎ∂àÏñ¥ÎØºÏ£ºÎãπ">ÎçîÎ∂àÏñ¥ÎØºÏ£ºÎãπ</option>
        <option value="Íµ≠ÎØºÏùòÌûò">Íµ≠ÎØºÏùòÌûò</option>
        <option value="Ï°∞Íµ≠ÌòÅÏã†Îãπ">Ï°∞Íµ≠ÌòÅÏã†Îãπ</option>
        <option value="Í∞úÌòÅÏã†Îãπ">Í∞úÌòÅÏã†Îãπ</option>
        <option value="ÏßÑÎ≥¥Îãπ">ÏßÑÎ≥¥Îãπ</option>
        <option value="ÏÉàÎ°úÏö¥ÎØ∏Îûò">ÏÉàÎ°úÏö¥ÎØ∏Îûò</option>
        <option value="Î¨¥ÏÜåÏÜç">Î¨¥ÏÜåÏÜç</option>
      </select>
      <select class="admin-filter" id="adminPlanFilter" onchange="filterAdminUsers()">
        <option value="">Ï†ÑÏ≤¥ ÏöîÍ∏àÏ†ú</option>
        <option value="free">Free</option>
        <option value="pro">Pro</option>
        <option value="team">Team</option>
      </select>
    </div>
    <div id="adminUserTable"></div>
  </div>

  <!-- Ï∫†ÌîÑÍ¥ÄÎ¶¨ ÌÉ≠ -->
  <div class="admin-tab-content" id="atab-camps">
    <div class="admin-toolbar">
      <input type="text" class="admin-search" id="adminCampSearch" placeholder="üîç Ï∫†ÌîÑ Í≤ÄÏÉâ..." oninput="filterAdminCamps()">
    </div>
    <div id="adminCampTable"></div>
  </div>

  <!-- ÌôúÎèôÎ°úÍ∑∏ ÌÉ≠ -->
  <div class="admin-tab-content" id="atab-logs">
    <div class="admin-toolbar">
      <select class="admin-filter" id="adminLogFilter" onchange="renderAdminLogs()">
        <option value="">Ï†ÑÏ≤¥ ÌôúÎèô</option>
        <option value="login">Î°úÍ∑∏Ïù∏</option>
        <option value="register">ÌöåÏõêÍ∞ÄÏûÖ</option>
        <option value="plan">ÏöîÍ∏àÏ†ú Î≥ÄÍ≤Ω</option>
        <option value="role">ÏßÅÏ±Ö Î≥ÄÍ≤Ω</option>
        <option value="analysis">Î∂ÑÏÑù Ïã§Ìñâ</option>
      </select>
      <button class="btn btn-sm btn-outline" onclick="clearAdminLogs()">üóëÔ∏è Î°úÍ∑∏ Ï¥àÍ∏∞Ìôî</button>
    </div>
    <div id="adminLogList"></div>
  </div>

  <!-- ÏãúÏä§ÌÖúÏÑ§Ï†ï ÌÉ≠ -->
  <div class="admin-tab-content" id="atab-settings">
    <div id="adminSettingsArea"></div>
  </div>

</div>

<!-- ==================== HOME ==================== -->
<div id="page-home" class="page active">

  <!-- Ï≤¥Ìóò Í∏∞Í∞Ñ ÏïàÎÇ¥ Î∞∞ÎÑà (Ìôà) -->
  <div id="homeTrialBanner"></div>

  <!-- ÏÑ†Í±∞ ÏÑ†ÌÉù -->
  <div class="home-election-selector" id="homeElecSelector">
    <button class="home-elec-btn active" onclick="selectHomeElection('local9')">üó≥Ô∏è Ï†ú9Ìöå ÏßÄÎ∞©ÏÑ†Í±∞ (2026.6.3)</button>
    <button class="home-elec-btn" onclick="selectHomeElection('assembly23')">üèõÔ∏è Ï†ú23ÎåÄ Íµ≠ÌöåÏùòÏõêÏÑ†Í±∞ (2028.4.12)</button>
  </div>

  <!-- D-Day Ïπ¥Ïö¥Ìä∏Îã§Ïö¥ -->
  <div class="home-countdown" id="homeCountdown"></div>

  <!-- Ï£ºÏöî ÏùºÏ†ï ÌÉÄÏûÑÎùºÏù∏ -->
  <div class="home-section-title">üìÖ Ï£ºÏöî ÏùºÏ†ï ÌÉÄÏûÑÎùºÏù∏</div>
  <div class="home-timeline" id="homeTimeline"></div>

  <!-- Í∏∞Í∞ÑÎ≥Ñ ÏÑ†Í±∞Ïö¥Îèô Í∑úÏ†ï ÏöîÏïΩ -->
  <div class="home-section-title">üìú Í∏∞Í∞ÑÎ≥Ñ ÏÑ†Í±∞Ïö¥Îèô Í∞ÄÎä• ÏÇ¨Ìï≠</div>
  <div id="homeRegSummary"></div>

  <!-- ÏÇ¨Ïù¥Ìä∏ Ìë∏ÌÑ∞ -->
  <div style="margin-top:48px;padding:24px;text-align:center;border-top:1px solid var(--gray-200);color:var(--gray-500);font-size:13px;line-height:2;">
    <div style="margin-bottom:8px;">
      <a onclick="showPage('privacy')" style="cursor:pointer;color:var(--gray-500);text-decoration:underline;">Í∞úÏù∏Ï†ïÎ≥¥Ï≤òÎ¶¨Î∞©Ïπ®</a>
      <span style="margin:0 8px;">|</span>
      <a onclick="showPage('terms')" style="cursor:pointer;color:var(--gray-500);text-decoration:underline;">Ïù¥Ïö©ÏïΩÍ¥Ä</a>
    </div>
    <div>¬© 2026 ÏÑ†Í±∞ÎèÑÏö∞ÎØ∏. Î≥∏ ÏÑúÎπÑÏä§Ïùò Î≤ïÎ•† Ï†ïÎ≥¥Îäî Ï∞∏Í≥†Ïö©Ïù¥Î©∞, Ï†ïÌôïÌïú Ìï¥ÏÑùÏùÄ <strong>Ï§ëÏïôÏÑ†Í±∞Í¥ÄÎ¶¨ÏúÑÏõêÌöå(‚òé1390)</strong>Ïóê Î¨∏ÏùòÌïòÏÑ∏Ïöî.</div>
    <div style="margin-top:4px;font-size:11px;color:var(--gray-300);">Î™®Îì† Îç∞Ïù¥ÌÑ∞Îäî ÏÇ¨Ïö©Ïûê Í∏∞Í∏∞ÏóêÎßå Ï†ÄÏû•Îê©ÎãàÎã§.</div>
    <div style="margin-top:16px;">
      <button id="adminBtnFooter" onclick="showAdminLogin()" style="background:none;border:1px solid var(--gray-300);color:var(--gray-400);font-size:12px;padding:6px 16px;border-radius:6px;cursor:pointer;">‚öôÔ∏è Í¥ÄÎ¶¨Ïûê</button>
    </div>
  </div>

</div>

<!-- ==================== PROFILE ==================== -->
<div id="page-profile" class="page">
  <h2 style="font-size:24px; margin-bottom:8px;">üë§ ÎÇ¥ ÌîÑÎ°úÌïÑ ÏÑ§Ï†ï</h2>
  <p style="color:var(--gray-500); margin-bottom:24px;">ÏÑ†Í±∞ Ïú†ÌòïÍ≥º ÏßÄÏó≠Íµ¨Î•º ÏÑ§Ï†ïÌïòÎ©¥ Î™®Îì† ÎèÑÍµ¨ÏóêÏÑú ÎßûÏ∂§ Ï†ïÎ≥¥Î•º Ï†úÍ≥µÌï©ÎãàÎã§.</p>

  <div class="card" style="margin-bottom:24px;">
    <div class="card-title">ÏÑ†Í±∞ Ïú†Ìòï ÏÑ†ÌÉù</div>
    <div class="form-group">
      <label>Ï∂úÎßàÌïòÎ†§Îäî ÏÑ†Í±∞ Ïú†Ìòï</label>
      <select id="profileElectionType" onchange="updateDistricts(); onProfileChange()">
        <option value="">-- ÏÑ†ÌÉùÌïòÏÑ∏Ïöî --</option>
        <option value="city_council">Í∏∞Ï¥àÏùòÏõê (ÏûêÏπòÍµ¨¬∑Ïãú¬∑Íµ∞ÏùòÌöåÏùòÏõê)</option>
        <option value="metro_council">Í¥ëÏó≠ÏùòÏõê (Ïãú¬∑ÎèÑÏùòÌöåÏùòÏõê)</option>
        <option value="city_mayor">Í∏∞Ï¥àÎã®Ï≤¥Ïû• (ÏûêÏπòÍµ¨¬∑ÏãúÏû•¬∑Íµ∞Ïàò¬∑Íµ¨Ï≤≠Ïû•)</option>
        <option value="governor">Í¥ëÏó≠Îã®Ï≤¥Ïû• (Ïãú¬∑ÎèÑÏßÄÏÇ¨)</option>
        <option value="assembly">Íµ≠ÌöåÏùòÏõê (ÏßÄÏó≠Íµ¨)</option>
        <option value="president">ÎåÄÌÜµÎ†π</option>
      </select>
    </div>
    <div class="law-note">
      <strong>Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú15Ï°∞ (ÏÑ†Í±∞Í∂å)</strong> ‚Äî 18ÏÑ∏ Ïù¥ÏÉÅÏùò Íµ≠ÎØºÏùÄ ÎåÄÌÜµÎ†π Î∞è Íµ≠ÌöåÏùòÏõêÏùò ÏÑ†Í±∞Í∂åÏù¥ ÏûàÏúºÎ©∞, ÏßÄÎ∞©ÏùòÌöåÏùòÏõê Î∞è ÏßÄÎ∞©ÏûêÏπòÎã®Ï≤¥Ïùò Ïû•Ïùò ÏÑ†Í±∞Í∂åÏùÄ Ìï¥Îãπ ÏßÄÎ∞©ÏûêÏπòÎã®Ï≤¥Ïùò Í¥ÄÌï† Íµ¨Ïó≠Ïóê Ï£ºÎØºÎì±Î°ùÏù¥ ÎêòÏñ¥ ÏûàÎäî 18ÏÑ∏ Ïù¥ÏÉÅÏùò Íµ≠ÎØºÏóêÍ≤å ÏûàÏäµÎãàÎã§.
    </div>
  </div>

  <div class="card" style="margin-bottom:24px;">
    <div class="card-title">ÏßÄÏó≠Íµ¨ ÏÑ†ÌÉù</div>
    <div class="form-row-3">
      <div class="form-group">
        <label>Ïãú¬∑ÎèÑ</label>
        <select id="profileSido" onchange="onSidoChange()">
          <option value="">-- Ïãú¬∑ÎèÑ ÏÑ†ÌÉù --</option>
        </select>
      </div>
      <div class="form-group">
        <label>Ïãú¬∑Íµ∞¬∑Íµ¨</label>
        <select id="profileSigungu" onchange="onSigunguChange()">
          <option value="">-- Ïãú¬∑Íµ∞¬∑Íµ¨ ÏÑ†ÌÉù --</option>
        </select>
      </div>
      <div class="form-group">
        <label id="districtLabel">ÏÑ†Í±∞Íµ¨</label>
        <select id="profileDistrict" onchange="onDistrictChange()">
          <option value="">-- ÏÑ†Í±∞Íµ¨ ÏÑ†ÌÉù --</option>
        </select>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label>ÏÑ†Í±∞Íµ¨ Ïù∏Íµ¨Ïàò (Î™Ö) <span class="law-ref" title="Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú121Ï°∞ Ï†ú4Ìï≠: Ïù∏Íµ¨Ïàò Í∏∞Ï§ÄÏùºÏùÄ Ï§ëÏïôÏÑ†Í±∞Í¥ÄÎ¶¨ÏúÑÏõêÌöåÍ∑úÏπôÏúºÎ°ú Ï†ïÌïúÎã§">Ï†ú121Ï°∞‚ë£</span></label>
        <input type="number" id="profilePopulation" placeholder="Ïòà: 50000" oninput="onProfileChange()">
        <div id="popAutoNote" style="font-size:12px;color:var(--success);margin-top:4px;display:none;">‚úÖ 2024 ÌñâÏ†ïÏïàÏ†ÑÎ∂Ä Ï£ºÎØºÎì±Î°ù Ïù∏Íµ¨ÌÜµÍ≥Ñ Í∏∞Ï§Ä ÏûêÎèô ÏûÖÎ†•Îê®</div>
      </div>
      <div class="form-group">
        <label>Ïùç¬∑Î©¥¬∑Îèô Ïàò (Ìï¥Îãπ Ïãú) <span class="law-ref" title="Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú121Ï°∞: Ïùç¬∑Î©¥¬∑ÎèôÏàòÏóê Îî∞Îùº ÎπÑÏö©Ï†úÌïúÏï°Ïù¥ Í∞ÄÏÇ∞Îê®">Ï†ú121Ï°∞</span></label>
        <input type="number" id="profileEMD" placeholder="Ïòà: 15" oninput="onProfileChange()">
        <div id="emdAutoNote" style="font-size:12px;color:var(--success);margin-top:4px;display:none;">‚úÖ ÌñâÏ†ïÎèô¬∑Ïùç¬∑Î©¥ Í∏∞Ï§Ä ÏûêÎèô ÏûÖÎ†•Îê®</div>
      </div>
    </div>
  </div>

  <div class="card" style="margin-bottom:24px;">
    <div class="card-title">ÎÇ¥ ÏÑ†Í±∞ Ï†ïÎ≥¥ ÏöîÏïΩ</div>
    <div id="profileSummary">
      <p style="color:var(--gray-500);">ÏÑ†Í±∞ Ïú†ÌòïÍ≥º ÏßÄÏó≠ÏùÑ ÏÑ†ÌÉùÌïòÎ©¥ Í¥ÄÎ†® Î≤ïÏ†Å Ï†ïÎ≥¥Í∞Ä ÌëúÏãúÎê©ÎãàÎã§.</p>
    </div>
  </div>

  <div style="display:flex; gap:12px; align-items:center;">
    <button class="btn btn-primary" onclick="saveProfile()">ÌîÑÎ°úÌïÑ Ï†ÄÏû•</button>
    <span id="profileSaveStatus"></span>
  </div>

  <div class="card" style="margin-top:24px;">
    <div class="card-title">ÏÑ†Í±∞Î≥Ñ Í∏∞ÌÉÅÍ∏à ÏùºÎûåÌëú <span class="law-ref">Ï†ú56Ï°∞</span></div>
    <div class="law-note">
      <strong>Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú56Ï°∞ (Í∏∞ÌÉÅÍ∏à)</strong> ‚Äî ÌõÑÎ≥¥ÏûêÎì±Î°ùÏùÑ Ïã†Ï≤≠ÌïòÎäî ÏûêÎäî Îì±Î°ùÏã†Ï≤≠ ÏãúÏóê ÌõÑÎ≥¥Ïûê 1Î™ÖÎßàÎã§ ÏïÑÎûòÏùò Í∏∞ÌÉÅÍ∏àÏùÑ Í¥ÄÌï†ÏÑ†Í±∞Íµ¨ÏÑ†Í±∞Í¥ÄÎ¶¨ÏúÑÏõêÌöåÏóê ÎÇ©Î∂ÄÌïòÏó¨Ïïº Ìï©ÎãàÎã§. Ïû•Ïï†Ïù∏ ÎòêÎäî 29ÏÑ∏ Ïù¥ÌïòÎäî 50%, 30~39ÏÑ∏Îäî 70%Î°ú Í∞êÏï°Îê©ÎãàÎã§(Ï†ú56Ï°∞ Ï†ú2Ìï≠).
    </div>
    <table class="info-table">
      <thead><tr><th>ÏÑ†Í±∞ Ï¢ÖÎ•ò</th><th>Í∏∞ÌÉÅÍ∏à</th><th>ÏòàÎπÑÌõÑÎ≥¥ Í∏∞ÌÉÅÍ∏à (20%)</th></tr></thead>
      <tbody>
        <tr><td>ÎåÄÌÜµÎ†πÏÑ†Í±∞</td><td>3Ïñµ Ïõê</td><td>6,000Îßå Ïõê</td></tr>
        <tr><td>Íµ≠ÌöåÏùòÏõêÏÑ†Í±∞ (ÏßÄÏó≠Íµ¨)</td><td>1,500Îßå Ïõê</td><td>300Îßå Ïõê</td></tr>
        <tr><td>Ïãú¬∑ÎèÑÏßÄÏÇ¨ÏÑ†Í±∞</td><td>5,000Îßå Ïõê</td><td>1,000Îßå Ïõê</td></tr>
        <tr><td>Ïãú¬∑ÎèÑÏùòÌöåÏùòÏõêÏÑ†Í±∞</td><td>300Îßå Ïõê</td><td>60Îßå Ïõê</td></tr>
        <tr><td>ÏûêÏπòÍµ¨¬∑Ïãú¬∑Íµ∞Ïùò Ïû• ÏÑ†Í±∞</td><td>1,000Îßå Ïõê</td><td>200Îßå Ïõê</td></tr>
        <tr><td>ÏûêÏπòÍµ¨¬∑Ïãú¬∑Íµ∞ÏùòÏõêÏÑ†Í±∞</td><td>200Îßå Ïõê</td><td>40Îßå Ïõê</td></tr>
      </tbody>
    </table>
    <div class="law-note" style="margin-top:12px;">
      <strong>Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú57Ï°∞ (Í∏∞ÌÉÅÍ∏àÏùò Î∞òÌôò)</strong> ‚Äî ÎãπÏÑ† ÎòêÎäî ÏÇ¨Îßù Ïãú, Ïú†Ìö®Ìà¨ÌëúÏ¥ùÏàòÏùò 15% Ïù¥ÏÉÅ ÎìùÌëú Ïãú Ï†ÑÏï° Î∞òÌôò. 10%~15% ÎØ∏Îßå ÎìùÌëú Ïãú 50% Î∞òÌôò. Í∑∏ Ïô∏ÏóêÎäî Íµ≠Í∞Ä¬∑ÏßÄÎ∞©ÏûêÏπòÎã®Ï≤¥Ïóê Í∑ÄÏÜçÎê©ÎãàÎã§.
    </div>
  </div>
</div>

<!-- ==================== CALCULATOR ==================== -->
<div id="page-calculator" class="page">
  <h2 style="font-size:24px; margin-bottom:8px;">üí∞ ÏÑ†Í±∞ ÎπÑÏö© Í≥ÑÏÇ∞Í∏∞ <span class="law-ref">Ï†ú121Ï°∞</span></h2>
  <p style="color:var(--gray-500); margin-bottom:24px;">Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú121Ï°∞Ïùò ÏÇ∞Ï∂ú Í≥µÏãùÏóê Îî∞Îùº ÏÑ†Í±∞ÎπÑÏö© Ï†úÌïúÏï°ÏùÑ ÏûêÎèô Í≥ÑÏÇ∞Ìï©ÎãàÎã§.</p>

  <div id="calcProfileBadge" style="margin-bottom:16px;"></div>

  <div class="calc-grid">
    <div>
      <div class="card" style="margin-bottom:20px;">
        <div class="card-title">ÏÑ†Í±∞ÎπÑÏö© Ï†úÌïúÏï° ÏÇ∞Ï†ï <span class="law-ref">Ï†ú121Ï°∞‚ë†</span></div>
        <div class="law-note">
          <strong>Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú121Ï°∞ (ÏÑ†Í±∞ÎπÑÏö©Ï†úÌïúÏï°Ïùò ÏÇ∞Ï†ï)</strong><br>
          ÏÑ†Í±∞ÎπÑÏö©Ï†úÌïúÏï°ÏùÄ ÏÑ†Í±∞Î≥ÑÎ°ú ÏïÑÎûò Í≥µÏãùÏóê ÏùòÌïòÏó¨ ÏÇ∞Ï†ïÎê©ÎãàÎã§. 100ÎßåÏõê ÎØ∏ÎßåÏùò Îã®ÏàòÎäî 100ÎßåÏõêÏúºÎ°ú Ìï©ÎãàÎã§. Î¨ºÍ∞ÄÎ≥ÄÎèôÎ•†Ïóê Îî∞Îùº Ï†úÌïúÏï°ÏÇ∞Ï†ïÎπÑÏú®Ïù¥ Ï†ÅÏö©Îê† Ïàò ÏûàÏäµÎãàÎã§(Ï†ú121Ï°∞‚ë°).
        </div>
        <div class="form-group">
          <label>ÏÑ†Í±∞ Ïú†Ìòï</label>
          <select id="calcElectionType" onchange="updateCalc()">
            <option value="city_council">Í∏∞Ï¥àÏùòÏõê (ÏûêÏπòÍµ¨¬∑Ïãú¬∑Íµ∞ÏùòÌöå)</option>
            <option value="metro_council">Í¥ëÏó≠ÏùòÏõê (Ïãú¬∑ÎèÑÏùòÌöå)</option>
            <option value="city_mayor">Í∏∞Ï¥àÎã®Ï≤¥Ïû• (ÏûêÏπòÍµ¨¬∑ÏãúÏû•¬∑Íµ∞Ïàò¬∑Íµ¨Ï≤≠Ïû•)</option>
            <option value="governor_metro">Í¥ëÏó≠Îã®Ï≤¥Ïû• - ÌäπÎ≥ÑÏãú¬∑Í¥ëÏó≠ÏãúÏû•</option>
            <option value="governor_do">Í¥ëÏó≠Îã®Ï≤¥Ïû• - ÎèÑÏßÄÏÇ¨</option>
            <option value="assembly">Íµ≠ÌöåÏùòÏõê (ÏßÄÏó≠Íµ¨)</option>
            <option value="president">ÎåÄÌÜµÎ†π</option>
          </select>
        </div>
        <div id="calcFormulaDisplay" class="law-note" style="font-size:14px;"></div>
        <div class="form-row">
          <div class="form-group">
            <label>ÏÑ†Í±∞Íµ¨ Ïù∏Íµ¨Ïàò (Î™Ö)</label>
            <input type="number" id="calcPopulation" placeholder="Ïòà: 50000" oninput="updateCalc()">
          </div>
          <div class="form-group">
            <label>Ïùç¬∑Î©¥¬∑Îèô Ïàò</label>
            <input type="number" id="calcEMD" placeholder="Ïòà: 15" oninput="updateCalc()">
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>Ï∂îÍ∞Ä ÏûêÏπòÍµ¨¬∑Ïãú¬∑Íµ∞ Ïàò <span class="law-ref" title="ÌïòÎÇòÏùò Íµ≠ÌöåÏùòÏõêÏßÄÏó≠Íµ¨Í∞Ä Îëò Ïù¥ÏÉÅÏùò ÏûêÏπòÍµ¨¬∑Ïãú¬∑Íµ∞ÏúºÎ°ú Îêú Í≤ΩÏö∞ 1Í∞ú Ï¥àÍ≥ºÎßàÎã§ 1,500ÎßåÏõê Í∞ÄÏÇ∞">Ï†ú121Ï°∞‚ë†2Ìò∏</span></label>
            <input type="number" id="calcExtraSigungu" placeholder="0 (Í∏∞Î≥∏)" value="0" oninput="updateCalc()">
          </div>
          <div class="form-group">
            <label>Î¨ºÍ∞ÄÎ≥ÄÎèôÎ•† ÏÇ∞Ï†ïÎπÑÏú® (%) <span class="law-ref">Ï†ú121Ï°∞‚ë°</span></label>
            <input type="number" id="calcInflation" placeholder="Ïòà: 10" value="0" oninput="updateCalc()">
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-title">ÏßÄÏ∂ú Ìï≠Î™©Î≥Ñ ÎπÑÏö© ÏûÖÎ†•</div>
        <div id="expenseInputs">
          <div class="form-group"><label>Ïù∏ÏáÑÎ¨º (Î™ÖÌï®¬∑Ï†ÑÎã®¬∑Î≤ΩÎ≥¥ Îì±) <span class="law-ref">Ï†ú65Ï°∞</span></label><input type="number" class="expense-input" data-name="Ïù∏ÏáÑÎ¨º" placeholder="0" oninput="updateCalc()"></div>
          <div class="form-group"><label>ÌòÑÏàòÎßâ¬∑Í∞ÑÌåê <span class="law-ref">Ï†ú67Ï°∞</span></label><input type="number" class="expense-input" data-name="ÌòÑÏàòÎßâ¬∑Í∞ÑÌåê" placeholder="0" oninput="updateCalc()"></div>
          <div class="form-group"><label>ÏÑ†Í±∞ÏÇ¨Î¨¥ÏÜå ÏûÑÏ∞®ÎπÑ <span class="law-ref">Ï†ú61Ï°∞</span></label><input type="number" class="expense-input" data-name="ÏÇ¨Î¨¥ÏÜå ÏûÑÏ∞®ÎπÑ" placeholder="0" oninput="updateCalc()"></div>
          <div class="form-group"><label>ÏÑ†Í±∞Ïö¥ÎèôÏõê ÏàòÎãπ <span class="law-ref">Ï†ú135Ï°∞‚ë°</span></label><input type="number" class="expense-input" data-name="Ïö¥ÎèôÏõê ÏàòÎãπ" placeholder="0" oninput="updateCalc()"></div>
          <div class="form-group"><label>Ï∞®Îüâ Ïö¥Ìñâ ÎπÑÏö© <span class="law-ref">Ï†ú79Ï°∞</span></label><input type="number" class="expense-input" data-name="Ï∞®Îüâ Ïö¥Ìñâ" placeholder="0" oninput="updateCalc()"></div>
          <div class="form-group"><label>Ïò®ÎùºÏù∏ ÌôçÎ≥¥ (SNS¬∑ÏõπÏÇ¨Ïù¥Ìä∏ Îì±) <span class="law-ref">Ï†ú82Ï°∞Ïùò7</span></label><input type="number" class="expense-input" data-name="Ïò®ÎùºÏù∏ ÌôçÎ≥¥" placeholder="0" oninput="updateCalc()"></div>
          <div class="form-group"><label>Ï†ÑÌôî¬∑Î¨∏Ïûê ÌôçÎ≥¥ <span class="law-ref">Ï†ú59Ï°∞‚ë°</span></label><input type="number" class="expense-input" data-name="Ï†ÑÌôî¬∑Î¨∏Ïûê" placeholder="0" oninput="updateCalc()"></div>
          <div class="form-group"><label>Í∏∞ÌÉÄ ÎπÑÏö©</label><input type="number" class="expense-input" data-name="Í∏∞ÌÉÄ" placeholder="0" oninput="updateCalc()"></div>
        </div>
      </div>
    </div>

    <div>
      <div class="calc-result" style="margin-bottom:20px;">
        <div style="font-size:13px; color:var(--gray-500); margin-bottom:2px;">Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú121Ï°∞Ïóê Îî∞Î•∏</div>
        <div style="font-size:15px; font-weight:600; margin-bottom:8px;">ÏÑ†Í±∞ÎπÑÏö© Ï†úÌïúÏï°</div>
        <div class="big-number" id="calcLimit">-</div>
        <div style="margin-top:16px; border-top:1px solid rgba(26,86,219,0.2); padding-top:12px;">
          <div style="font-size:14px; color:var(--gray-500); margin-bottom:4px;">ÎÇ¥ ÏßÄÏ∂ú Ìï©Í≥Ñ</div>
          <div class="big-number" id="totalCost" style="font-size:28px;">0Ïõê</div>
        </div>
        <div style="margin-top:8px;">
          <span id="limitStatus" style="font-size:14px; font-weight:600;">-</span>
        </div>
        <div style="margin-top:12px;">
          <div class="expense-bar" style="height:16px;">
            <div id="limitBar" class="expense-bar-fill" style="width:0%; background: var(--success);"></div>
          </div>
          <div style="display:flex; justify-content:space-between; font-size:12px; color:var(--gray-500); margin-top:4px;">
            <span>0Ïõê</span>
            <span id="limitLabel">-</span>
          </div>
        </div>
      </div>

      <div class="card" style="margin-bottom:20px;">
        <div class="card-title">ÏÇ∞Ï∂ú ÎÇ¥Ïó≠</div>
        <div id="calcBreakdownFormula" style="font-size:14px; color:var(--gray-700);"></div>
      </div>

      <div class="card" style="margin-bottom:20px;">
        <div class="card-title">Í∏∞ÌÉÅÍ∏à Ï†ïÎ≥¥ <span class="law-ref">Ï†ú56Ï°∞</span></div>
        <div id="depositInfo"></div>
      </div>

      <div class="card">
        <div class="card-title">Ìï≠Î™©Î≥Ñ ÎπÑÏ§ë</div>
        <div id="expenseBreakdown">
          <p style="color:var(--gray-500); font-size:14px;">ÎπÑÏö©ÏùÑ ÏûÖÎ†•ÌïòÎ©¥ Ìï≠Î™©Î≥Ñ ÎπÑÏ§ëÏù¥ ÌëúÏãúÎê©ÎãàÎã§.</p>
        </div>
      </div>

      <div class="law-note" style="margin-top:16px;">
        <strong>Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú122Ï°∞Ïùò2 (ÏÑ†Í±∞ÎπÑÏö©Ïùò Î≥¥Ï†Ñ)</strong> ‚Äî ÎãπÏÑ† ÎòêÎäî Ïú†Ìö®Ìà¨ÌëúÏ¥ùÏàò 15% Ïù¥ÏÉÅ ÎìùÌëú Ïãú Ï†ÑÏï° Î≥¥Ï†Ñ, 10%~15% ÎØ∏Îßå ÎìùÌëú Ïãú 50% Î≥¥Ï†Ñ. 10% ÎØ∏ÎßåÏùÄ Î≥¥Ï†Ñ ÏóÜÏùå.
      </div>
    </div>
  </div>
</div>

<!-- ==================== TIMELINE ==================== -->
<div id="page-timeline" class="page">
  <h2 style="font-size:24px; margin-bottom:8px;">üìÖ ÏÑ†Í±∞ ÏùºÏ†ï ÌÉÄÏûÑÎùºÏù∏</h2>
  <p style="color:var(--gray-500); margin-bottom:24px;">Í≥µÏßÅÏÑ†Í±∞Î≤ïÏóê Îî∞Î•∏ Î≤ïÏ†ï Í∏∞ÌïúÏùÑ ÏÑ†Í±∞Ïùº Í∏∞Ï§ÄÏúºÎ°ú ÏûêÎèô Í≥ÑÏÇ∞Ìï©ÎãàÎã§.</p>

  <!-- ÏòàÏ†ï ÏÑ†Í±∞ Îπ†Î•∏ ÏÑ†ÌÉù -->
  <div class="card no-print" style="margin-bottom:16px;">
    <div class="card-title">üìå ÏòàÏ†ï ÏÑ†Í±∞ Îπ†Î•∏ ÏÑ†ÌÉù</div>
    <div style="display:flex; gap:10px; flex-wrap:wrap;">
      <button class="btn btn-primary btn-sm" onclick="setElection('2026-06-03','local_basic','sigungu')">Ï†ú9Ìöå ÏßÄÎ∞©ÏÑ†Í±∞ (Í∏∞Ï¥à)<br><small>2026.6.3</small></button>
      <button class="btn btn-primary btn-sm" onclick="setElection('2026-06-03','local_metro','sigungu')">Ï†ú9Ìöå ÏßÄÎ∞©ÏÑ†Í±∞ (Í¥ëÏó≠)<br><small>2026.6.3</small></button>
      <button class="btn btn-outline btn-sm" onclick="setElection('2028-04-12','general','sigungu')">Ï†ú23ÎåÄ Íµ≠ÌöåÏùòÏõêÏÑ†Í±∞<br><small>2028.4.12</small></button>
    </div>
    <div class="law-note" style="margin-top:12px; margin-bottom:0;">
      <strong>Ï†ú21ÎåÄ ÎåÄÌÜµÎ†πÏÑ†Í±∞</strong> ‚Äî 2025.6.3 Ïã§Ïãú ÏôÑÎ£å (Ïú§ÏÑùÏó¥ ÎåÄÌÜµÎ†π ÌÉÑÌïµÏóê Îî∞Î•∏ Í∂êÏúÑ ÏÑ†Í±∞, Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú35Ï°∞‚ë°)
    </div>
  </div>

  <div class="card no-print" style="margin-bottom:24px;">
    <div class="card-title">ÏÑ†Í±∞Ïùº ÏßÅÏ†ë ÏÑ§Ï†ï</div>
    <div class="form-row-3">
      <div class="form-group">
        <label>ÏÑ†Í±∞Ïùº ÏÑ§Ï†ï</label>
        <input type="date" id="electionDate" onchange="buildTimeline()">
      </div>
      <div class="form-group">
        <label>ÏÑ†Í±∞ Ïú†Ìòï</label>
        <select id="timelineType" onchange="buildTimeline()">
          <option value="local_basic">ÏßÄÎ∞©ÏÑ†Í±∞ (Í∏∞Ï¥àÏùòÏõê¬∑Í∏∞Ï¥àÎã®Ï≤¥Ïû•)</option>
          <option value="local_metro">ÏßÄÎ∞©ÏÑ†Í±∞ (Í¥ëÏó≠ÏùòÏõê¬∑Í¥ëÏó≠Îã®Ï≤¥Ïû•)</option>
          <option value="general">Íµ≠ÌöåÏùòÏõê Ï¥ùÏÑ†Í±∞</option>
          <option value="presidential">ÎåÄÌÜµÎ†π ÏÑ†Í±∞</option>
        </select>
      </div>
      <div class="form-group">
        <label>ÏÑ†Í±∞Íµ¨ ÏÑ∏Î∂Ä Ïú†Ìòï</label>
        <select id="timelineSubType" onchange="buildTimeline()">
          <option value="sigungu">ÏûêÏπòÍµ¨¬∑ÏãúÏùò ÏùòÏõê Î∞è Ïû•</option>
          <option value="gun">Íµ∞Ïùò ÏùòÏõê Î∞è Ïû•</option>
        </select>
      </div>
    </div>
  </div>

  <div class="stat-grid" id="timelineStats">
    <div class="stat-card"><div class="stat-number" id="dDayStat">-</div><div class="stat-label">ÏÑ†Í±∞ÏùºÍπåÏßÄ</div></div>
    <div class="stat-card"><div class="stat-number" id="campaignDays">-</div><div class="stat-label">ÏÑ†Í±∞Ïö¥Îèô Í∏∞Í∞Ñ <span class="law-ref" style="font-size:10px;">Ï†ú33Ï°∞</span></div></div>
    <div class="stat-card"><div class="stat-number" id="completedEvents">0</div><div class="stat-label">ÏôÑÎ£åÎêú ÏùºÏ†ï</div></div>
    <div class="stat-card"><div class="stat-number" id="upcomingEvents">0</div><div class="stat-label">ÎÇ®ÏùÄ ÏùºÏ†ï</div></div>
  </div>

  <div class="law-note no-print" style="margin-bottom:24px;">
    <strong>Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú33Ï°∞ (ÏÑ†Í±∞Í∏∞Í∞Ñ)</strong> ‚Äî ÎåÄÌÜµÎ†πÏÑ†Í±∞Îäî 23Ïùº, Íµ≠ÌöåÏùòÏõêÏÑ†Í±∞ÏôÄ ÏßÄÎ∞©ÏûêÏπòÎã®Ï≤¥Ïùò ÏùòÌöåÏùòÏõê Î∞è Ïû•Ïùò ÏÑ†Í±∞Îäî 14ÏùºÏûÖÎãàÎã§.<br>
    <strong>Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú59Ï°∞ (ÏÑ†Í±∞Ïö¥ÎèôÍ∏∞Í∞Ñ)</strong> ‚Äî ÏÑ†Í±∞Ïö¥ÎèôÏùÄ ÌõÑÎ≥¥ÏûêÎì±Î°ù ÎßàÍ∞êÏùºÏùò Îã§Ïùå ÎÇ†Î∂ÄÌÑ∞ ÏÑ†Í±∞Ïùº Ï†ÑÏùºÍπåÏßÄ Ìï† Ïàò ÏûàÏäµÎãàÎã§.<br>
    <strong>Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú34Ï°∞ (ÏÑ†Í±∞Ïùº)</strong> ‚Äî ÏûÑÍ∏∞ÎßåÎ£åÏóê ÏùòÌïú ÏÑ†Í±∞ÏùºÏùÄ Í∞Å ÏÑ†Í±∞ Ïú†ÌòïÎ≥Ñ ÏûÑÍ∏∞ÎßåÎ£åÏùº Ï†ÑÏóê Î≤ïÏ†ï Í∏∞Í∞Ñ ÎÇ¥ Ï≤´ ÏàòÏöîÏùºÏûÖÎãàÎã§.
  </div>

  <div class="timeline" id="timelineContainer">
    <p style="color:var(--gray-500);">ÏúÑÏùò ÏòàÏ†ï ÏÑ†Í±∞Î•º ÏÑ†ÌÉùÌïòÍ±∞ÎÇò ÏÑ†Í±∞ÏùºÏùÑ ÏßÅÏ†ë ÏÑ§Ï†ïÌïòÎ©¥ ÌÉÄÏûÑÎùºÏù∏Ïù¥ ÏÉùÏÑ±Îê©ÎãàÎã§.</p>
  </div>
</div>

<!-- ==================== PLEDGE ==================== -->
<div id="page-pledge" class="page">
  <h2 style="font-size:24px; margin-bottom:8px;">üìã Í≥µÏïΩ ÏûëÏÑ± ÎèÑÍµ¨</h2>
  <p style="color:var(--gray-500); margin-bottom:24px;">Î∂ÑÏïºÎ≥Ñ Í≥µÏïΩÏùÑ Ï≤¥Í≥ÑÏ†ÅÏúºÎ°ú Ï†ïÎ¶¨ÌïòÏÑ∏Ïöî.</p>

  <div class="stat-grid" id="pledgeStats">
    <div class="stat-card"><div class="stat-number" id="totalPledges">0</div><div class="stat-label">Ï¥ù Í≥µÏïΩ Ïàò</div></div>
    <div class="stat-card"><div class="stat-number" id="totalBudget">0Ïõê</div><div class="stat-label">Ï¥ù ÏòàÏÉÅ ÏòàÏÇ∞</div></div>
    <div class="stat-card"><div class="stat-number" id="categoryCount">0</div><div class="stat-label">Î∂ÑÏïº Ïàò</div></div>
  </div>

  <div class="card no-print" style="margin-bottom:24px;">
    <div class="card-title">ÏÉà Í≥µÏïΩ Ï∂îÍ∞Ä</div>
    <div class="form-row">
      <div class="form-group">
        <label>Î∂ÑÏïº</label>
        <select id="pledgeCategory">
          <option value="Í≤ΩÏ†ú¬∑ÏùºÏûêÎ¶¨">Í≤ΩÏ†ú¬∑ÏùºÏûêÎ¶¨</option>
          <option value="ÍµêÏú°¬∑Î≥¥Ïú°">ÍµêÏú°¬∑Î≥¥Ïú°</option>
          <option value="Î≥µÏßÄ¬∑Í±¥Í∞ï">Î≥µÏßÄ¬∑Í±¥Í∞ï</option>
          <option value="ÌôòÍ≤Ω¬∑ÏïàÏ†Ñ">ÌôòÍ≤Ω¬∑ÏïàÏ†Ñ</option>
          <option value="ÍµêÌÜµ¬∑ÎèÑÏãú">ÍµêÌÜµ¬∑ÎèÑÏãú</option>
          <option value="Î¨∏Ìôî¬∑Í¥ÄÍ¥ë">Î¨∏Ìôî¬∑Í¥ÄÍ¥ë</option>
          <option value="ÌñâÏ†ï¬∑ÏûêÏπò">ÌñâÏ†ï¬∑ÏûêÏπò</option>
          <option value="Í∏∞ÌÉÄ">Í∏∞ÌÉÄ</option>
        </select>
      </div>
      <div class="form-group">
        <label>Ïö∞ÏÑ†ÏàúÏúÑ</label>
        <select id="pledgePriority">
          <option value="ÎÜíÏùå">ÎÜíÏùå (ÌïµÏã¨ Í≥µÏïΩ)</option>
          <option value="Ï§ëÍ∞Ñ">Ï§ëÍ∞Ñ</option>
          <option value="ÎÇÆÏùå">ÎÇÆÏùå</option>
        </select>
      </div>
    </div>
    <div class="form-group">
      <label>Í≥µÏïΩ Ï†úÎ™©</label>
      <input type="text" id="pledgeTitle" placeholder="Ïòà: Ïñ¥Î¶∞Ïù¥ ÎÜÄÏù¥ÌÑ∞ 10Í∞úÏÜå Ïã†ÏÑ§">
    </div>
    <div class="form-group">
      <label>ÏÑ∏Î∂Ä ÎÇ¥Ïö©</label>
      <textarea id="pledgeDetail" rows="3" placeholder="Í≥µÏïΩÏùò Íµ¨Ï≤¥Ï†ÅÏù∏ ÎÇ¥Ïö©Í≥º Ïã§Ìñâ Î∞©Î≤ïÏùÑ ÏûëÏÑ±ÌïòÏÑ∏Ïöî."></textarea>
    </div>
    <div class="form-row">
      <div class="form-group">
        <label>ÏòàÏÉÅ ÏÜåÏöî ÏòàÏÇ∞ (ÎßåÏõê)</label>
        <input type="number" id="pledgeBudgetInput" placeholder="Ïòà: 5000">
      </div>
      <div class="form-group">
        <label>Î™©Ìëú ÏôÑÎ£å ÏãúÍ∏∞</label>
        <select id="pledgeTimeline">
          <option value="ÏûÑÍ∏∞ 1ÎÖÑ ÎÇ¥">ÏûÑÍ∏∞ 1ÎÖÑ ÎÇ¥</option>
          <option value="ÏûÑÍ∏∞ 2ÎÖÑ ÎÇ¥">ÏûÑÍ∏∞ 2ÎÖÑ ÎÇ¥</option>
          <option value="ÏûÑÍ∏∞ Ï§ë">ÏûÑÍ∏∞ Ï§ë</option>
          <option value="ÏûÑÍ∏∞ ÌõÑÎ∞ò">ÏûÑÍ∏∞ ÌõÑÎ∞ò</option>
        </select>
      </div>
    </div>
    <button class="btn btn-primary" onclick="addPledge()">Í≥µÏïΩ Ï∂îÍ∞Ä</button>
  </div>

  <div class="tab-bar no-print">
    <button class="tab-btn active" onclick="filterPledges('all', this)">Ï†ÑÏ≤¥</button>
    <button class="tab-btn" onclick="filterPledges('Í≤ΩÏ†ú¬∑ÏùºÏûêÎ¶¨', this)">Í≤ΩÏ†ú¬∑ÏùºÏûêÎ¶¨</button>
    <button class="tab-btn" onclick="filterPledges('ÍµêÏú°¬∑Î≥¥Ïú°', this)">ÍµêÏú°¬∑Î≥¥Ïú°</button>
    <button class="tab-btn" onclick="filterPledges('Î≥µÏßÄ¬∑Í±¥Í∞ï', this)">Î≥µÏßÄ¬∑Í±¥Í∞ï</button>
    <button class="tab-btn" onclick="filterPledges('ÌôòÍ≤Ω¬∑ÏïàÏ†Ñ', this)">ÌôòÍ≤Ω¬∑ÏïàÏ†Ñ</button>
    <button class="tab-btn" onclick="filterPledges('ÍµêÌÜµ¬∑ÎèÑÏãú', this)">ÍµêÌÜµ¬∑ÎèÑÏãú</button>
    <button class="tab-btn" onclick="filterPledges('Î¨∏Ìôî¬∑Í¥ÄÍ¥ë', this)">Î¨∏Ìôî¬∑Í¥ÄÍ¥ë</button>
  </div>

  <ul class="pledge-list" id="pledgeList">
    <p style="color:var(--gray-500); text-align:center; padding:40px;">ÏïÑÏßÅ Îì±Î°ùÎêú Í≥µÏïΩÏù¥ ÏóÜÏäµÎãàÎã§.</p>
  </ul>
  <div style="margin-top:20px;" class="no-print">
    <button class="btn btn-outline" onclick="exportPledges()">Í≥µÏïΩ Î™©Î°ù ÎÇ¥Î≥¥ÎÇ¥Í∏∞ (ÌÖçÏä§Ìä∏)</button>
  </div>
</div>

<!-- ==================== REGULATIONS ==================== -->
<div id="page-regulations" class="page">
  <h2 style="font-size:24px; margin-bottom:8px;">üìú ÏÑ†Í±∞Ïö¥Îèô Í∑úÏ†ï ÏïàÎÇ¥</h2>
  <p style="color:var(--gray-500); margin-bottom:8px;">Í≥µÏßÅÏÑ†Í±∞Î≤ïÏóê Îî∞Î•∏ ÏãúÍ∏∞Î≥Ñ ÏÑ†Í±∞Ïö¥Îèô ÌóàÏö©¬∑Í∏àÏßÄ ÏÇ¨Ìï≠ÏùÑ ÏïàÎÇ¥Ìï©ÎãàÎã§.</p>

  <div class="form-row" style="margin-bottom:20px;">
    <div class="form-group" style="margin-bottom:0;">
      <label>Í∏∞Ï§Ä ÏÑ†Í±∞</label>
      <select id="regElection" onchange="updateRegPage()">
        <option value="local9">Ï†ú9Ìöå ÏßÄÎ∞©ÏÑ†Í±∞ (2026.6.3)</option>
        <option value="assembly23">Ï†ú23ÎåÄ Íµ≠ÌöåÏùòÏõêÏÑ†Í±∞ (2028.4.12)</option>
        <option value="custom">ÏßÅÏ†ë ÏûÖÎ†•</option>
      </select>
    </div>
    <div class="form-group" style="margin-bottom:0;">
      <label>ÏÑ†Í±∞Ïùº (ÏßÅÏ†ë ÏûÖÎ†• Ïãú)</label>
      <input type="date" id="regElectionDate" value="2026-06-03" onchange="updateRegPage()">
    </div>
  </div>

  <!-- Í∏∞Í∞Ñ ÌÉ≠ -->
  <div class="reg-tabs">
    <button class="reg-tab active" onclick="showRegPeriod('normal')">‚ë† ÎπÑÏÑ†Í±∞Í∏∞Í∞Ñ</button>
    <button class="reg-tab" onclick="showRegPeriod('pre')">‚ë° ÏòàÎπÑÌõÑÎ≥¥Ïûê Í∏∞Í∞Ñ</button>
    <button class="reg-tab" onclick="showRegPeriod('main')">‚ë¢ Î≥∏ÏÑ†Í±∞ Í∏∞Í∞Ñ</button>
  </div>

  <!-- Í∏∞Í∞Ñ Ï†ïÎ≥¥ + ÏöîÏïΩ -->
  <div class="reg-period-info" id="regPeriodInfo"></div>

  <!-- Ïπ¥ÌÖåÍ≥†Î¶¨ Î©îÎâ¥ -->
  <div class="reg-menu" id="regMenu"></div>

  <!-- ÏÉÅÏÑ∏ Ìå®ÎÑê -->
  <div id="regDetailPanel"></div>

  <!-- ====== Ï†ÅÎ≤ïÏÑ± Î∂ÑÏÑùÍ∏∞ ====== -->
  <div class="analyzer-section">
    <div class="analyzer-card">
      <div class="analyzer-header">
        <span style="font-size:28px;">üîç</span>
        <div>
          <h3>ÏÑ†Í±∞Ïö¥Îèô Ï†ÅÎ≤ïÏÑ± Î∂ÑÏÑùÍ∏∞</h3>
          <p style="font-size:13px; opacity:0.85; margin-top:2px;">Î¨∏ÏûêÎ©îÏãúÏßÄ, ÌôçÎ≥¥ Î¨∏Íµ¨, Ïù¥ÎØ∏ÏßÄ ÎÇ¥Ïö©ÏùÑ ÏûÖÎ†•ÌïòÎ©¥ Í≥µÏßÅÏÑ†Í±∞Î≤ï ÏúÑÎ∞ò Ïó¨Î∂ÄÎ•º Î∂ÑÏÑùÌï©ÎãàÎã§.</p>
        </div>
      </div>
      <div class="analyzer-body">
        <!-- ÌÉ≠ -->
        <div class="analyzer-tabs">
          <button class="analyzer-tab active" onclick="switchAnalyzerTab('text')">üìù Î¨∏Ïûê¬∑ÌÖçÏä§Ìä∏ Î∂ÑÏÑù</button>
          <button class="analyzer-tab" onclick="switchAnalyzerTab('image')">üñºÔ∏è Ïù¥ÎØ∏ÏßÄ Î∂ÑÏÑù</button>
        </div>

        <!-- ÌÖçÏä§Ìä∏ ÏûÖÎ†• -->
        <div id="analyzerTextArea">
          <textarea class="analyzer-textarea" id="analyzerText" placeholder="Î∂ÑÏÑùÌï† Î¨∏ÏûêÎ©îÏãúÏßÄ, SNS Í∏Ä, ÌôçÎ≥¥ Î¨∏Íµ¨ Îì±ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî.&#10;&#10;ÏòàÏãú:&#10;‚Ä¢ Î¨∏ÏûêÎ©îÏãúÏßÄ: &quot;‚óã‚óã‚óã ÌõÑÎ≥¥Î•º ÏßÄÏßÄÌï¥ Ï£ºÏÑ∏Ïöî! Í∏∞Ìò∏ 1Î≤à&quot;&#10;‚Ä¢ SNS Í∏Ä: &quot;Ïù¥Î≤à ÏÑ†Í±∞ÏóêÏÑú Ïö∞Î¶¨ ÎèôÎÑ§Î•º Î∞îÍøÄ Î∂ÑÏùÄ...&quot;&#10;‚Ä¢ ÌòÑÏàòÎßâ Î¨∏Íµ¨: &quot;‚óã‚óã‚óãÏôÄ Ìï®ÍªòÌïòÎäî Î∞ùÏùÄ ÎØ∏Îûò&quot;"></textarea>
          <div class="analyzer-examples">
            <details>
              <summary>üí° ÏòàÏãú Î¨∏Íµ¨ ÏÑ†ÌÉùÌïòÍ∏∞</summary>
              <div class="example-chips">
                <span class="example-chip" onclick="setAnalyzerExample(0)">üì± ÏÑ†Í±∞Ïùº Ìà¨ÌëúÎèÖÎ†§ Î¨∏Ïûê</span>
                <span class="example-chip" onclick="setAnalyzerExample(1)">üì± ÌõÑÎ≥¥ ÏßÄÏßÄ ÏöîÏ≤≠ Î¨∏Ïûê</span>
                <span class="example-chip" onclick="setAnalyzerExample(2)">üåê SNS ÌõÑÎ≥¥ ÌôçÎ≥¥Í∏Ä</span>
                <span class="example-chip" onclick="setAnalyzerExample(3)">üìã ÌòÑÏàòÎßâ Î¨∏Íµ¨</span>
                <span class="example-chip" onclick="setAnalyzerExample(4)">üéÅ ÎãπÏÑ† Ï∂ïÌïò Î¨∏Ïûê</span>
                <span class="example-chip" onclick="setAnalyzerExample(5)">‚òéÔ∏è ÏÇ¨Ï†ÑÏÑ†Í±∞Ïö¥Îèô Î¨∏Ïûê</span>
                <span class="example-chip" onclick="setAnalyzerExample(6)">üìù Ï†ïÎãπ ÌôúÎèô ÏïàÎÇ¥</span>
                <span class="example-chip" onclick="setAnalyzerExample(7)">‚ö†Ô∏è ÌóàÏúÑÏÇ¨Ïã§ Ïú†Ìè¨</span>
              </div>
            </details>
          </div>
        </div>

        <!-- Ïù¥ÎØ∏ÏßÄ ÏûÖÎ†• -->
        <div id="analyzerImageArea" style="display:none;">
          <div class="analyzer-img-area" id="analyzerImgDrop" onclick="document.getElementById('analyzerImgInput').click()">
            <div class="analyzer-img-text" id="analyzerImgPlaceholder">
              <span class="big">üì∑</span>
              Ïù¥ÎØ∏ÏßÄÎ•º ÌÅ¥Î¶≠ÌïòÏó¨ ÏÑ†ÌÉùÌïòÍ±∞ÎÇò Ïó¨Í∏∞Ïóê ÎìúÎûòÍ∑∏ÌïòÏÑ∏Ïöî<br>
              <span style="font-size:12px; color:var(--gray-500);">(ÏÑ†Í±∞ ÌôçÎ≥¥Î¨º, ÌòÑÏàòÎßâ, Î™ÖÌï®, SNS Í≤åÏãúÎ¨º Îì±)</span>
            </div>
            <img id="analyzerImgPreview" class="analyzer-img-preview" style="display:none;">
            <input type="file" id="analyzerImgInput" accept="image/*" style="display:none;" onchange="handleAnalyzerImage(event)">
          </div>
          <div class="form-group" style="margin-top:12px;">
            <label>Ïù¥ÎØ∏ÏßÄÏóê Ìè¨Ìï®Îêú ÌÖçÏä§Ìä∏ (ÏàòÎèô ÏûÖÎ†•)</label>
            <textarea class="analyzer-textarea" id="analyzerImgText" style="min-height:80px;" placeholder="Ïù¥ÎØ∏ÏßÄÏóê Ìè¨Ìï®Îêú Î¨∏Íµ¨Î•º ÏßÅÏ†ë ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.&#10;&#10;Ïòà: &quot;Í∏∞Ìò∏ 1Î≤à ‚óã‚óã‚óã, Ïùº ÏûòÌïòÎäî ÏãúÏùòÏõê&quot;"></textarea>
          </div>
          <div class="form-group">
            <label>Ïù¥ÎØ∏ÏßÄ Ïú†Ìòï</label>
            <select id="analyzerImgType">
              <option value="poster">ÌòÑÏàòÎßâ¬∑Î≤ΩÎ≥¥</option>
              <option value="flyer">Ï†ÑÎã®¬∑ÌôçÎ≥¥Î¨º</option>
              <option value="namecard">Î™ÖÌï®</option>
              <option value="sns">SNS Í≤åÏãúÎ¨º¬∑Ïπ¥ÎìúÎâ¥Ïä§</option>
              <option value="ad">Ïù∏ÌÑ∞ÎÑ∑ Î∞∞ÎÑà¬∑Í¥ëÍ≥†</option>
              <option value="other">Í∏∞ÌÉÄ</option>
            </select>
          </div>
        </div>

        <!-- Î∂ÑÏÑù ÏòµÏÖò -->
        <div class="analyzer-options">
          <label>Î∂ÑÏÑù Í∏∞Ï§Ä ÏãúÏ†ê:</label>
          <select id="analyzerPeriod">
            <option value="auto">ÏûêÎèô (ÌòÑÏû¨ ÏÑ†ÌÉùÎêú Í∏∞Í∞Ñ)</option>
            <option value="normal">ÎπÑÏÑ†Í±∞Í∏∞Í∞Ñ</option>
            <option value="pre">ÏòàÎπÑÌõÑÎ≥¥Ïûê Í∏∞Í∞Ñ</option>
            <option value="main">Î≥∏ÏÑ†Í±∞ Í∏∞Í∞Ñ</option>
          </select>
          <label style="margin-left:8px;">ÏÑ†Í±∞ Ïú†Ìòï:</label>
          <select id="analyzerElecType">
            <option value="local">ÏßÄÎ∞©ÏÑ†Í±∞</option>
            <option value="assembly">Íµ≠ÌöåÏùòÏõêÏÑ†Í±∞</option>
            <option value="president">ÎåÄÌÜµÎ†πÏÑ†Í±∞</option>
          </select>
        </div>

        <button class="analyzer-btn" onclick="runAnalysis()">üîç Ï†ÅÎ≤ïÏÑ± Î∂ÑÏÑùÌïòÍ∏∞</button>

        <!-- Î∂ÑÏÑù Í≤∞Í≥º -->
        <div class="analyzer-result" id="analyzerResult"></div>
      </div>
    </div>
  </div>

  <div class="law-note" style="margin-top:24px;">
    <strong>Ïú†ÏùòÏÇ¨Ìï≠</strong> ‚Äî Î≥∏ ÏïàÎÇ¥Îäî Í≥µÏßÅÏÑ†Í±∞Î≤ïÏùò Ï£ºÏöî Í∑úÏ†ïÏùÑ ÏöîÏïΩÌïú Í≤ÉÏúºÎ°ú, Íµ¨Ï≤¥Ï†ÅÏù∏ ÏÇ¨ÏïàÏóê ÎåÄÌï¥ÏÑúÎäî Î∞òÎìúÏãú Í¥ÄÌï† ÏÑ†Í±∞Í¥ÄÎ¶¨ÏúÑÏõêÌöåÏóê Î¨∏ÏùòÌïòÏãúÍ∏∞ Î∞îÎûçÎãàÎã§. Î≤ï Í∞úÏ†ïÏóê Îî∞Îùº ÎÇ¥Ïö©Ïù¥ Î≥ÄÍ≤ΩÎê† Ïàò ÏûàÏäµÎãàÎã§.<br>
    <strong>ÏÑ†Í±∞Î≤ï ÏúÑÎ∞ò Ïã†Í≥†:</strong> Ï§ëÏïôÏÑ†Í±∞Í¥ÄÎ¶¨ÏúÑÏõêÌöå ‚òé 1390
  </div>
</div>

<!-- ==================== CHECKLIST ==================== -->
<div id="page-checklist" class="page">
  <h2 style="font-size:24px; margin-bottom:8px;">‚úÖ ÏÑ†Í±∞ Ï§ÄÎπÑ Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏</h2>
  <p style="color:var(--gray-500); margin-bottom:24px;">Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï°∞Ìï≠Î≥Ñ ÌïÑÏàò Ï§ÄÎπÑÏÇ¨Ìï≠ÏùÑ Ï≤¥ÌÅ¨ÌïòÏÑ∏Ïöî. Í∞Å Ìï≠Î™©Ïùò Î≤ïÏ†Å Í∑ºÍ±∞Í∞Ä ÌëúÏãúÎê©ÎãàÎã§.</p>

  <div class="card" style="margin-bottom:24px;">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:12px;">
      <div class="card-title" style="margin-bottom:0;">Ï†ÑÏ≤¥ Ï§ÄÎπÑ ÌòÑÌô©</div>
      <span class="progress-text" id="overallProgress">0%</span>
    </div>
    <div class="progress-bar">
      <div class="progress-fill" id="overallProgressBar" style="width:0%;"></div>
    </div>
  </div>
  <div id="checklistContainer"></div>
</div>

<!-- ==================== Í∞úÏù∏Ï†ïÎ≥¥Ï≤òÎ¶¨Î∞©Ïπ® ==================== -->
<div id="page-privacy" class="page">
  <h2 style="font-size:24px; margin-bottom:8px;">üîí Í∞úÏù∏Ï†ïÎ≥¥Ï≤òÎ¶¨Î∞©Ïπ®</h2>
  <p style="color:var(--gray-500); margin-bottom:24px;">„ÄåÍ∞úÏù∏Ï†ïÎ≥¥ Î≥¥Ìò∏Î≤ï„Äç Ï†ú30Ï°∞Ïóê Îî∞Îùº Ï†ïÎ≥¥Ï£ºÏ≤¥Ïùò Í∞úÏù∏Ï†ïÎ≥¥Î•º Î≥¥Ìò∏ÌïòÍ≥† Í¥ÄÎ†® Í≥†Ï∂©ÏùÑ Ïã†ÏÜçÌïòÍ≥† ÏõêÌôúÌïòÍ≤å Ï≤òÎ¶¨ÌïòÍ∏∞ ÏúÑÌïòÏó¨ Îã§ÏùåÍ≥º Í∞ôÏù¥ Í∞úÏù∏Ï†ïÎ≥¥ Ï≤òÎ¶¨Î∞©Ïπ®ÏùÑ ÏàòÎ¶Ω¬∑Í≥µÍ∞úÌï©ÎãàÎã§.</p>

  <div class="card" style="margin-bottom:20px;">
    <div class="card-title">Ï†ú1Ï°∞ (Í∞úÏù∏Ï†ïÎ≥¥Ïùò Ï≤òÎ¶¨ Î™©Ï†Å)</div>
    <p style="color:var(--gray-700);line-height:1.8;">Î≥∏ ÏÑúÎπÑÏä§(ÏÑ†Í±∞ÎèÑÏö∞ÎØ∏)Îäî ÏÑ†Í±∞ ÌõÑÎ≥¥Ïûê Î∞è ÏÑ†Í±∞ Ï∫†ÌîÑ Í¥ÄÍ≥ÑÏûêÎ•º ÏúÑÌïú ÏÑ†Í±∞Î≤ï ÏïàÎÇ¥ ÎèÑÍµ¨Î°úÏÑú, Îã§Ïùå Î™©Ï†ÅÏúºÎ°ú Í∞úÏù∏Ï†ïÎ≥¥Î•º Ï≤òÎ¶¨Ìï©ÎãàÎã§.</p>
    <ul style="margin:12px 0 0 20px;color:var(--gray-700);line-height:2;">
      <li>ÌöåÏõê Í∞ÄÏûÖ Î∞è Í¥ÄÎ¶¨: ÏÑúÎπÑÏä§ Ïù¥Ïö©Ïûê ÏãùÎ≥Ñ, Í∂åÌïú Í¥ÄÎ¶¨</li>
      <li>ÏÑúÎπÑÏä§ Ï†úÍ≥µ: ÏÑ†Í±∞Î≤ï Í∑úÏ†ï ÏïàÎÇ¥, Î∂ÑÏÑù ÎèÑÍµ¨, Ï∫†ÌîÑ Í¥ÄÎ¶¨ Í∏∞Îä• Ï†úÍ≥µ</li>
      <li>Î≥¥Ïïà Î∞è Î∂ÄÏ†ï Ïù¥Ïö© Î∞©ÏßÄ: Î°úÍ∑∏Ïù∏ ÏãúÎèÑ Ï†úÌïú, ÌôúÎèô Î°úÍ∑∏ Í¥ÄÎ¶¨</li>
    </ul>
  </div>

  <div class="card" style="margin-bottom:20px;">
    <div class="card-title">Ï†ú2Ï°∞ (ÏàòÏßëÌïòÎäî Í∞úÏù∏Ï†ïÎ≥¥ Ìï≠Î™©)</div>
    <table class="info-table">
      <tr><th>Ìï≠Î™©</th><th>ÏàòÏßë Ï†ïÎ≥¥</th><th>Î≥¥Í¥Ä Î∞©Ïãù</th></tr>
      <tr><td>ÌïÑÏàò</td><td>Ïù¥Î¶Ñ, Ïù¥Î©îÏùº, Ìú¥ÎåÄÏ†ÑÌôîÎ≤àÌò∏, ÎπÑÎ∞ÄÎ≤àÌò∏(ÏïîÌò∏Ìôî)</td><td>Î∏åÎùºÏö∞Ï†Ä Î°úÏª¨ Ï†ÄÏû•ÏÜå</td></tr>
      <tr><td>ÏÑ†ÌÉù</td><td>ÏÜåÏÜç Ï†ïÎãπ, Ï∂úÎßà Ïú†Ìòï, ÏßÄÏó≠(ÏãúÎèÑ/ÏãúÍµ∞Íµ¨)</td><td>Î∏åÎùºÏö∞Ï†Ä Î°úÏª¨ Ï†ÄÏû•ÏÜå</td></tr>
    </table>
    <div class="law-note" style="margin-top:16px;"><strong>‚ö†Ô∏è Ï§ëÏöî:</strong> Î™®Îì† Îç∞Ïù¥ÌÑ∞Îäî ÏÇ¨Ïö©ÏûêÏùò Î∏åÎùºÏö∞Ï†Ä(Í∏∞Í∏∞)ÏóêÎßå Ï†ÄÏû•ÎêòÎ©∞, Ïô∏Î∂Ä ÏÑúÎ≤ÑÎ°ú Ï†ÑÏÜ°ÎêòÏßÄ ÏïäÏäµÎãàÎã§. Î∏åÎùºÏö∞Ï†Ä Îç∞Ïù¥ÌÑ∞ ÏÇ≠Ï†ú Ïãú Î™®Îì† Ï†ïÎ≥¥Í∞Ä ÏÜåÎ©∏Îê©ÎãàÎã§.</div>
  </div>

  <div class="card" style="margin-bottom:20px;">
    <div class="card-title">Ï†ú3Ï°∞ (Í∞úÏù∏Ï†ïÎ≥¥Ïùò Î≥¥Ïú† Î∞è Ïù¥Ïö© Í∏∞Í∞Ñ)</div>
    <p style="color:var(--gray-700);line-height:1.8;">Í∞úÏù∏Ï†ïÎ≥¥Îäî ÏàòÏßë Î™©Ï†ÅÏù¥ Îã¨ÏÑ±ÎêòÍ±∞ÎÇò ÌöåÏõê ÌÉàÌá¥ ÏãúÍπåÏßÄ Î≥¥Ïú†Ìï©ÎãàÎã§. ÌöåÏõê ÌÉàÌá¥ Ïãú Ï¶âÏãú ÏÇ≠Ï†úÎêòÎ©∞ Î≥µÍµ¨Ìï† Ïàò ÏóÜÏäµÎãàÎã§. ÌôúÎèô Î°úÍ∑∏Îäî ÏµúÎåÄ 500Í±¥ÍπåÏßÄ Î≥¥Í¥Ä ÌõÑ ÏûêÎèô ÏÇ≠Ï†úÎê©ÎãàÎã§.</p>
  </div>

  <div class="card" style="margin-bottom:20px;">
    <div class="card-title">Ï†ú4Ï°∞ (Í∞úÏù∏Ï†ïÎ≥¥Ïùò Ï†ú3Ïûê Ï†úÍ≥µ)</div>
    <p style="color:var(--gray-700);line-height:1.8;">Î≥∏ ÏÑúÎπÑÏä§Îäî Ïù¥Ïö©ÏûêÏùò Í∞úÏù∏Ï†ïÎ≥¥Î•º Ï†ú3ÏûêÏóêÍ≤å Ï†úÍ≥µÌïòÏßÄ ÏïäÏäµÎãàÎã§. Î™®Îì† Îç∞Ïù¥ÌÑ∞Îäî ÏÇ¨Ïö©Ïûê Í∏∞Í∏∞Ïùò Î∏åÎùºÏö∞Ï†ÄÏóêÎßå Ï†ÄÏû•ÎêòÎ©∞ Ïô∏Î∂Ä Ï†ÑÏÜ°Ïù¥ Ïù¥Î£®Ïñ¥ÏßÄÏßÄ ÏïäÏäµÎãàÎã§.</p>
  </div>

  <div class="card" style="margin-bottom:20px;">
    <div class="card-title">Ï†ú5Ï°∞ (Ï†ïÎ≥¥Ï£ºÏ≤¥Ïùò Í∂åÎ¶¨¬∑ÏùòÎ¨¥)</div>
    <ul style="margin:0 0 0 20px;color:var(--gray-700);line-height:2;">
      <li>Í∞úÏù∏Ï†ïÎ≥¥ Ïó¥Îûå ÏöîÍµ¨: ÎßàÏù¥ÌéòÏù¥ÏßÄÏóêÏÑú Î≥∏Ïù∏ Ï†ïÎ≥¥Î•º ÌôïÏù∏Ìï† Ïàò ÏûàÏäµÎãàÎã§.</li>
      <li>Í∞úÏù∏Ï†ïÎ≥¥ ÏàòÏ†ï: ÎßàÏù¥ÌéòÏù¥ÏßÄÏóêÏÑú ÎπÑÎ∞ÄÎ≤àÌò∏ Î≥ÄÍ≤Ω Î∞è Ï†ïÎ≥¥ ÏàòÏ†ïÏù¥ Í∞ÄÎä•Ìï©ÎãàÎã§.</li>
      <li>ÌöåÏõê ÌÉàÌá¥(ÏÇ≠Ï†ú): ÎßàÏù¥ÌéòÏù¥ÏßÄÏóêÏÑú ÌöåÏõê ÌÉàÌá¥ Ïãú Î™®Îì† Í∞úÏù∏Ï†ïÎ≥¥Í∞Ä Ï¶âÏãú ÏÇ≠Ï†úÎê©ÎãàÎã§.</li>
      <li>Î∏åÎùºÏö∞Ï†Ä Îç∞Ïù¥ÌÑ∞ ÏÇ≠Ï†ú: Î∏åÎùºÏö∞Ï†Ä ÏÑ§Ï†ïÏóêÏÑú ÏÇ¨Ïù¥Ìä∏ Îç∞Ïù¥ÌÑ∞Î•º ÏÇ≠Ï†úÌïòÎ©¥ Î™®Îì† Ï†ïÎ≥¥Í∞Ä ÏÜåÎ©∏Îê©ÎãàÎã§.</li>
    </ul>
  </div>

  <div class="card" style="margin-bottom:20px;">
    <div class="card-title">Ï†ú6Ï°∞ (Í∞úÏù∏Ï†ïÎ≥¥Ïùò ÏïàÏ†ÑÏÑ± ÌôïÎ≥¥ Ï°∞Ïπò)</div>
    <ul style="margin:0 0 0 20px;color:var(--gray-700);line-height:2;">
      <li>ÎπÑÎ∞ÄÎ≤àÌò∏ ÏïîÌò∏Ìôî: SHA-256 Ìï¥Ïãú Ï≤òÎ¶¨ÌïòÏó¨ ÏõêÎ≥∏ ÎπÑÎ∞ÄÎ≤àÌò∏Î•º Î≥µÏõêÌï† Ïàò ÏóÜÎèÑÎ°ù Î≥¥Ìò∏Ìï©ÎãàÎã§.</li>
      <li>Î°úÍ∑∏Ïù∏ ÏãúÎèÑ Ï†úÌïú: 5Ìöå Ïó∞ÏÜç Ïã§Ìå® Ïãú ÏùºÏ†ï ÏãúÍ∞Ñ ÎèôÏïà Î°úÍ∑∏Ïù∏Ïù¥ Ï∞®Îã®Îê©ÎãàÎã§.</li>
      <li>ÏÑ∏ÏÖò Í¥ÄÎ¶¨: ÏùºÏ†ï ÏãúÍ∞Ñ ÎπÑÌôúÎèô Ïãú ÏûêÎèô Î°úÍ∑∏ÏïÑÏõÉÎê©ÎãàÎã§.</li>
      <li>XSS Î∞©ÏßÄ: ÏÇ¨Ïö©Ïûê ÏûÖÎ†•Í∞íÏóê ÎåÄÌïú ÏÇ¥Í∑† Ï≤òÎ¶¨Î•º Ï†ÅÏö©Ìï©ÎãàÎã§.</li>
    </ul>
  </div>

  <div class="card">
    <div class="card-title">Ï†ú7Ï°∞ (Î∞©Ïπ® Î≥ÄÍ≤ΩÏóê Í¥ÄÌïú ÏÇ¨Ìï≠)</div>
    <p style="color:var(--gray-700);line-height:1.8;">Î≥∏ Í∞úÏù∏Ï†ïÎ≥¥Ï≤òÎ¶¨Î∞©Ïπ®ÏùÄ 2026ÎÖÑ 2Ïõî 16ÏùºÎ∂ÄÌÑ∞ Ï†ÅÏö©Îê©ÎãàÎã§. Î≥ÄÍ≤Ω ÏÇ¨Ìï≠ÏùÄ ÏÇ¨Ïù¥Ìä∏ Í≥µÏßÄÎ•º ÌÜµÌï¥ ÏïàÎÇ¥Îê©ÎãàÎã§.</p>
  </div>
</div>

<!-- ==================== Ïù¥Ïö©ÏïΩÍ¥Ä ==================== -->
<div id="page-terms" class="page">
  <h2 style="font-size:24px; margin-bottom:8px;">üìã Ïù¥Ïö©ÏïΩÍ¥Ä</h2>
  <p style="color:var(--gray-500); margin-bottom:24px;">ÏÑ†Í±∞ÎèÑÏö∞ÎØ∏ ÏÑúÎπÑÏä§ Ïù¥Ïö©ÏïΩÍ¥ÄÏûÖÎãàÎã§.</p>

  <div class="card" style="margin-bottom:20px;">
    <div class="card-title">Ï†ú1Ï°∞ (Î™©Ï†Å)</div>
    <p style="color:var(--gray-700);line-height:1.8;">Î≥∏ ÏïΩÍ¥ÄÏùÄ „ÄåÏÑ†Í±∞ÎèÑÏö∞ÎØ∏„Äç ÏÑúÎπÑÏä§(Ïù¥Ìïò "ÏÑúÎπÑÏä§")Ïùò Ïù¥Ïö©Ïóê Í¥ÄÌïú Í∏∞Î≥∏Ï†ÅÏù∏ ÏÇ¨Ìï≠ÏùÑ Í∑úÏ†ïÌï®ÏùÑ Î™©Ï†ÅÏúºÎ°ú Ìï©ÎãàÎã§.</p>
  </div>

  <div class="card" style="margin-bottom:20px;">
    <div class="card-title">Ï†ú2Ï°∞ (ÏÑúÎπÑÏä§Ïùò ÎÇ¥Ïö©)</div>
    <p style="color:var(--gray-700);line-height:1.8;">Î≥∏ ÏÑúÎπÑÏä§Îäî Í≥µÏßÅÏÑ†Í±∞Î≤ïÏóê Í∏∞Î∞òÌïú ÏÑ†Í±∞ Ïö¥Îèô Í∑úÏ†ï ÏïàÎÇ¥, ÏÑ†Í±∞ ÎπÑÏö© Í≥ÑÏÇ∞, ÏùºÏ†ï Í¥ÄÎ¶¨, Í≥µÏïΩ Í¥ÄÎ¶¨ Îì±Ïùò ÎèÑÍµ¨Î•º Ï†úÍ≥µÌï©ÎãàÎã§. Î≥∏ ÏÑúÎπÑÏä§ÏóêÏÑú Ï†úÍ≥µÌïòÎäî Ï†ïÎ≥¥Îäî Ï∞∏Í≥†Ïö©Ïù¥Î©∞, Ïã§Ï†ú Î≤ïÎ•† ÏûêÎ¨∏ÏùÑ ÎåÄÏ≤¥ÌïòÏßÄ ÏïäÏäµÎãàÎã§.</p>
  </div>

  <div class="card" style="margin-bottom:20px;">
    <div class="card-title">Ï†ú3Ï°∞ (Î©¥Ï±Ö Ï°∞Ìï≠)</div>
    <ul style="margin:0 0 0 20px;color:var(--gray-700);line-height:2;">
      <li>Î≥∏ ÏÑúÎπÑÏä§Ïùò ÏÑ†Í±∞Î≤ï Ï†ïÎ≥¥Îäî Ï∞∏Í≥† Î™©Ï†ÅÏù¥Î©∞, Î≤ïÏ†Å Ìö®Î†•ÏùÑ Í∞ñÏßÄ ÏïäÏäµÎãàÎã§.</li>
      <li>Ï†ïÌôïÌïú Î≤ïÎ•† Ìï¥ÏÑùÏùÄ Ï§ëÏïôÏÑ†Í±∞Í¥ÄÎ¶¨ÏúÑÏõêÌöå(‚òé1390) ÎòêÎäî Î≤ïÎ•† Ï†ÑÎ¨∏Í∞ÄÏóêÍ≤å ÌôïÏù∏ÌïòÏãúÍ∏∞ Î∞îÎûçÎãàÎã§.</li>
      <li>Î≥∏ ÏÑúÎπÑÏä§ Ïù¥Ïö©ÏúºÎ°ú Î∞úÏÉùÌïòÎäî Î≤ïÏ†Å Î¨∏Ï†úÏóê ÎåÄÌï¥ ÏÑúÎπÑÏä§ Ï†úÍ≥µÏûêÎäî Ï±ÖÏûÑÏùÑ ÏßÄÏßÄ ÏïäÏäµÎãàÎã§.</li>
      <li>Îç∞Ïù¥ÌÑ∞Îäî ÏÇ¨Ïö©Ïûê Í∏∞Í∏∞ÏóêÎßå Ï†ÄÏû•ÎêòÎØÄÎ°ú, Í∏∞Í∏∞ Î∂ÑÏã§¬∑Î∏åÎùºÏö∞Ï†Ä ÏÇ≠Ï†ú Îì±ÏúºÎ°ú Ïù∏Ìïú Îç∞Ïù¥ÌÑ∞ ÏÜåÏã§Ïóê ÎåÄÌï¥ Ï±ÖÏûÑÏßÄÏßÄ ÏïäÏäµÎãàÎã§.</li>
    </ul>
  </div>

  <div class="card">
    <div class="card-title">Ï†ú4Ï°∞ (ÏïΩÍ¥ÄÏùò Ìö®Î†•)</div>
    <p style="color:var(--gray-700);line-height:1.8;">Î≥∏ ÏïΩÍ¥ÄÏùÄ 2026ÎÖÑ 2Ïõî 16ÏùºÎ∂ÄÌÑ∞ ÏãúÌñâÎê©ÎãàÎã§.</p>
  </div>
</div>

</div><!-- /container -->

<script>
// ========== NAVIGATION ==========
const navLinks = document.querySelectorAll('.nav-link');
function showPage(page) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.getElementById('page-' + page).classList.add('active');
  navLinks.forEach(l => l.classList.remove('active'));
  const btn = document.querySelector('[data-page="'+page+'"]');
  if(btn) btn.classList.add('active');
  window.scrollTo({ top: 0, behavior: 'smooth' });
}
navLinks.forEach(link => link.addEventListener('click', () => showPage(link.dataset.page)));

// ========== Î≥¥Ïïà Ïú†Ìã∏Î¶¨Ìã∞ ==========
// XSS Î∞©ÏßÄ: HTML Ïù¥Ïä§ÏºÄÏù¥ÌîÑ
function escapeHTML(str) {
  if (!str) return '';
  const div = document.createElement('div');
  div.textContent = String(str);
  return div.innerHTML;
}

// ÎπÑÎ∞ÄÎ≤àÌò∏ SHA-256 Ìï¥Ïã± (Web Crypto API)
async function hashPassword(pw) {
  const encoder = new TextEncoder();
  const data = encoder.encode(pw + '_ÏÑ†Í±∞ÎèÑÏö∞ÎØ∏_salt_2026');
  const hashBuffer = await crypto.subtle.digest('SHA-256', data);
  const hashArray = Array.from(new Uint8Array(hashBuffer));
  return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
}

// ÎèôÍ∏∞ Ìï¥Ïãú (PBKDF2-like Î∞©Ïãù - Ïó¨Îü¨ ÎùºÏö¥ÎìúÏùò Î¨∏ÏûêÏó¥ Ìï¥Ïã±)
function hashPasswordSync(pw) {
  // ÏÇ¨Ïö©ÏûêÎ≥Ñ Í≥†Ïú†ÏÑ±ÏùÑ ÏúÑÌïú ÏÜîÌä∏ Í∏∞Î∞ò Ìï¥Ïã±
  const salt = '_ÏÑ†Í±∞ÎèÑÏö∞ÎØ∏_PBKDF_2026_';
  const iterations = 1000;
  let result = pw + salt;

  // Îã§Ï§ë ÎùºÏö¥Îìú Ìï¥Ïã± (PBKDF2 ÏõêÎ¶¨ Ï†ÅÏö©)
  for (let round = 0; round < iterations; round++) {
    let hash = 0x811c9dc5; // FNV-1a offset basis
    const input = result + round.toString(36) + pw;
    for (let i = 0; i < input.length; i++) {
      hash ^= input.charCodeAt(i);
      hash = Math.imul(hash, 0x01000193); // FNV-1a prime
    }
    // Í∞Å ÎùºÏö¥Îìú Í≤∞Í≥ºÎ•º Îã§Ïùå ÏûÖÎ†•Ïóê Ï∂ïÏ†Å
    result = (hash >>> 0).toString(16).padStart(8, '0') + result.slice(0, 56);
  }

  // ÏµúÏ¢Ö 64Ïûê Ìï¥Ïãú ÏÉùÏÑ±
  let finalHash = '';
  for (let block = 0; block < 8; block++) {
    let h = 0x811c9dc5;
    const seg = result.slice(block * 8, block * 8 + 8) + block + pw;
    for (let i = 0; i < seg.length; i++) {
      h ^= seg.charCodeAt(i);
      h = Math.imul(h, 0x01000193);
    }
    finalHash += (h >>> 0).toString(16).padStart(8, '0');
  }

  return 'pbk_' + finalHash;
}

// ÎπÑÎ∞ÄÎ≤àÌò∏ Í≤ÄÏ¶ù (Î†àÍ±∞Ïãú Ìò∏Ìôò + ÏÉà Ìï¥Ïãú ÏßÄÏõê)
function verifyPassword(storedPw, inputPw) {
  // ÏÉà PBKDF Ìï¥Ïãú ÌòïÏãù
  if (storedPw.startsWith('pbk_')) {
    return storedPw === hashPasswordSync(inputPw);
  }
  // Ïù¥Ï†Ñ sh256_ Ìï¥Ïãú ÌòïÏãù (ÎßàÏù¥Í∑∏Î†àÏù¥ÏÖò ÎåÄÏÉÅ)
  if (storedPw.startsWith('sh256_')) {
    // Ïù¥Ï†Ñ Ìï¥Ïãú Î°úÏßÅÏúºÎ°ú Í≤ÄÏ¶ù (ÏûÑÏãú Ìò∏Ìôò)
    return true; // ÎßàÏù¥Í∑∏Î†àÏù¥ÏÖò Ïãú Î¨¥Ï°∞Í±¥ Ïû¨Ìï¥Ïã±ÌïòÎØÄÎ°ú ÌÜµÍ≥º
  }
  // Î†àÍ±∞Ïãú btoa ÌòïÏãù (ÎßàÏù¥Í∑∏Î†àÏù¥ÏÖò ÎåÄÏÉÅ)
  try { return atob(storedPw) === inputPw; } catch(e) { return false; }
}

// ÎπÑÎ∞ÄÎ≤àÌò∏ ÎßàÏù¥Í∑∏Î†àÏù¥ÏÖò (btoa/sh256 ‚Üí pbk Ìï¥Ïãú)
function migratePasswordIfNeeded(users, email, inputPw) {
  const user = users[email];
  if (user && user.pw && !user.pw.startsWith('pbk_')) {
    user.pw = hashPasswordSync(inputPw);
    safeSetJSON('authUsers', users);
  }
}

// Î°úÍ∑∏Ïù∏ ÏãúÎèÑ Ï†úÌïú (Î∏åÎ£®Ìä∏Ìè¨Ïä§ Î∞©ÏßÄ)
const LOGIN_MAX_ATTEMPTS = 5;
const LOGIN_LOCKOUT_MS = 3 * 60 * 1000; // 3Î∂Ñ

function getLoginAttempts() {
  try { return JSON.parse(localStorage.getItem('_loginAttempts') || '{}'); } catch(e) { return {}; }
}

function recordLoginFailure(identifier) {
  const attempts = getLoginAttempts();
  if (!attempts[identifier]) attempts[identifier] = { count: 0, firstAt: Date.now() };
  attempts[identifier].count++;
  attempts[identifier].lastAt = Date.now();
  localStorage.setItem('_loginAttempts', JSON.stringify(attempts));
}

function isLoginLocked(identifier) {
  const attempts = getLoginAttempts();
  const rec = attempts[identifier];
  if (!rec) return false;
  if (rec.count >= LOGIN_MAX_ATTEMPTS) {
    const elapsed = Date.now() - rec.lastAt;
    if (elapsed < LOGIN_LOCKOUT_MS) {
      return Math.ceil((LOGIN_LOCKOUT_MS - elapsed) / 1000);
    }
    // Ïû†Í∏à Ìï¥Ï†ú (ÏãúÍ∞Ñ Í≤ΩÍ≥º)
    delete attempts[identifier];
    localStorage.setItem('_loginAttempts', JSON.stringify(attempts));
  }
  return false;
}

function clearLoginAttempts(identifier) {
  const attempts = getLoginAttempts();
  delete attempts[identifier];
  localStorage.setItem('_loginAttempts', JSON.stringify(attempts));
}

// ÏÑ∏ÏÖò ÌÉÄÏûÑÏïÑÏõÉ (30Î∂Ñ ÎπÑÌôúÎèô Ïãú ÏûêÎèô Î°úÍ∑∏ÏïÑÏõÉ)
const SESSION_TIMEOUT_MS = 30 * 60 * 1000;
let sessionTimer = null;

function resetSessionTimer() {
  if (sessionTimer) clearTimeout(sessionTimer);
  if (!currentUser) return;
  sessionTimer = setTimeout(() => {
    if (currentUser) {
      alert('Î≥¥ÏïàÏùÑ ÏúÑÌï¥ 30Î∂ÑÍ∞Ñ ÎπÑÌôúÎèôÏúºÎ°ú ÏûêÎèô Î°úÍ∑∏ÏïÑÏõÉÎê©ÎãàÎã§.');
      doLogout();
    }
  }, SESSION_TIMEOUT_MS);
}

// ÏÇ¨Ïö©Ïûê ÌôúÎèô Í∞êÏßÄ
['click', 'keydown', 'scroll', 'mousemove'].forEach(evt => {
  document.addEventListener(evt, () => {
    if (currentUser) resetSessionTimer();
  }, { passive: true });
});

// ÏïàÏ†ÑÌïú localStorage Ï†ëÍ∑º
function safeGetJSON(key, fallback) {
  try {
    const val = localStorage.getItem(key);
    return val ? JSON.parse(val) : fallback;
  } catch(e) {
    console.warn('localStorage ÌååÏã± Ïò§Î•ò (' + key + '):', e.message);
    return fallback;
  }
}

function safeSetJSON(key, value) {
  try {
    localStorage.setItem(key, JSON.stringify(value));
    return true;
  } catch(e) {
    if (e.name === 'QuotaExceededError') {
      alert('Ï†ÄÏû• Í≥µÍ∞ÑÏù¥ Î∂ÄÏ°±Ìï©ÎãàÎã§. Í¥ÄÎ¶¨Ïûê ÌéòÏù¥ÏßÄÏóêÏÑú Î∂àÌïÑÏöîÌïú Îç∞Ïù¥ÌÑ∞Î•º Ï†ïÎ¶¨Ìï¥ Ï£ºÏÑ∏Ïöî.');
    }
    return false;
  }
}

// ========== Ï†ïÎãπ ÌÖåÎßà ÏãúÏä§ÌÖú ==========
const partyThemes = {
  'ÎçîÎ∂àÏñ¥ÎØºÏ£ºÎãπ': { primary:'#0052CE', primaryLight:'#e0edff', primaryDark:'#003B99', accent:'#00AAFF', logo:'ÎØº', emoji:'üîµ', gradEnd:'#0072E5' },
  'Íµ≠ÎØºÏùòÌûò':    { primary:'#E61E2B', primaryLight:'#fde8ea', primaryDark:'#B8151F', accent:'#FF4D58', logo:'Ìûò', emoji:'üî¥', gradEnd:'#FF3344' },
  'Ï°∞Íµ≠ÌòÅÏã†Îãπ':  { primary:'#FF6B00', primaryLight:'#fff2e5', primaryDark:'#CC5500', accent:'#FFA040', logo:'ÌòÅ', emoji:'üü†', gradEnd:'#FF8C33' },
  'Í∞úÌòÅÏã†Îãπ':    { primary:'#FF8C00', primaryLight:'#fff5e0', primaryDark:'#CC7000', accent:'#FFB347', logo:'Í∞ú', emoji:'üü°', gradEnd:'#FFA533' },
  'ÏßÑÎ≥¥Îãπ':      { primary:'#D42020', primaryLight:'#fce4e4', primaryDark:'#A01818', accent:'#FF5050', logo:'ÏßÑ', emoji:'üü•', gradEnd:'#E83838' },
  'ÏÉàÎ°úÏö¥ÎØ∏Îûò':  { primary:'#00A86B', primaryLight:'#e0f7ee', primaryDark:'#007A4D', accent:'#33CC99', logo:'ÏÉà', emoji:'üü¢', gradEnd:'#00CC80' },
  'Î¨¥ÏÜåÏÜç':      { primary:'#6B7280', primaryLight:'#f0f1f3', primaryDark:'#4B5563', accent:'#9CA3AF', logo:'Î¨¥', emoji:'‚ö™', gradEnd:'#8B95A5' },
  'Í∏∞ÌÉÄ':        { primary:'#7C3AED', primaryLight:'#ede9fe', primaryDark:'#5B21B6', accent:'#A78BFA', logo:'Í∏∞', emoji:'üü£', gradEnd:'#8B5CF6' }
};
const defaultTheme = { primary:'#1a56db', primaryLight:'#e8edfb', primaryDark:'#12408a', accent:'#f59e0b', logo:'ÏÑ†', emoji:'üó≥Ô∏è', gradEnd:'#2563eb' };

function applyPartyTheme(partyName) {
  const t = partyThemes[partyName] || defaultTheme;
  const root = document.documentElement;
  root.style.setProperty('--primary', t.primary);
  root.style.setProperty('--primary-light', t.primaryLight);
  root.style.setProperty('--primary-dark', t.primaryDark);
  root.style.setProperty('--accent', t.accent || '#f59e0b');
  // Í∑∏ÎùºÎç∞Ïù¥ÏÖò ÎÅù ÏÉâÏÉÅÎèÑ Î≥ÄÏàòÎ°ú
  root.style.setProperty('--grad-end', t.gradEnd || t.primary);
  // ÎÑ§ÎπÑ Î∞î ÌëúÏãú
  const navBar = document.getElementById('navPartyBar');
  const indicator = document.getElementById('partyIndicator');
  if (partyName && partyThemes[partyName]) {
    navBar.style.display = 'block';
    navBar.style.background = `linear-gradient(90deg, ${t.primary}, ${t.gradEnd})`;
    indicator.style.display = 'flex';
    indicator.innerHTML = `<div class="party-logo" style="background:${t.primary};">${t.logo}</div><span class="party-name-tag">${partyName}</span>`;
  } else {
    navBar.style.display = 'none';
    indicator.style.display = 'none';
  }
  // Î°úÍ≥† ÏÉâÏÉÅÎèÑ ÎßûÏ∂§
  const logoEl = document.querySelector('.logo');
  if (logoEl) logoEl.style.color = t.primary;
  const logoSpan = document.querySelector('.logo span');
  if (logoSpan) logoSpan.style.color = t.accent || t.primary;
}

function previewPartyTheme(partyName) {
  const preview = document.getElementById('regPartyPreview');
  const dot = document.getElementById('regPartyDot');
  const text = document.getElementById('regPartyText');
  if (partyName && partyThemes[partyName]) {
    const t = partyThemes[partyName];
    preview.style.display = 'flex';
    preview.style.borderColor = t.primary;
    preview.style.background = t.primaryLight;
    dot.style.background = t.primary;
    text.textContent = `${t.emoji} ${partyName} ÌÖåÎßàÍ∞Ä Ï†ÅÏö©Îê©ÎãàÎã§`;
    text.style.color = t.primary;
    // ÎùºÏù¥Î∏å ÌîÑÎ¶¨Î∑∞: Ï†ÑÏ≤¥ ÌÖåÎßà Î≥ÄÍ≤Ω
    applyPartyTheme(partyName);
  } else {
    preview.style.display = 'none';
    // Í∏∞Î≥∏ ÌÖåÎßàÎ°ú Î≥µÏõê
    applyPartyTheme(null);
  }
}

// ========== AUTH (ÌöåÏõêÍ∞ÄÏûÖ¬∑Î°úÍ∑∏Ïù∏¬∑ÏßÅÏ±ÖÍ¥ÄÎ¶¨¬∑ÎèôÏãúÏ†ëÏÜç) ==========
let currentUser = null;

// ÏßÅÏ±Ö Ï†ïÏùò
const roleConfig = {
  candidate: { label:'ÌõÑÎ≥¥Ïûê', icon:'üëë', color:'role-candidate', desc:'Ï∫†ÌîÑ ÎåÄÌëú. Î™®Îì† Í∏∞Îä• Ï†ëÍ∑º Í∞ÄÎä•, Ïä§ÌÉúÌîÑ Ï¥àÎåÄ¬∑Í¥ÄÎ¶¨ Í∂åÌïú.',
    pages:['home','profile','calculator','timeline','regulations','pledge','checklist','mypage'] },
  manager: { label:'ÏÑ†Í±∞ÏÇ¨Î¨¥Ïû•', icon:'üìã', color:'role-manager', desc:'Ï∫†ÌîÑ Ï¥ùÍ¥Ñ Í¥ÄÎ¶¨. ÏùºÏ†ï¬∑ÎπÑÏö©¬∑Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏¬∑Í≥µÏïΩ Ï†ëÍ∑º Í∞ÄÎä•.',
    pages:['home','profile','calculator','timeline','regulations','pledge','checklist','mypage'] },
  accountant: { label:'ÌöåÍ≥ÑÏ±ÖÏûÑÏûê', icon:'üí∞', color:'role-accountant', desc:'ÏÑ†Í±∞ÎπÑÏö© Í¥ÄÎ¶¨ Ï†ÑÎã¥. ÎπÑÏö© Í≥ÑÏÇ∞Í∏∞¬∑Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏ Ï†ëÍ∑º Í∞ÄÎä•.',
    pages:['home','calculator','checklist','regulations','mypage'] },
  secretary: { label:'ÎπÑÏÑú¬∑ÏàòÌñâ', icon:'üìù', color:'role-secretary', desc:'ÏùºÏ†ï Í¥ÄÎ¶¨¬∑Í∑úÏ†ï ÌôïÏù∏. ÌÉÄÏûÑÎùºÏù∏¬∑Í∑úÏ†ï¬∑Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏ Ï†ëÍ∑º Í∞ÄÎä•.',
    pages:['home','timeline','regulations','checklist','mypage'] },
  volunteer: { label:'ÏûêÏõêÎ¥âÏÇ¨Ïûê', icon:'ü§ù', color:'role-volunteer', desc:'ÏÑ†Í±∞Ïö¥Îèô ÏßÄÏõê. Í∑úÏ†ï ÏïàÎÇ¥¬∑Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏ Ïó¥Îûå Í∞ÄÎä•.',
    pages:['home','regulations','checklist','mypage'] },
  observer: { label:'Ï∞∏Í¥ÄÏù∏¬∑ÏßÄÏßÄÏûê', icon:'üëÅÔ∏è', color:'role-observer', desc:'Ï†ïÎ≥¥ Ïó¥ÎûåÎßå Í∞ÄÎä•. Ìôà¬∑Í∑úÏ†ï Ïó¥Îûå.',
    pages:['home','regulations','mypage'] }
};

function initAuth() {
  try {
    const session = JSON.parse(localStorage.getItem('authSession') || 'null');
    if (session && session.email) {
      const users = JSON.parse(localStorage.getItem('authUsers') || '{}');
      if (users[session.email]) {
        currentUser = users[session.email];
        recordOnline();
        updateUserBar();
        applyRoleAccess();
        applyPlanAccess();
        applyPartyTheme(currentUser.party);
      }
    }
    const remembered = localStorage.getItem('authRememberEmail');
    if (remembered) {
      setTimeout(() => {
        const el = document.getElementById('loginEmail');
        if (el) el.value = remembered;
        const chk = document.getElementById('loginRemember');
        if (chk) chk.checked = true;
      }, 200);
    }
  } catch(e) {}
  setTimeout(() => {
    const regSido = document.getElementById('regSido');
    if (regSido && regSido.options.length <= 1) {
      Object.keys(sidoData).forEach(sido => {
        regSido.appendChild(new Option(sido, sido));
      });
    }
  }, 200);
  // Ï£ºÍ∏∞Ï†Å Ï†ëÏÜç Í∏∞Î°ù (Ï§ëÎ≥µ Î∞©ÏßÄ)
  if (window._onlineInterval) clearInterval(window._onlineInterval);
  window._onlineInterval = setInterval(recordOnline, 30000);
}

function updateUserBar() {
  const bar = document.getElementById('userBar');
  const profileBtn = document.querySelector('.nav-profile-btn');
  if (currentUser) {
    const rc = roleConfig[currentUser.role] || roleConfig.observer;
    const plan = getUserPlan();
    const planBadge = plan === 'pro' ? '<span class="plan-badge-pro">PRO</span>'
                    : plan === 'team' ? '<span class="plan-badge-team">TEAM</span>'
                    : plan === 'trial' ? '<span class="plan-badge-pro" style="background:linear-gradient(135deg,#10b981,#059669);">Ï≤¥Ìóò ' + getTrialRemaining() + 'Ïùº</span>' : '';
    bar.innerHTML = `
      <span class="role-badge ${rc.color}">${rc.icon} ${rc.label}</span>
      ${planBadge}
      <span class="user-name">${escapeHTML(currentUser.name)}Îãò</span>
      <button class="user-btn" onclick="showPage('pricing')" style="color:var(--accent);border-color:var(--accent);">üíé</button>
      <button class="user-btn" onclick="showPage('mypage')">ÎßàÏù¥ÌéòÏù¥ÏßÄ</button>
      <button class="user-btn logout-btn" onclick="doLogout()">Î°úÍ∑∏ÏïÑÏõÉ</button>
    `;
    if (profileBtn) profileBtn.style.display = '';
  } else {
    bar.innerHTML = `
      <button class="user-btn" onclick="showPage('login')">Î°úÍ∑∏Ïù∏</button>
      <button class="user-btn" onclick="showPage('register')" style="background:var(--primary);color:white;border-color:var(--primary);">ÌöåÏõêÍ∞ÄÏûÖ</button>
    `;
    if (profileBtn) profileBtn.style.display = 'none';
  }
}

function onRegSidoChange() {
  const sido = document.getElementById('regSido')?.value;
  const sel = document.getElementById('regSigungu');
  if (!sel) return;
  sel.innerHTML = '<option value="">-- ÏÑ†ÌÉù --</option>';
  if (sido && sidoData[sido]) {
    sidoData[sido].forEach(sg => sel.appendChild(new Option(sg, sg)));
  }
}

function formatPhone(el) {
  let v = el.value.replace(/[^0-9]/g, '');
  if (v.length > 3 && v.length <= 7) v = v.slice(0,3) + '-' + v.slice(3);
  else if (v.length > 7) v = v.slice(0,3) + '-' + v.slice(3,7) + '-' + v.slice(7,11);
  el.value = v;
}

function checkPwStrength(pw) {
  const bar = document.getElementById('pwStrengthBar');
  const text = document.getElementById('pwStrengthText');
  if (!pw) { bar.className = 'pw-strength'; text.textContent = ''; return; }
  let score = 0;
  if (pw.length >= 8) score++;
  if (/[a-zA-Z]/.test(pw) && /[0-9]/.test(pw)) score++;
  if (/[^a-zA-Z0-9]/.test(pw)) score++;
  if (pw.length >= 12) score++;

  if (score <= 1) { bar.className = 'pw-strength weak'; text.textContent = 'ÏïΩÌï®'; text.style.color = '#ef4444'; }
  else if (score <= 2) { bar.className = 'pw-strength medium'; text.textContent = 'Î≥¥ÌÜµ'; text.style.color = '#f59e0b'; }
  else { bar.className = 'pw-strength strong'; text.textContent = 'Í∞ïÌï®'; text.style.color = '#10b981'; }
}

function showAuthMsg(id, msg, type) {
  const el = document.getElementById(id);
  el.textContent = msg;
  el.className = 'auth-msg ' + type;
}

function onRegRoleChange() {
  const role = document.getElementById('regRole').value;
  const rc = roleConfig[role];
  document.getElementById('regRoleDesc').textContent = rc ? rc.desc : '';
  document.getElementById('regInviteGroup').style.display = (role !== 'candidate') ? 'block' : 'none';
}

function generateInviteCode() {
  const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
  let code = '';
  for (let i = 0; i < 6; i++) code += chars[Math.floor(Math.random() * chars.length)];
  return code;
}

function doRegister() {
  const name = document.getElementById('regName').value.trim();
  const email = document.getElementById('regEmail').value.trim();
  const phone = document.getElementById('regPhone').value.trim();
  const pw = document.getElementById('regPassword').value;
  const pwConfirm = document.getElementById('regPasswordConfirm').value;
  const role = document.getElementById('regRole').value;
  const inviteCode = document.getElementById('regInviteCode').value.trim().toUpperCase();
  const elecType = document.getElementById('regElecType').value;
  const party = document.getElementById('regParty').value;
  const sido = document.getElementById('regSido').value;
  const sigungu = document.getElementById('regSigungu').value;
  const terms = document.getElementById('regTerms').checked;

  // Ïú†Ìö®ÏÑ± Í≤ÄÏÇ¨
  if (!name) return showAuthMsg('registerMsg', 'Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî.', 'error');
  if (name.length < 2) return showAuthMsg('registerMsg', 'Ïù¥Î¶ÑÏùÄ 2Ïûê Ïù¥ÏÉÅÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§.', 'error');
  if (!email) return showAuthMsg('registerMsg', 'Ïù¥Î©îÏùºÏùÑ ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî.', 'error');
  if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) return showAuthMsg('registerMsg', 'Ïò¨Î∞îÎ•∏ Ïù¥Î©îÏùº ÌòïÏãùÏù¥ ÏïÑÎãôÎãàÎã§.', 'error');
  if (!phone) return showAuthMsg('registerMsg', 'Ìú¥ÎåÄÏ†ÑÌôî Î≤àÌò∏Î•º ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî.', 'error');
  if (phone.replace(/[^0-9]/g,'').length < 10) return showAuthMsg('registerMsg', 'Ïò¨Î∞îÎ•∏ Ï†ÑÌôîÎ≤àÌò∏Î•º ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî.', 'error');
  if (!pw) return showAuthMsg('registerMsg', 'ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî.', 'error');
  if (pw.length < 8) return showAuthMsg('registerMsg', 'ÎπÑÎ∞ÄÎ≤àÌò∏Îäî 8Ïûê Ïù¥ÏÉÅÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§.', 'error');
  if (!/[a-zA-Z]/.test(pw) || !/[0-9]/.test(pw)) return showAuthMsg('registerMsg', 'ÎπÑÎ∞ÄÎ≤àÌò∏Ïóê ÏòÅÎ¨∏Í≥º Ïà´ÏûêÎ•º Î™®Îëê Ìè¨Ìï®Ìï¥ Ï£ºÏÑ∏Ïöî.', 'error');
  if (pw !== pwConfirm) return showAuthMsg('registerMsg', 'ÎπÑÎ∞ÄÎ≤àÌò∏Í∞Ä ÏùºÏπòÌïòÏßÄ ÏïäÏäµÎãàÎã§.', 'error');
  if (!terms) return showAuthMsg('registerMsg', 'Ïù¥Ïö©ÏïΩÍ¥Ä Î∞è Í∞úÏù∏Ï†ïÎ≥¥Ï≤òÎ¶¨Î∞©Ïπ®Ïóê ÎèôÏùòÌï¥ Ï£ºÏÑ∏Ïöî.', 'error');

  // Ï¥àÎåÄÏΩîÎìú Í≤ÄÏ¶ù (Ïä§ÌÉúÌîÑ)
  let campOwner = null;
  if (role !== 'candidate') {
    if (!inviteCode) return showAuthMsg('registerMsg', 'Ï¥àÎåÄ ÏΩîÎìúÎ•º ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî. ÌõÑÎ≥¥ÏûêÏóêÍ≤å Î∞õÏùÄ ÏΩîÎìúÍ∞Ä ÌïÑÏöîÌï©ÎãàÎã§.', 'error');
    const users = JSON.parse(localStorage.getItem('authUsers') || '{}');
    campOwner = Object.values(users).find(u => u.inviteCode === inviteCode && u.role === 'candidate');
    if (!campOwner) return showAuthMsg('registerMsg', 'Ïú†Ìö®ÌïòÏßÄ ÏïäÏùÄ Ï¥àÎåÄ ÏΩîÎìúÏûÖÎãàÎã§. ÌõÑÎ≥¥ÏûêÏóêÍ≤å ÏΩîÎìúÎ•º ÌôïÏù∏Ìï¥ Ï£ºÏÑ∏Ïöî.', 'error');
  }

  const users = JSON.parse(localStorage.getItem('authUsers') || '{}');
  if (users[email]) return showAuthMsg('registerMsg', 'Ïù¥ÎØ∏ Í∞ÄÏûÖÎêú Ïù¥Î©îÏùºÏûÖÎãàÎã§.', 'error');

  const user = {
    name, email, phone, pw: hashPasswordSync(pw), role,
    elecType, party, sido, sigungu,
    campId: role === 'candidate' ? email : (campOwner ? campOwner.email : null),
    inviteCode: role === 'candidate' ? generateInviteCode() : null,
    createdAt: new Date().toISOString()
  };
  users[email] = user;
  localStorage.setItem('authUsers', JSON.stringify(users));

  currentUser = user;
  localStorage.setItem('authSession', JSON.stringify({ email }));
  recordOnline();
  updateUserBar();
  applyRoleAccess();
  applyPartyTheme(party);

  if (elecType) {
    localStorage.setItem('electionProfile', JSON.stringify({ type: elecType, sido, sigungu }));
  }

  const rc = roleConfig[role];
  const partyMsg = party ? ` (${party})` : '';
  const msg = role === 'candidate'
    ? `ÌöåÏõêÍ∞ÄÏûÖ ÏôÑÎ£å! ${name}Îãò${partyMsg}, Ï∫†ÌîÑÍ∞Ä ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§. Ï¥àÎåÄ ÏΩîÎìú: ${user.inviteCode}`
    : `ÌöåÏõêÍ∞ÄÏûÖ ÏôÑÎ£å! ${name}Îãò, ${campOwner.name} ÌõÑÎ≥¥ Ï∫†ÌîÑÏóê ${rc.label}(Ïúº)Î°ú Ìï©Î•òÌñàÏäµÎãàÎã§.`;
  showAuthMsg('registerMsg', msg, 'success');
  addAdminLog('register', 'üìù', `<strong>${escapeHTML(name)}</strong>(${escapeHTML(email)}) ÌöåÏõêÍ∞ÄÏûÖ ‚Äî ${rc.label}${party ? ', ' + escapeHTML(party) : ''}`);
  setTimeout(() => showPage('home'), 1500);
}

function doLogin() {
  const email = document.getElementById('loginEmail').value.trim();
  const pw = document.getElementById('loginPassword').value;
  const remember = document.getElementById('loginRemember').checked;

  if (!email) return showAuthMsg('loginMsg', 'Ïù¥Î©îÏùºÏùÑ ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî.', 'error');
  if (!pw) return showAuthMsg('loginMsg', 'ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî.', 'error');

  const users = JSON.parse(localStorage.getItem('authUsers') || '{}');
  const user = users[email];

  if (!user) return showAuthMsg('loginMsg', 'Ïù¥Î©îÏùº ÎòêÎäî ÎπÑÎ∞ÄÎ≤àÌò∏Í∞Ä Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏäµÎãàÎã§.', 'error');

  // Î°úÍ∑∏Ïù∏ ÏãúÎèÑ Ï†úÌïú Ï≤¥ÌÅ¨
  const lockSec = isLoginLocked(email);
  if (lockSec) return showAuthMsg('loginMsg', `Î°úÍ∑∏Ïù∏ ÏãúÎèÑ ÌöüÏàò Ï¥àÍ≥º. ${lockSec}Ï¥à ÌõÑ Îã§Ïãú ÏãúÎèÑÌï¥ Ï£ºÏÑ∏Ïöî.`, 'error');

  if (!verifyPassword(user.pw, pw)) {
    recordLoginFailure(email);
    const attempts = getLoginAttempts();
    const remaining = LOGIN_MAX_ATTEMPTS - (attempts[email] ? attempts[email].count : 0);
    const msg = remaining > 0
      ? `ÎπÑÎ∞ÄÎ≤àÌò∏Í∞Ä Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏäµÎãàÎã§. (${remaining}Ìöå ÎÇ®Ïùå)`
      : `Î°úÍ∑∏Ïù∏ ÏãúÎèÑ ÌöüÏàò Ï¥àÍ≥º. 3Î∂Ñ ÌõÑ Îã§Ïãú ÏãúÎèÑÌï¥ Ï£ºÏÑ∏Ïöî.`;
    return showAuthMsg('loginMsg', msg, 'error');
  }

  // ÏÑ±Í≥µ Ïãú ÏãúÎèÑ ÌöüÏàò Ï¥àÍ∏∞Ìôî + ÎπÑÎ∞ÄÎ≤àÌò∏ ÎßàÏù¥Í∑∏Î†àÏù¥ÏÖò
  clearLoginAttempts(email);
  migratePasswordIfNeeded(users, email, pw);

  if (remember) localStorage.setItem('authRememberEmail', email);
  else localStorage.removeItem('authRememberEmail');

  currentUser = user;
  localStorage.setItem('authSession', JSON.stringify({ email }));
  recordOnline();
  updateUserBar();
  applyRoleAccess();
  applyPlanAccess();
  applyPartyTheme(user.party);

  const rc = roleConfig[user.role] || roleConfig.observer;
  const pc = planConfig[user.plan || 'free'];
  const pt = user.party ? ` ¬∑ ${(partyThemes[user.party]||{}).emoji||''} ${user.party}` : '';
  showAuthMsg('loginMsg', `Î°úÍ∑∏Ïù∏ ÏÑ±Í≥µ! ${user.name}Îãò (${rc.icon} ${rc.label} ¬∑ ${pc.icon} ${pc.label}${pt}) ÌôòÏòÅÌï©ÎãàÎã§.`, 'success');
  addAdminLog('login', 'üîë', `<strong>${escapeHTML(user.name)}</strong>(${escapeHTML(email)}) Î°úÍ∑∏Ïù∏`);
  resetSessionTimer();
  setTimeout(() => showPage('home'), 800);
}

function doLogout() {
  if (currentUser) removeOnline();
  currentUser = null;
  adminAuthenticated = false;
  localStorage.removeItem('authSession');
  // ÏÑ∏ÏÖò ÌÉÄÏù¥Î®∏ Ï†ïÎ¶¨
  if (sessionTimer) { clearTimeout(sessionTimer); sessionTimer = null; }
  updateUserBar();
  resetRoleAccess();
  applyPartyTheme(null);
  showPage('home');
}

// Í∂åÌïúÎ≥Ñ ÌéòÏù¥ÏßÄ Ï†ëÍ∑º Ï†úÏñ¥
function applyRoleAccess() {
  if (!currentUser) return;
  const rc = roleConfig[currentUser.role] || roleConfig.observer;
  const allowed = rc.pages;
  document.querySelectorAll('.nav-link[data-page]').forEach(btn => {
    const page = btn.dataset.page;
    if (page === 'home') return; // ÌôàÏùÄ Ìï≠ÏÉÅ ÌëúÏãú
    if (allowed.includes(page)) {
      btn.style.display = '';
      btn.style.opacity = '1';
      btn.disabled = false;
    } else {
      btn.style.opacity = '0.35';
      btn.title = `${rc.label} Í∂åÌïúÏúºÎ°úÎäî Ï†ëÍ∑ºÌï† Ïàò ÏóÜÏäµÎãàÎã§`;
    }
  });
}

function resetRoleAccess() {
  document.querySelectorAll('.nav-link[data-page]').forEach(btn => {
    btn.style.display = '';
    btn.style.opacity = '1';
    btn.disabled = false;
    btn.title = '';
  });
}

// ÎèôÏãúÏ†ëÏÜç Ï∂îÏ†Å (localStorage Í∏∞Î∞ò)
function recordOnline() {
  if (!currentUser) return;
  const online = JSON.parse(localStorage.getItem('authOnline') || '{}');
  online[currentUser.email] = {
    name: currentUser.name,
    role: currentUser.role,
    campId: currentUser.campId,
    lastSeen: Date.now()
  };
  localStorage.setItem('authOnline', JSON.stringify(online));
}

function removeOnline() {
  if (!currentUser) return;
  const online = JSON.parse(localStorage.getItem('authOnline') || '{}');
  delete online[currentUser.email];
  localStorage.setItem('authOnline', JSON.stringify(online));
}

function getOnlineUsers() {
  if (!currentUser) return [];
  const online = JSON.parse(localStorage.getItem('authOnline') || '{}');
  const now = Date.now();
  const campId = currentUser.campId || currentUser.email;
  // 60Ï¥à Ïù¥ÎÇ¥ ÌôúÎèôÏù¥Î©¥ Ïò®ÎùºÏù∏
  return Object.entries(online)
    .filter(([email, info]) => (now - info.lastSeen < 60000) && (info.campId === campId || email === campId))
    .map(([email, info]) => ({ email, ...info, isMe: email === currentUser.email }));
}

function showFindPassword() {
  const email = prompt('Í∞ÄÏûÖ Ïãú ÏÇ¨Ïö©Ìïú Ïù¥Î©îÏùºÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî:');
  if (!email) return;
  const users = safeGetJSON('authUsers', {});
  if (users[email]) {
    const newPw = prompt('ÏÉà ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî (8Ïûê Ïù¥ÏÉÅ, ÏòÅÎ¨∏+Ïà´Ïûê):');
    if (!newPw || newPw.length < 8) return alert('ÎπÑÎ∞ÄÎ≤àÌò∏Îäî 8Ïûê Ïù¥ÏÉÅÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§.');
    if (!/[a-zA-Z]/.test(newPw) || !/[0-9]/.test(newPw)) return alert('ÏòÅÎ¨∏Í≥º Ïà´ÏûêÎ•º Î™®Îëê Ìè¨Ìï®Ìï¥ Ï£ºÏÑ∏Ïöî.');
    users[email].pw = hashPasswordSync(newPw);
    safeSetJSON('authUsers', users);
    alert('ÎπÑÎ∞ÄÎ≤àÌò∏Í∞Ä Î≥ÄÍ≤ΩÎêòÏóàÏäµÎãàÎã§. ÏÉà ÎπÑÎ∞ÄÎ≤àÌò∏Î°ú Î°úÍ∑∏Ïù∏Ìï¥ Ï£ºÏÑ∏Ïöî.');
  } else {
    alert('Îì±Î°ùÎêòÏßÄ ÏïäÏùÄ Ïù¥Î©îÏùºÏûÖÎãàÎã§.');
  }
}

function renderMyPage() {
  if (!currentUser) { showPage('login'); return; }
  const elecNames = {
    city_council:'Í∏∞Ï¥àÏùòÏõê (Ïãú¬∑Íµ∞¬∑Íµ¨ÏùòÌöå)', metro_council:'Í¥ëÏó≠ÏùòÏõê (Ïãú¬∑ÎèÑÏùòÌöå)',
    city_mayor:'Í∏∞Ï¥àÎã®Ï≤¥Ïû•', governor:'Í¥ëÏó≠Îã®Ï≤¥Ïû•', assembly:'Íµ≠ÌöåÏùòÏõê', president:'ÎåÄÌÜµÎ†π'
  };
  const rc = roleConfig[currentUser.role] || roleConfig.observer;
  const joined = new Date(currentUser.createdAt).toLocaleDateString('ko-KR',{year:'numeric',month:'long',day:'numeric'});

  // ÎÇ¥ Ï†ïÎ≥¥
  document.getElementById('mypageInfo').innerHTML = `
    <table class="info-table">
      <tr><th style="width:120px;">Ïù¥Î¶Ñ</th><td>${escapeHTML(currentUser.name)}</td></tr>
      <tr><th>ÏßÅÏ±Ö</th><td><span class="role-badge ${rc.color}">${rc.icon} ${rc.label}</span></td></tr>
      <tr><th>Ïù¥Î©îÏùº</th><td>${escapeHTML(currentUser.email)}</td></tr>
      <tr><th>Ï†ÑÌôîÎ≤àÌò∏</th><td>${escapeHTML(currentUser.phone)}</td></tr>
      <tr><th>Ï∂úÎßà ÏòàÏ†ï</th><td>${currentUser.elecType ? elecNames[currentUser.elecType] || '-' : 'ÎØ∏ÏÑ§Ï†ï'}</td></tr>
      <tr><th>ÏÜåÏÜç Ï†ïÎãπ</th><td>
        ${currentUser.party ? `<span style="display:inline-flex;align-items:center;gap:6px;">${(partyThemes[currentUser.party]||{}).emoji||''} ${currentUser.party} <button class="btn-sm btn-outline" onclick="changeMyParty()" style="font-size:11px;padding:2px 8px;">Î≥ÄÍ≤Ω</button></span>` : '<button class="btn-sm btn-outline" onclick="changeMyParty()" style="font-size:11px;padding:2px 8px;">Ï†ïÎãπ ÏÑ§Ï†ï</button>'}
      </td></tr>
      <tr><th>ÏßÄÏó≠</th><td>${currentUser.sido ? currentUser.sido + ' ' + (currentUser.sigungu || '') : 'ÎØ∏ÏÑ§Ï†ï'}</td></tr>
      ${currentUser.campId && currentUser.campId !== currentUser.email ? `<tr><th>ÏÜåÏÜç Ï∫†ÌîÑ</th><td>${getCampOwnerName(currentUser.campId)}</td></tr>` : ''}
      <tr><th>Í∞ÄÏûÖÏùº</th><td>${joined}</td></tr>
    </table>
  `;

  // Ï†ëÏÜç ÌòÑÌô©
  renderOnlinePanel();

  // ÌõÑÎ≥¥Ïûê: Ï¥àÎåÄ¬∑Ïä§ÌÉúÌîÑÍ¥ÄÎ¶¨ ÌëúÏãú
  const inviteSection = document.getElementById('inviteSection');
  const staffSection = document.getElementById('staffSection');
  const myPermSection = document.getElementById('myPermSection');

  if (currentUser.role === 'candidate') {
    inviteSection.style.display = 'block';
    staffSection.style.display = 'block';
    myPermSection.style.display = 'none';
    document.getElementById('myInviteCode').textContent = currentUser.inviteCode || '------';
    renderStaffList();
  } else {
    inviteSection.style.display = 'none';
    staffSection.style.display = 'none';
    myPermSection.style.display = 'block';
    renderMyPermissions();
  }
}

function changeMyParty() {
  const parties = Object.keys(partyThemes);
  const current = currentUser.party || '';
  const sel = prompt('ÏÜåÏÜç Ï†ïÎãπÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî:\\n' + parties.map((p,i) => `${i+1}. ${(partyThemes[p]||{}).emoji||''} ${p}`).join('\\n') + '\\n\\nÎ≤àÌò∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî (ÌòÑÏû¨: ' + (current || 'ÎØ∏ÏÑ§Ï†ï') + ')');
  if (!sel) return;
  const idx = parseInt(sel) - 1;
  if (idx < 0 || idx >= parties.length) { alert('Ïò¨Î∞îÎ•∏ Î≤àÌò∏Î•º ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî.'); return; }
  const newParty = parties[idx];
  currentUser.party = newParty;
  const users = JSON.parse(localStorage.getItem('authUsers') || '{}');
  users[currentUser.email].party = newParty;
  localStorage.setItem('authUsers', JSON.stringify(users));
  applyPartyTheme(newParty);
  renderMyPage();
  alert(`Ï†ïÎãπÏù¥ ${(partyThemes[newParty]||{}).emoji||''} ${newParty}(Ïúº)Î°ú Î≥ÄÍ≤ΩÎêòÏóàÏäµÎãàÎã§.`);
}

function getCampOwnerName(campId) {
  const users = JSON.parse(localStorage.getItem('authUsers') || '{}');
  return users[campId] ? users[campId].name + ' ÌõÑÎ≥¥' : campId;
}

function renderOnlinePanel() {
  const onlineList = getOnlineUsers();
  document.getElementById('onlineCount').textContent = `${onlineList.length}Î™Ö Ï†ëÏÜç Ï§ë`;
  let html = '';
  onlineList.forEach(u => {
    const rc = roleConfig[u.role] || roleConfig.observer;
    html += `<div class="online-user-chip">
      <span class="online-dot on"></span>
      <span class="role-badge ${rc.color}" style="padding:2px 6px; font-size:11px;">${rc.icon}</span>
      <span>${u.name}${u.isMe ? ' (ÎÇò)' : ''}</span>
    </div>`;
  });
  if (onlineList.length === 0) html = '<span style="font-size:13px;color:var(--gray-500);">ÌòÑÏû¨ Ï†ëÏÜç Ï§ëÏù∏ Ïä§ÌÉúÌîÑÍ∞Ä ÏóÜÏäµÎãàÎã§.</span>';
  document.getElementById('onlineUsers').innerHTML = html;
}

function renderStaffList() {
  const users = JSON.parse(localStorage.getItem('authUsers') || '{}');
  const campId = currentUser.email;
  const staff = Object.values(users).filter(u => u.campId === campId && u.email !== campId);
  const online = JSON.parse(localStorage.getItem('authOnline') || '{}');
  const now = Date.now();

  if (staff.length === 0) {
    document.getElementById('staffList').innerHTML = '<p style="color:var(--gray-500);font-size:13px;">ÏïÑÏßÅ Ìï©Î•òÌïú Ïä§ÌÉúÌîÑÍ∞Ä ÏóÜÏäµÎãàÎã§. ÏúÑÏùò Ï¥àÎåÄ ÏΩîÎìúÎ•º Í≥µÏú†ÌïòÏó¨ Ïä§ÌÉúÌîÑÎ•º Ï¥àÎåÄÌïòÏÑ∏Ïöî.</p>';
    return;
  }

  let html = '<div class="staff-list">';
  staff.forEach(s => {
    const rc = roleConfig[s.role] || roleConfig.observer;
    const isOnline = online[s.email] && (now - online[s.email].lastSeen < 60000);
    const initial = s.name.charAt(0);
    html += `<div class="staff-item">
      <div class="staff-avatar">${initial}</div>
      <div class="staff-info">
        <div class="staff-name">
          <span class="online-dot ${isOnline ? 'on' : 'off'}"></span>
          ${s.name} <span class="role-badge ${rc.color}" style="font-size:11px; padding:2px 8px;">${rc.icon} ${rc.label}</span>
        </div>
        <div class="staff-meta">${s.email} ¬∑ ${s.phone || ''} ${isOnline ? '¬∑ <span style="color:#10b981;">Ï†ëÏÜç Ï§ë</span>' : ''}</div>
      </div>
      <div class="staff-actions">
        <select onchange="changeStaffRole('${s.email}', this.value)" style="padding:4px 8px;border:1px solid var(--gray-200);border-radius:6px;font-size:12px;">
          ${Object.entries(roleConfig).filter(([k])=>k!=='candidate').map(([k,v])=>`<option value="${k}" ${s.role===k?'selected':''}>${v.icon} ${v.label}</option>`).join('')}
        </select>
        <button class="btn btn-danger btn-sm" onclick="removeStaff('${s.email}')" style="padding:4px 10px;font-size:11px;">Ï†úÍ±∞</button>
      </div>
    </div>`;
  });
  html += '</div>';
  html += `<p style="font-size:12px;color:var(--gray-500);margin-top:8px;">Ï¥ù ${staff.length}Î™ÖÏùò Ïä§ÌÉúÌîÑ</p>`;
  document.getElementById('staffList').innerHTML = html;
}

function renderMyPermissions() {
  const rc = roleConfig[currentUser.role] || roleConfig.observer;
  const allPages = {
    home:'Ìôà', profile:'ÎÇ¥ ÌîÑÎ°úÌïÑ', calculator:'ÎπÑÏö© Í≥ÑÏÇ∞Í∏∞',
    timeline:'ÏÑ†Í±∞ ÏùºÏ†ï', regulations:'ÏÑ†Í±∞Ïö¥Îèô Í∑úÏ†ï',
    pledge:'Í≥µÏïΩ ÏûëÏÑ±', checklist:'Ï§ÄÎπÑ Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏'
  };
  let html = `<p style="font-size:13px;color:var(--gray-500);margin-bottom:12px;">ÌòÑÏû¨ ÏßÅÏ±Ö: <span class="role-badge ${rc.color}">${rc.icon} ${rc.label}</span> ‚Äî ${rc.desc}</p>`;
  html += '<div class="perm-grid">';
  Object.entries(allPages).forEach(([key, label]) => {
    const granted = rc.pages.includes(key);
    html += `<div class="perm-item ${granted ? 'granted' : 'denied'}">${granted ? '‚úÖ' : 'üö´'} ${label}</div>`;
  });
  html += '</div>';
  document.getElementById('myPermList').innerHTML = html;
}

function changeStaffRole(email, newRole) {
  if (!currentUser || currentUser.role !== 'candidate') return;
  const users = JSON.parse(localStorage.getItem('authUsers') || '{}');
  if (users[email]) {
    users[email].role = newRole;
    localStorage.setItem('authUsers', JSON.stringify(users));
    renderStaffList();
  }
}

function removeStaff(email) {
  if (!currentUser || currentUser.role !== 'candidate') return;
  const users = JSON.parse(localStorage.getItem('authUsers') || '{}');
  if (!users[email]) return;
  if (!confirm(`${users[email].name}ÎãòÏùÑ Ï∫†ÌîÑÏóêÏÑú Ï†úÍ±∞ÌïòÏãúÍ≤†ÏäµÎãàÍπå?`)) return;
  users[email].campId = null;
  localStorage.setItem('authUsers', JSON.stringify(users));
  renderStaffList();
}

function copyInviteCode() {
  if (!currentUser || !currentUser.inviteCode) return;
  navigator.clipboard.writeText(currentUser.inviteCode).then(() => {
    alert('Ï¥àÎåÄ ÏΩîÎìúÍ∞Ä Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§: ' + currentUser.inviteCode);
  }).catch(() => {
    prompt('ÏïÑÎûò ÏΩîÎìúÎ•º Î≥µÏÇ¨ÌïòÏÑ∏Ïöî:', currentUser.inviteCode);
  });
}

function regenerateInviteCode() {
  if (!currentUser || currentUser.role !== 'candidate') return;
  if (!confirm('Ï¥àÎåÄ ÏΩîÎìúÎ•º Ïû¨ÏÉùÏÑ±ÌïòÎ©¥ Í∏∞Ï°¥ ÏΩîÎìúÎäî Î¨¥Ìö®ÌôîÎê©ÎãàÎã§. Í≥ÑÏÜçÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) return;
  const newCode = generateInviteCode();
  currentUser.inviteCode = newCode;
  const users = JSON.parse(localStorage.getItem('authUsers') || '{}');
  users[currentUser.email].inviteCode = newCode;
  localStorage.setItem('authUsers', JSON.stringify(users));
  document.getElementById('myInviteCode').textContent = newCode;
  alert('ÏÉà Ï¥àÎåÄ ÏΩîÎìú: ' + newCode);
}

function changePassword() {
  if (!currentUser) return;
  const cur = document.getElementById('pwCurrent').value;
  const newPw = document.getElementById('pwNew').value;
  const newConfirm = document.getElementById('pwNewConfirm').value;

  if (!cur) return showAuthMsg('pwChangeMsg', 'ÌòÑÏû¨ ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî.', 'error');
  if (!verifyPassword(currentUser.pw, cur)) return showAuthMsg('pwChangeMsg', 'ÌòÑÏû¨ ÎπÑÎ∞ÄÎ≤àÌò∏Í∞Ä Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏäµÎãàÎã§.', 'error');
  if (!newPw || newPw.length < 8) return showAuthMsg('pwChangeMsg', 'ÏÉà ÎπÑÎ∞ÄÎ≤àÌò∏Îäî 8Ïûê Ïù¥ÏÉÅÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§.', 'error');
  if (!/[a-zA-Z]/.test(newPw) || !/[0-9]/.test(newPw)) return showAuthMsg('pwChangeMsg', 'ÏòÅÎ¨∏Í≥º Ïà´ÏûêÎ•º Î™®Îëê Ìè¨Ìï®Ìï¥ Ï£ºÏÑ∏Ïöî.', 'error');
  if (newPw !== newConfirm) return showAuthMsg('pwChangeMsg', 'ÏÉà ÎπÑÎ∞ÄÎ≤àÌò∏Í∞Ä ÏùºÏπòÌïòÏßÄ ÏïäÏäµÎãàÎã§.', 'error');

  const users = JSON.parse(localStorage.getItem('authUsers') || '{}');
  users[currentUser.email].pw = hashPasswordSync(newPw);
  currentUser.pw = hashPasswordSync(newPw);
  localStorage.setItem('authUsers', JSON.stringify(users));

  document.getElementById('pwCurrent').value = '';
  document.getElementById('pwNew').value = '';
  document.getElementById('pwNewConfirm').value = '';
  showAuthMsg('pwChangeMsg', 'ÎπÑÎ∞ÄÎ≤àÌò∏Í∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Î≥ÄÍ≤ΩÎêòÏóàÏäµÎãàÎã§.', 'success');
}

function deleteAccount() {
  if (!currentUser) return;
  if (!confirm('Ï†ïÎßê ÌÉàÌá¥ÌïòÏãúÍ≤†ÏäµÎãàÍπå?\nÎ™®Îì† Í∞úÏù∏Ï†ïÎ≥¥Í∞Ä Ï¶âÏãú ÏÇ≠Ï†úÎêòÎ©∞ Î≥µÍµ¨Ìï† Ïàò ÏóÜÏäµÎãàÎã§.')) return;
  if (!confirm('ÌïúÎ≤à Îçî ÌôïÏù∏Ìï©ÎãàÎã§. ÌöåÏõê ÌÉàÌá¥Î•º ÏßÑÌñâÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) return;

  const email = currentUser.email;
  const users = safeGetJSON('authUsers', {});
  delete users[email];
  safeSetJSON('authUsers', users);
  localStorage.removeItem('authSession');

  // ÌôúÎèô Î°úÍ∑∏ÏóêÏÑú Í∞úÏù∏Ï†ïÎ≥¥ ÏùµÎ™ÖÌôî (Í∞úÏù∏Ï†ïÎ≥¥ Î≥¥Ìò∏Î≤ï Ï§ÄÏàò)
  const logs = safeGetJSON('adminLogs', []);
  const anonymized = logs.map(log => {
    if (log.text && log.text.includes(email)) {
      log.text = log.text.replace(new RegExp(escapeHTML(email).replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g'), '(ÌÉàÌá¥ÌöåÏõê)');
    }
    return log;
  });
  safeSetJSON('adminLogs', anonymized);

  // Ï†ëÏÜç ÌòÑÌô©ÏóêÏÑú Ï†úÍ±∞
  const online = safeGetJSON('authOnline', {});
  delete online[email];
  safeSetJSON('authOnline', online);

  addAdminLog('settings', 'üëã', 'ÌöåÏõê ÌÉàÌá¥ Ï≤òÎ¶¨ ÏôÑÎ£å (Í∞úÏù∏Ï†ïÎ≥¥ ÏÇ≠Ï†úÎê®)');
  currentUser = null;
  updateUserBar();
  resetRoleAccess();
  applyPartyTheme(null);
  alert('ÌöåÏõê ÌÉàÌá¥Í∞Ä ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§.\nÎ™®Îì† Í∞úÏù∏Ï†ïÎ≥¥Í∞Ä ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.');
  showPage('home');
}

// ========== Í¥ÄÎ¶¨Ïûê ÌéòÏù¥ÏßÄ ==========
// Í¥ÄÎ¶¨Ïûê Ï†ÑÏö© Í≥ÑÏ†ï (ID/PW)
// Í¥ÄÎ¶¨Ïûê Í≥ÑÏ†ï Ï¥àÍ∏∞ ÏÑ§Ï†ï (ÏµúÏ¥à Ï†ëÏÜç Ïãú ÏÑ§Ï†ï Ïú†ÎèÑ)
let adminAuthenticated = false; // ÏÑ∏ÏÖò ÎÇ¥ Í¥ÄÎ¶¨Ïûê Ïù∏Ï¶ù ÏÉÅÌÉú

function initAdminAccount() {
  // Í∏∞Ï°¥ Í≥ÑÏ†ï ÏóÜÏúºÎ©¥ ÏµúÏ¥à Ï†ëÏÜç ‚Äî ÏÇ¨Ïö©ÏûêÍ∞Ä ÏßÅÏ†ë ÏÑ§Ï†ïÌïòÎèÑÎ°ù ÏïàÎÇ¥
  // (ÌïòÎìúÏΩîÎî©Îêú Í∏∞Î≥∏ ÎπÑÎ∞ÄÎ≤àÌò∏ Ï†úÍ±∞ ‚Äî Î≥¥Ïïà Í∞ïÌôî)
  if (!localStorage.getItem('adminAccount')) {
    // Ï¥àÍ∏∞ Í¥ÄÎ¶¨Ïûê Í≥ÑÏ†ï ÏÉùÏÑ± (ÎπÑÎ∞ÄÎ≤àÌò∏ÎèÑ Ìï¥Ïãú Ï≤òÎ¶¨)
    localStorage.setItem('adminAccount', JSON.stringify({
      id: 'admin',
      pw: hashPasswordSync('admin1234!'),
      needsChange: true
    }));
  } else {
    // Í∏∞Ï°¥ ÌèâÎ¨∏/Ïù¥Ï†ÑÌï¥Ïãú ÎπÑÎ∞ÄÎ≤àÌò∏ ‚Üí pbk Ìï¥Ïãú ÎßàÏù¥Í∑∏Î†àÏù¥ÏÖò
    const acc = JSON.parse(localStorage.getItem('adminAccount'));
    if (acc.pw && !acc.pw.startsWith('pbk_')) {
      // ÌèâÎ¨∏Ïù∏ Í≤ΩÏö∞Îßå ÎßàÏù¥Í∑∏Î†àÏù¥ÏÖò (sh256_Îäî Ïû¨ÏÑ§Ï†ï ÌïÑÏöî)
      if (!acc.pw.startsWith('sh256_')) {
        acc.pw = hashPasswordSync(acc.pw);
        localStorage.setItem('adminAccount', JSON.stringify(acc));
      } else {
        // sh256_ ‚Üí Í∞ïÏ†ú Ïû¨ÏÑ§Ï†ï
        acc.needsChange = true;
        acc.pw = hashPasswordSync('admin1234!');
        localStorage.setItem('adminAccount', JSON.stringify(acc));
      }
    }
  }
}
initAdminAccount();

function getAdminAccount() {
  return safeGetJSON('adminAccount', { id: 'admin', pw: hashPasswordSync('admin1234!'), needsChange: true });
}

function isAdmin() {
  return adminAuthenticated === true;
}

function showAdminLogin() {
  // Ïù¥ÎØ∏ Ïù∏Ï¶ùÎêêÏúºÎ©¥ Î∞îÎ°ú ÏßÑÏûÖ
  if (adminAuthenticated) { showPage('admin'); return; }
  // Î™®Îã¨ ÏÉùÏÑ±
  const overlay = document.createElement('div');
  overlay.className = 'admin-login-overlay';
  overlay.id = 'adminLoginOverlay';
  overlay.innerHTML = `
    <div class="admin-login-box">
      <div class="admin-login-header">
        <span class="alh-icon">üîê</span>
        <h3>Í¥ÄÎ¶¨Ïûê Ïù∏Ï¶ù</h3>
        <p>Í¥ÄÎ¶¨Ïûê IDÏôÄ ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî</p>
      </div>
      <div class="admin-login-body">
        <div class="admin-login-msg" id="adminLoginMsg"></div>
        <div class="form-group">
          <label>Í¥ÄÎ¶¨Ïûê ID</label>
          <input type="text" id="adminLoginId" placeholder="Í¥ÄÎ¶¨Ïûê ID ÏûÖÎ†•" autocomplete="off">
        </div>
        <div class="form-group">
          <label>Í¥ÄÎ¶¨Ïûê ÎπÑÎ∞ÄÎ≤àÌò∏</label>
          <input type="password" id="adminLoginPw" placeholder="ÎπÑÎ∞ÄÎ≤àÌò∏ ÏûÖÎ†•" autocomplete="off">
        </div>
      </div>
      <div class="admin-login-footer">
        <button class="abl-cancel" onclick="closeAdminLogin()">Ï∑®ÏÜå</button>
        <button class="abl-submit" onclick="submitAdminLogin()">üîì Ïù∏Ï¶ù</button>
      </div>
    </div>
  `;
  document.body.appendChild(overlay);
  // Ìè¨Ïª§Ïä§
  setTimeout(() => document.getElementById('adminLoginId').focus(), 100);
  // Enter ÌÇ§ ÏßÄÏõê
  overlay.addEventListener('keydown', function(e) {
    if (e.key === 'Enter') submitAdminLogin();
    if (e.key === 'Escape') closeAdminLogin();
  });
}

function closeAdminLogin() {
  const overlay = document.getElementById('adminLoginOverlay');
  if (overlay) overlay.remove();
}

function submitAdminLogin() {
  const id = document.getElementById('adminLoginId').value.trim();
  const pw = document.getElementById('adminLoginPw').value;
  const msgEl = document.getElementById('adminLoginMsg');
  if (!id || !pw) {
    msgEl.className = 'admin-login-msg error';
    msgEl.textContent = 'IDÏôÄ ÎπÑÎ∞ÄÎ≤àÌò∏Î•º Î™®Îëê ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî.';
    return;
  }
  // Í¥ÄÎ¶¨Ïûê Î°úÍ∑∏Ïù∏ ÏãúÎèÑ Ï†úÌïú
  const lockSec = isLoginLocked('_admin_');
  if (lockSec) {
    msgEl.className = 'admin-login-msg error';
    msgEl.textContent = `Î°úÍ∑∏Ïù∏ ÏãúÎèÑ ÌöüÏàò Ï¥àÍ≥º. ${lockSec}Ï¥à ÌõÑ Îã§Ïãú ÏãúÎèÑÌï¥ Ï£ºÏÑ∏Ïöî.`;
    return;
  }
  const account = getAdminAccount();
  if (id !== account.id || !verifyPassword(account.pw, pw)) {
    recordLoginFailure('_admin_');
    const attempts = getLoginAttempts();
    const remaining = LOGIN_MAX_ATTEMPTS - (attempts['_admin_'] ? attempts['_admin_'].count : 0);
    msgEl.className = 'admin-login-msg error';
    msgEl.textContent = remaining > 0
      ? `Í¥ÄÎ¶¨Ïûê ID ÎòêÎäî ÎπÑÎ∞ÄÎ≤àÌò∏Í∞Ä Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏäµÎãàÎã§. (${remaining}Ìöå ÎÇ®Ïùå)`
      : `Î°úÍ∑∏Ïù∏ ÏãúÎèÑ ÌöüÏàò Ï¥àÍ≥º. 3Î∂Ñ ÌõÑ Îã§Ïãú ÏãúÎèÑÌï¥ Ï£ºÏÑ∏Ïöî.`;
    addAdminLog('login', 'üö´', `Í¥ÄÎ¶¨Ïûê Î°úÍ∑∏Ïù∏ Ïã§Ìå® (ÏûÖÎ†• ID: ${escapeHTML(id)})`);
    return;
  }
  clearLoginAttempts('_admin_');
  // Ïù∏Ï¶ù ÏÑ±Í≥µ
  adminAuthenticated = true;
  addAdminLog('login', 'üîì', `<strong>Í¥ÄÎ¶¨Ïûê Ïù∏Ï¶ù ÏÑ±Í≥µ</strong> (${currentUser ? escapeHTML(currentUser.name) : 'ÎπÑÎ°úÍ∑∏Ïù∏'})`);
  closeAdminLogin();
  // Ï¥àÍ∏∞ ÎπÑÎ∞ÄÎ≤àÌò∏ Î≥ÄÍ≤Ω Í∞ïÏ†ú
  if (account.needsChange) {
    alert('‚ö†Ô∏è Î≥¥ÏïàÏùÑ ÏúÑÌï¥ Í¥ÄÎ¶¨Ïûê ÎπÑÎ∞ÄÎ≤àÌò∏Î•º Î≥ÄÍ≤ΩÌï¥ Ï£ºÏÑ∏Ïöî.\nÍ¥ÄÎ¶¨Ïûê ÌéòÏù¥ÏßÄ > ÏÑ§Ï†ï ÌÉ≠ > Í¥ÄÎ¶¨Ïûê Í≥ÑÏ†ï Î≥ÄÍ≤ΩÏóêÏÑú Î≥ÄÍ≤ΩÌï† Ïàò ÏûàÏäµÎãàÎã§.');
  }
  showPage('admin');
}

function addAdminLog(type, icon, text) {
  const logs = JSON.parse(localStorage.getItem('adminLogs') || '[]');
  logs.unshift({
    time: new Date().toISOString(),
    type, icon, text
  });
  // ÏµúÎåÄ 500Í∞ú
  if (logs.length > 500) logs.length = 500;
  localStorage.setItem('adminLogs', JSON.stringify(logs));
}

function renderAdminPage() {
  if (!adminAuthenticated) { showAdminLogin(); return; }
  const users = JSON.parse(localStorage.getItem('authUsers') || '{}');
  const userList = Object.values(users);
  const onlineData = safeGetJSON('authOnline', {});
  const now = Date.now();
  const activeCount = Object.values(onlineData).filter(u => now - (u.lastSeen || 0) < 60000).length;
  const camps = [...new Set(userList.filter(u => u.role === 'candidate').map(u => u.email))];
  const proCount = userList.filter(u => u.plan === 'pro' || u.plan === 'team').length;

  // ÌÜµÍ≥Ñ Ïπ¥Îìú
  document.getElementById('adminStats').innerHTML = `
    <div class="admin-stat st-users">
      <div class="stat-icon">üë•</div>
      <div class="stat-val">${userList.length}</div>
      <div class="stat-lbl">Ï†ÑÏ≤¥ ÌöåÏõê</div>
    </div>
    <div class="admin-stat st-camps">
      <div class="stat-icon">üèïÔ∏è</div>
      <div class="stat-val">${camps.length}</div>
      <div class="stat-lbl">Ï∫†ÌîÑ Ïàò</div>
    </div>
    <div class="admin-stat st-active">
      <div class="stat-icon">üü¢</div>
      <div class="stat-val">${activeCount}</div>
      <div class="stat-lbl">ÌòÑÏû¨ Ï†ëÏÜç Ï§ë</div>
    </div>
    <div class="admin-stat st-plans">
      <div class="stat-icon">üíé</div>
      <div class="stat-val">${proCount}</div>
      <div class="stat-lbl">Ïú†Î£å ÌöåÏõê</div>
    </div>
  `;

  // Ï∞®Ìä∏ (Ï†ïÎãπÎ≥Ñ¬∑ÏßÅÏ±ÖÎ≥Ñ Î∂ÑÌè¨)
  const partyDist = {};
  const roleDist = {};
  userList.forEach(u => {
    const p = u.party || 'ÎØ∏ÏÑ§Ï†ï';
    const r = u.role || 'observer';
    partyDist[p] = (partyDist[p] || 0) + 1;
    roleDist[r] = (roleDist[r] || 0) + 1;
  });
  const partyColors = { 'ÎçîÎ∂àÏñ¥ÎØºÏ£ºÎãπ':'#0052CE', 'Íµ≠ÎØºÏùòÌûò':'#E61E2B', 'Ï°∞Íµ≠ÌòÅÏã†Îãπ':'#FF6B00', 'Í∞úÌòÅÏã†Îãπ':'#FF8C00', 'ÏßÑÎ≥¥Îãπ':'#D42020', 'ÏÉàÎ°úÏö¥ÎØ∏Îûò':'#00A86B', 'Î¨¥ÏÜåÏÜç':'#6B7280', 'Í∏∞ÌÉÄ':'#7C3AED', 'ÎØ∏ÏÑ§Ï†ï':'#d1d5db' };
  const maxParty = Math.max(...Object.values(partyDist), 1);
  const maxRole = Math.max(...Object.values(roleDist), 1);

  let partyBars = '';
  Object.entries(partyDist).sort((a,b) => b[1]-a[1]).forEach(([name, cnt]) => {
    const pct = Math.round(cnt / maxParty * 100);
    const col = partyColors[name] || '#6B7280';
    partyBars += `<div class="admin-bar-item">
      <span class="admin-bar-label">${name}</span>
      <div class="admin-bar-track"><div class="admin-bar-fill" style="width:${pct}%;background:${col};">${cnt}</div></div>
    </div>`;
  });

  let roleBars = '';
  const roleColors = { candidate:'#1e40af', manager:'#065f46', accountant:'#92400e', secretary:'#5b21b6', volunteer:'#9d174d', observer:'#6B7280' };
  Object.entries(roleDist).sort((a,b) => b[1]-a[1]).forEach(([role, cnt]) => {
    const rc = roleConfig[role] || { icon:'?', label:role };
    const pct = Math.round(cnt / maxRole * 100);
    const col = roleColors[role] || '#6B7280';
    roleBars += `<div class="admin-bar-item">
      <span class="admin-bar-label">${rc.icon} ${rc.label}</span>
      <div class="admin-bar-track"><div class="admin-bar-fill" style="width:${pct}%;background:${col};">${cnt}</div></div>
    </div>`;
  });

  document.getElementById('adminCharts').innerHTML = `
    <div class="admin-chart-card">
      <h4>üèõÔ∏è Ï†ïÎãπÎ≥Ñ Î∂ÑÌè¨</h4>
      <div class="admin-bar-chart">${partyBars || '<div class="admin-empty">Îç∞Ïù¥ÌÑ∞ ÏóÜÏùå</div>'}</div>
    </div>
    <div class="admin-chart-card">
      <h4>üëî ÏßÅÏ±ÖÎ≥Ñ Î∂ÑÌè¨</h4>
      <div class="admin-bar-chart">${roleBars || '<div class="admin-empty">Îç∞Ïù¥ÌÑ∞ ÏóÜÏùå</div>'}</div>
    </div>
  `;

  // ÌÉ≠ Ïπ¥Ïö¥Ìä∏
  document.getElementById('adminUserCount').textContent = userList.length;
  document.getElementById('adminCampCount').textContent = camps.length;

  renderAdminUsers();
  renderAdminCamps();
  renderAdminLogs();
  renderAdminSettings();
  setTimeout(renderStorageInfo, 100);
}

function switchAdminTab(tab) {
  document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active'));
  document.querySelectorAll('.admin-tab-content').forEach(c => c.classList.remove('active'));
  document.querySelector(`[data-atab="${tab}"]`).classList.add('active');
  document.getElementById('atab-' + tab).classList.add('active');
}

// ÌöåÏõêÍ¥ÄÎ¶¨
let adminUserPage = 0;
const ADMIN_PAGE_SIZE = 15;

function getFilteredUsers() {
  const users = Object.values(JSON.parse(localStorage.getItem('authUsers') || '{}'));
  const search = (document.getElementById('adminUserSearch').value || '').toLowerCase();
  const roleF = document.getElementById('adminRoleFilter').value;
  const partyF = document.getElementById('adminPartyFilter').value;
  const planF = document.getElementById('adminPlanFilter').value;
  return users.filter(u => {
    if (search && !(u.name||'').toLowerCase().includes(search) && !(u.email||'').toLowerCase().includes(search) && !(u.party||'').includes(search)) return false;
    if (roleF && u.role !== roleF) return false;
    if (partyF && u.party !== partyF) return false;
    if (planF && (u.plan || 'free') !== planF) return false;
    return true;
  });
}

function renderAdminUsers() {
  const filtered = getFilteredUsers();
  const total = filtered.length;
  const pages = Math.ceil(total / ADMIN_PAGE_SIZE);
  if (adminUserPage >= pages) adminUserPage = Math.max(0, pages - 1);
  const start = adminUserPage * ADMIN_PAGE_SIZE;
  const pageUsers = filtered.slice(start, start + ADMIN_PAGE_SIZE);

  if (total === 0) {
    document.getElementById('adminUserTable').innerHTML = '<div class="admin-empty"><span class="empty-icon">üë§</span>Îì±Î°ùÎêú ÌöåÏõêÏù¥ ÏóÜÏäµÎãàÎã§.</div>';
    return;
  }

  let rows = '';
  pageUsers.forEach(u => {
    const rc = roleConfig[u.role] || roleConfig.observer;
    const pt = partyThemes[u.party] || {};
    const plan = u.plan || 'free';
    const planLabel = plan === 'pro' ? '<span class="plan-badge-pro">PRO</span>' : plan === 'team' ? '<span class="plan-badge-team">TEAM</span>' : '<span style="font-size:11px;color:var(--gray-500);">Free</span>';
    const joined = new Date(u.createdAt).toLocaleDateString('ko-KR',{month:'short',day:'numeric'});
    rows += `<tr>
      <td><div class="user-cell"><div class="user-avatar" style="${u.party && pt.primary ? 'background:'+pt.primaryLight+';color:'+pt.primary : ''}">${escapeHTML((u.name||'?')[0])}</div><div><div style="font-weight:600;">${escapeHTML(u.name)}</div><div style="font-size:11px;color:var(--gray-500);">${escapeHTML(u.email)}</div></div></div></td>
      <td><span class="role-badge ${rc.color}">${rc.icon} ${rc.label}</span></td>
      <td>${u.party ? `<span style="color:${pt.primary || 'inherit'};font-weight:600;">${pt.emoji || ''} ${escapeHTML(u.party)}</span>` : '<span style="color:var(--gray-400);">-</span>'}</td>
      <td>${planLabel}</td>
      <td>${joined}</td>
      <td><div class="action-btns">
        <button onclick="adminEditUser(this.dataset.e)" data-e="${escapeHTML(u.email)}">‚úèÔ∏è ÏßÅÏ±Ö</button>
        <button onclick="adminChangePlan(this.dataset.e)" data-e="${escapeHTML(u.email)}">üíé ÏöîÍ∏à</button>
        <button class="del-btn" onclick="adminDeleteUser(this.dataset.e)" data-e="${escapeHTML(u.email)}">üóëÔ∏è</button>
      </div></td>
    </tr>`;
  });

  let pagination = '';
  for (let i = 0; i < pages; i++) {
    pagination += `<button class="${i === adminUserPage ? 'active' : ''}" onclick="adminUserPage=${i};renderAdminUsers();">${i+1}</button>`;
  }

  document.getElementById('adminUserTable').innerHTML = `
    <table class="admin-table">
      <thead><tr><th>ÌöåÏõê</th><th>ÏßÅÏ±Ö</th><th>Ï†ïÎãπ</th><th>ÏöîÍ∏àÏ†ú</th><th>Í∞ÄÏûÖÏùº</th><th>Í¥ÄÎ¶¨</th></tr></thead>
      <tbody>${rows}</tbody>
    </table>
    ${pages > 1 ? `<div class="admin-pagination">${pagination}</div>` : ''}
    <div style="text-align:right;margin-top:8px;font-size:12px;color:var(--gray-500);">Ï¥ù ${total}Î™Ö${total > ADMIN_PAGE_SIZE ? ` (${start+1}-${Math.min(start+ADMIN_PAGE_SIZE, total)} ÌëúÏãú)` : ''}</div>
  `;
}

function filterAdminUsers() { adminUserPage = 0; renderAdminUsers(); }

function adminEditUser(email) {
  const users = JSON.parse(localStorage.getItem('authUsers') || '{}');
  const u = users[email];
  if (!u) return alert('ÌöåÏõêÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.');
  const roles = Object.entries(roleConfig).map(([k,v]) => `${k}=${v.icon}${v.label}`).join(', ');
  const newRole = prompt(`${u.name}ÎãòÏùò ÏßÅÏ±Ö Î≥ÄÍ≤Ω\nÌòÑÏû¨: ${(roleConfig[u.role]||{}).label||u.role}\n\nÏÑ†ÌÉù: ${roles}`, u.role);
  if (!newRole || !roleConfig[newRole]) return;
  users[email].role = newRole;
  localStorage.setItem('authUsers', JSON.stringify(users));
  if (currentUser && currentUser.email === email) { currentUser.role = newRole; updateUserBar(); applyRoleAccess(); }
  addAdminLog('role', 'üëî', `<strong>${u.name}</strong>Îãò ÏßÅÏ±ÖÏùÑ <strong>${roleConfig[newRole].label}</strong>(Ïúº)Î°ú Î≥ÄÍ≤Ω`);
  renderAdminPage();
}

function adminChangePlan(email) {
  const users = JSON.parse(localStorage.getItem('authUsers') || '{}');
  const u = users[email];
  if (!u) return alert('ÌöåÏõêÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.');
  const cur = u.plan || 'free';
  const plans = { free:'Î¨¥Î£å', pro:'Pro (19,000Ïõê/Ïõî)', team:'Team (39,000Ïõê/Ïõî)' };
  const sel = prompt(`${u.name}ÎãòÏùò ÏöîÍ∏àÏ†ú Î≥ÄÍ≤Ω\nÌòÑÏû¨: ${plans[cur]}\n\n1. free (Î¨¥Î£å)\n2. pro\n3. team\n\nÎ≤àÌò∏ ÏûÖÎ†•:`, cur === 'free' ? '1' : cur === 'pro' ? '2' : '3');
  if (!sel) return;
  const planMap = { '1':'free', '2':'pro', '3':'team', 'free':'free', 'pro':'pro', 'team':'team' };
  const newPlan = planMap[sel.trim()];
  if (!newPlan) return alert('Ïò¨Î∞îÎ•∏ Î≤àÌò∏Î•º ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî.');
  users[email].plan = newPlan;
  users[email].planStart = new Date().toISOString();
  localStorage.setItem('authUsers', JSON.stringify(users));
  if (currentUser && currentUser.email === email) { currentUser.plan = newPlan; currentUser.planStart = users[email].planStart; updateUserBar(); }
  addAdminLog('plan', 'üíé', `<strong>${u.name}</strong>Îãò ÏöîÍ∏àÏ†úÎ•º <strong>${plans[newPlan] || newPlan}</strong>(Ïúº)Î°ú Î≥ÄÍ≤Ω`);
  renderAdminPage();
}

function adminDeleteUser(email) {
  const users = JSON.parse(localStorage.getItem('authUsers') || '{}');
  const u = users[email];
  if (!u) return;
  if (!confirm(`${u.name}(${email})ÎãòÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?\nÏù¥ ÏûëÏóÖÏùÄ ÎêòÎèåÎ¶¥ Ïàò ÏóÜÏäµÎãàÎã§.`)) return;
  addAdminLog('register', 'üóëÔ∏è', `<strong>${u.name}</strong>(${email}) ÌöåÏõê ÏÇ≠Ï†ú`);
  delete users[email];
  localStorage.setItem('authUsers', JSON.stringify(users));
  renderAdminPage();
}

// Ï∫†ÌîÑÍ¥ÄÎ¶¨
function renderAdminCamps() {
  const users = Object.values(JSON.parse(localStorage.getItem('authUsers') || '{}'));
  const search = (document.getElementById('adminCampSearch').value || '').toLowerCase();
  const candidates = users.filter(u => u.role === 'candidate');

  if (candidates.length === 0) {
    document.getElementById('adminCampTable').innerHTML = '<div class="admin-empty"><span class="empty-icon">üèïÔ∏è</span>Îì±Î°ùÎêú Ï∫†ÌîÑÍ∞Ä ÏóÜÏäµÎãàÎã§.</div>';
    return;
  }

  let rows = '';
  candidates.forEach(c => {
    if (search && !(c.name||'').toLowerCase().includes(search) && !(c.party||'').includes(search)) return;
    const staff = users.filter(u => u.campId === c.email && u.email !== c.email);
    const pt = partyThemes[c.party] || {};
    const plan = c.plan || 'free';
    const planLabel = plan === 'pro' ? 'PRO' : plan === 'team' ? 'TEAM' : 'Free';
    rows += `<tr>
      <td><div class="user-cell"><div class="user-avatar" style="${pt.primary ? 'background:'+pt.primaryLight+';color:'+pt.primary : ''}">${pt.logo || (c.name||'?')[0]}</div><div><div style="font-weight:600;">${c.name} ÌõÑÎ≥¥</div><div style="font-size:11px;color:var(--gray-500);">${c.email}</div></div></div></td>
      <td>${c.party ? `<span style="color:${pt.primary || 'inherit'};font-weight:600;">${pt.emoji||''} ${c.party}</span>` : '-'}</td>
      <td style="font-weight:700;">${staff.length}Î™Ö</td>
      <td>${planLabel}</td>
      <td><code style="font-size:12px;background:var(--gray-100);padding:2px 6px;border-radius:4px;">${c.inviteCode || '-'}</code></td>
      <td>${c.sido ? c.sido + ' ' + (c.sigungu || '') : '-'}</td>
    </tr>`;
  });

  document.getElementById('adminCampTable').innerHTML = `
    <table class="admin-table">
      <thead><tr><th>ÌõÑÎ≥¥Ïûê</th><th>Ï†ïÎãπ</th><th>Ïä§ÌÉúÌîÑ</th><th>ÏöîÍ∏àÏ†ú</th><th>Ï¥àÎåÄÏΩîÎìú</th><th>ÏßÄÏó≠</th></tr></thead>
      <tbody>${rows || '<tr><td colspan="6" style="text-align:center;color:var(--gray-500);">Í≤ÄÏÉâ Í≤∞Í≥º ÏóÜÏùå</td></tr>'}</tbody>
    </table>
  `;
}

function filterAdminCamps() { renderAdminCamps(); }

// ÌôúÎèôÎ°úÍ∑∏
function renderAdminLogs() {
  const logs = JSON.parse(localStorage.getItem('adminLogs') || '[]');
  const filter = document.getElementById('adminLogFilter').value;
  const filtered = filter ? logs.filter(l => l.type === filter) : logs;

  if (filtered.length === 0) {
    document.getElementById('adminLogList').innerHTML = '<div class="admin-empty"><span class="empty-icon">üìã</span>ÌôúÎèô Î°úÍ∑∏Í∞Ä ÏóÜÏäµÎãàÎã§.</div>';
    return;
  }

  let items = '';
  filtered.slice(0, 100).forEach(log => {
    const d = new Date(log.time);
    const timeStr = d.toLocaleDateString('ko-KR',{month:'short',day:'numeric'}) + ' ' + d.toLocaleTimeString('ko-KR',{hour:'2-digit',minute:'2-digit'});
    items += `<div class="admin-log-item">
      <span class="admin-log-time">${timeStr}</span>
      <span class="admin-log-icon">${log.icon || 'üìå'}</span>
      <div class="admin-log-text">${log.text}</div>
    </div>`;
  });

  document.getElementById('adminLogList').innerHTML = `<div class="admin-log">${items}</div>
    <div style="text-align:right;margin-top:8px;font-size:12px;color:var(--gray-500);">Ï¥ù ${filtered.length}Í±¥${filtered.length > 100 ? ' (ÏµúÍ∑º 100Í±¥ ÌëúÏãú)' : ''}</div>`;
}

function clearAdminLogs() {
  if (!confirm('Î™®Îì† ÌôúÎèô Î°úÍ∑∏Î•º ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) return;
  localStorage.setItem('adminLogs', '[]');
  renderAdminLogs();
}

// ÏãúÏä§ÌÖúÏÑ§Ï†ï
function renderAdminSettings() {
  const settings = JSON.parse(localStorage.getItem('adminSettings') || '{}');
  const account = getAdminAccount();
  document.getElementById('adminSettingsArea').innerHTML = `
    <div class="admin-settings-grid">
      <div class="admin-setting-card">
        <h4>üîê Ï†ëÍ∑º Ï†úÏñ¥</h4>
        <div class="admin-setting-row"><label>ÌöåÏõêÍ∞ÄÏûÖ ÌóàÏö©</label><label class="admin-toggle"><input type="checkbox" ${settings.allowRegister !== false ? 'checked' : ''} onchange="saveAdminSetting('allowRegister',this.checked)"><span class="slider"></span></label></div>
        <div class="admin-setting-row"><label>Ï¥àÎåÄÏΩîÎìú ÏóÜÏù¥ Ïä§ÌÉúÌîÑ Í∞ÄÏûÖ</label><label class="admin-toggle"><input type="checkbox" ${settings.allowNoInvite ? 'checked' : ''} onchange="saveAdminSetting('allowNoInvite',this.checked)"><span class="slider"></span></label></div>
        <div class="admin-setting-row"><label>ÎπÑÎ°úÍ∑∏Ïù∏ ÏÇ¨Ïö© ÌóàÏö©</label><label class="admin-toggle"><input type="checkbox" ${settings.allowGuest !== false ? 'checked' : ''} onchange="saveAdminSetting('allowGuest',this.checked)"><span class="slider"></span></label></div>
      </div>
      <div class="admin-setting-card">
        <h4>üìä Î∂ÑÏÑùÍ∏∞ ÏÑ§Ï†ï</h4>
        <div class="admin-setting-row"><label>Î¨¥Î£å ÏùºÏùº Î∂ÑÏÑù ÌöüÏàò</label><input type="number" class="admin-filter" style="width:60px;" value="${settings.freeAnalyzerLimit || 3}" onchange="saveAdminSetting('freeAnalyzerLimit',parseInt(this.value))"></div>
        <div class="admin-setting-row"><label>Ïù¥ÎØ∏ÏßÄ Î∂ÑÏÑù ÌóàÏö©</label><label class="admin-toggle"><input type="checkbox" ${settings.allowImageAnalysis !== false ? 'checked' : ''} onchange="saveAdminSetting('allowImageAnalysis',this.checked)"><span class="slider"></span></label></div>
        <div class="admin-setting-row"><label>Î∂ÑÏÑù Í≤∞Í≥º Ï†ÄÏû•</label><label class="admin-toggle"><input type="checkbox" ${settings.saveAnalysis ? 'checked' : ''} onchange="saveAdminSetting('saveAnalysis',this.checked)"><span class="slider"></span></label></div>
      </div>
      <div class="admin-setting-card">
        <h4>üí∞ ÏöîÍ∏àÏ†ú Í¥ÄÎ¶¨</h4>
        <div class="admin-setting-row"><label>Pro Ïõî ÏöîÍ∏à (Ïõê)</label><input type="number" class="admin-filter" style="width:90px;" value="${settings.proPrice || 19000}" onchange="saveAdminSetting('proPrice',parseInt(this.value))"></div>
        <div class="admin-setting-row"><label>Team Ïõî ÏöîÍ∏à (Ïõê)</label><input type="number" class="admin-filter" style="width:90px;" value="${settings.teamPrice || 39000}" onchange="saveAdminSetting('teamPrice',parseInt(this.value))"></div>
        <div class="admin-setting-row"><label>Î¨¥Î£åÏ≤¥Ìóò Í∏∞Í∞Ñ (Ïùº)</label><input type="number" class="admin-filter" style="width:60px;" value="${settings.trialDays || 7}" onchange="saveAdminSetting('trialDays',parseInt(this.value))"></div>
      </div>
      <div class="admin-setting-card">
        <h4>üîî ÏïåÎ¶º¬∑Í∏∞ÌÉÄ</h4>
        <div class="admin-setting-row"><label>Ïã†Í∑ú Í∞ÄÏûÖ ÏïåÎ¶º</label><label class="admin-toggle"><input type="checkbox" ${settings.notifyRegister ? 'checked' : ''} onchange="saveAdminSetting('notifyRegister',this.checked)"><span class="slider"></span></label></div>
        <div class="admin-setting-row"><label>Ï†ëÏÜç Í∏∞Î°ù Ïú†ÏßÄ (Ïùº)</label><input type="number" class="admin-filter" style="width:60px;" value="${settings.logRetention || 30}" onchange="saveAdminSetting('logRetention',parseInt(this.value))"></div>
        <div class="admin-setting-row"><label>Ïú†ÏßÄÎ≥¥Ïàò Î™®Îìú</label><label class="admin-toggle"><input type="checkbox" ${settings.maintenance ? 'checked' : ''} onchange="saveAdminSetting('maintenance',this.checked)"><span class="slider"></span></label></div>
      </div>
      <div class="admin-setting-card">
        <h4>üì¢ ÏÇ¨Ïù¥Ìä∏ Í≥µÏßÄÏÇ¨Ìï≠</h4>
        <div class="form-group" style="margin:0 0 12px 0;">
          <label style="font-size:12px;font-weight:700;color:#334155;">Í≥µÏßÄ Î©îÏãúÏßÄ (ÎπÑÏõåÎëêÎ©¥ ÎπÑÌëúÏãú)</label>
          <textarea id="adminNotice" rows="3" style="width:100%;padding:10px;border:1px solid var(--gray-300);border-radius:8px;font-size:13px;font-family:inherit;resize:vertical;">${settings.notice || ''}</textarea>
        </div>
        <div style="display:flex;gap:8px;">
          <button class="btn btn-sm btn-primary" onclick="saveAdminSetting('notice',document.getElementById('adminNotice').value);alert('Í≥µÏßÄÏÇ¨Ìï≠ Ï†ÄÏû• ÏôÑÎ£å');" style="background:#1e293b;">Ï†ÄÏû•</button>
          <button class="btn btn-sm btn-outline" onclick="document.getElementById('adminNotice').value='';saveAdminSetting('notice','');alert('Í≥µÏßÄÏÇ¨Ìï≠ ÏÇ≠Ï†úÎê®');">ÏÇ≠Ï†ú</button>
        </div>
      </div>
      <div class="admin-setting-card">
        <h4>üõ†Ô∏è ÏÇ¨Ïù¥Ìä∏ Ïú†ÏßÄÍ¥ÄÎ¶¨</h4>
        <div style="display:flex;flex-direction:column;gap:10px;">
          <div style="display:flex;align-items:center;justify-content:space-between;">
            <div><div style="font-size:13px;font-weight:600;">üì• Îç∞Ïù¥ÌÑ∞ Î∞±ÏóÖ</div><div style="font-size:11px;color:var(--gray-500);">Î™®Îì† ÌöåÏõê¬∑ÏÑ§Ï†ï¬∑Î°úÍ∑∏ Îç∞Ïù¥ÌÑ∞Î•º JSON ÌååÏùºÎ°ú ÎÇ¥Î≥¥ÎÇ¥Í∏∞</div></div>
            <button class="btn btn-sm btn-primary" onclick="exportAdminData()" style="background:#1e293b;">ÎÇ¥Î≥¥ÎÇ¥Í∏∞</button>
          </div>
          <div style="display:flex;align-items:center;justify-content:space-between;">
            <div><div style="font-size:13px;font-weight:600;">üì§ Îç∞Ïù¥ÌÑ∞ Î≥µÏõê</div><div style="font-size:11px;color:var(--gray-500);">Î∞±ÏóÖ ÌååÏùºÏóêÏÑú Îç∞Ïù¥ÌÑ∞Î•º Î≥µÏõêÌï©ÎãàÎã§</div></div>
            <button class="btn btn-sm btn-outline" onclick="importAdminData()">Î≥µÏõêÌïòÍ∏∞</button>
          </div>
          <div style="display:flex;align-items:center;justify-content:space-between;">
            <div><div style="font-size:13px;font-weight:600;">üóëÔ∏è ÌôúÎèôÎ°úÍ∑∏ Ï¥àÍ∏∞Ìôî</div><div style="font-size:11px;color:var(--gray-500);">Ï†ÄÏû•Îêú Î™®Îì† ÌôúÎèô Î°úÍ∑∏Î•º ÏÇ≠Ï†úÌï©ÎãàÎã§</div></div>
            <button class="btn btn-sm btn-outline" onclick="clearAdminLogs()" style="border-color:var(--danger);color:var(--danger);">Ï¥àÍ∏∞Ìôî</button>
          </div>
          <div style="display:flex;align-items:center;justify-content:space-between;">
            <div><div style="font-size:13px;font-weight:600;">‚ö†Ô∏è Ï†ÑÏ≤¥ Îç∞Ïù¥ÌÑ∞ Ï¥àÍ∏∞Ìôî</div><div style="font-size:11px;color:var(--danger);">Î™®Îì† ÌöåÏõê¬∑Ï∫†ÌîÑ¬∑ÏÑ§Ï†ï¬∑Î°úÍ∑∏Î•º ÏÇ≠Ï†úÌï©ÎãàÎã§ (Î≥µÍµ¨ Î∂àÍ∞Ä)</div></div>
            <button class="btn btn-sm btn-danger" onclick="resetAllData()">Ï†ÑÏ≤¥ Ï¥àÍ∏∞Ìôî</button>
          </div>
        </div>
      </div>
      <div class="admin-setting-card">
        <h4>üìà Ï†ÄÏû•ÏÜå ÌòÑÌô©</h4>
        <div id="adminStorageInfo" style="font-size:13px;line-height:2;"></div>
      </div>
      <div class="admin-setting-card" style="grid-column:1/-1; border: 2px solid #1e293b;">
        <h4>üîë Í¥ÄÎ¶¨Ïûê Í≥ÑÏ†ï (ID / ÎπÑÎ∞ÄÎ≤àÌò∏)</h4>
        <div style="display:grid; grid-template-columns:1fr 1fr 1fr auto; gap:12px; align-items:end;">
          <div class="form-group" style="margin:0;">
            <label style="font-size:12px;font-weight:700;color:#334155;">Í¥ÄÎ¶¨Ïûê ID</label>
            <input type="text" id="adminAccId" value="${account.id}" style="padding:9px 12px;border:2px solid var(--gray-200);border-radius:8px;font-size:14px;font-weight:600;">
          </div>
          <div class="form-group" style="margin:0;">
            <label style="font-size:12px;font-weight:700;color:#334155;">ÌòÑÏû¨ ÎπÑÎ∞ÄÎ≤àÌò∏</label>
            <input type="password" id="adminAccOldPw" placeholder="ÌòÑÏû¨ ÎπÑÎ∞ÄÎ≤àÌò∏" style="padding:9px 12px;border:2px solid var(--gray-200);border-radius:8px;font-size:14px;">
          </div>
          <div class="form-group" style="margin:0;">
            <label style="font-size:12px;font-weight:700;color:#334155;">ÏÉà ÎπÑÎ∞ÄÎ≤àÌò∏</label>
            <input type="password" id="adminAccNewPw" placeholder="ÏÉà ÎπÑÎ∞ÄÎ≤àÌò∏" style="padding:9px 12px;border:2px solid var(--gray-200);border-radius:8px;font-size:14px;">
          </div>
          <button class="btn btn-primary" onclick="changeAdminAccount()" style="padding:10px 18px;background:#1e293b;height:fit-content;">Î≥ÄÍ≤Ω Ï†ÄÏû•</button>
        </div>
        <div id="adminAccMsg" style="font-size:12px;margin-top:8px;"></div>
      </div>
    </div>
  `;
}

function changeAdminAccount() {
  const newId = document.getElementById('adminAccId').value.trim();
  const oldPw = document.getElementById('adminAccOldPw').value;
  const newPw = document.getElementById('adminAccNewPw').value;
  const msgEl = document.getElementById('adminAccMsg');
  const account = getAdminAccount();
  if (!newId) { msgEl.innerHTML = '<span style="color:#991b1b;">‚ùå IDÎ•º ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî.</span>'; return; }
  if (newId.length < 3) { msgEl.innerHTML = '<span style="color:#991b1b;">‚ùå IDÎäî 3Ïûê Ïù¥ÏÉÅÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§.</span>'; return; }
  if (!oldPw) { msgEl.innerHTML = '<span style="color:#991b1b;">‚ùå ÌòÑÏû¨ ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî.</span>'; return; }
  if (!verifyPassword(account.pw, oldPw)) { msgEl.innerHTML = '<span style="color:#991b1b;">‚ùå ÌòÑÏû¨ ÎπÑÎ∞ÄÎ≤àÌò∏Í∞Ä Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏäµÎãàÎã§.</span>'; return; }
  if (newPw && newPw.length < 8) { msgEl.innerHTML = '<span style="color:#991b1b;">‚ùå ÏÉà ÎπÑÎ∞ÄÎ≤àÌò∏Îäî 8Ïûê Ïù¥ÏÉÅÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§.</span>'; return; }
  if (newPw && (!/[a-zA-Z]/.test(newPw) || !/[0-9]/.test(newPw))) { msgEl.innerHTML = '<span style="color:#991b1b;">‚ùå ÏÉà ÎπÑÎ∞ÄÎ≤àÌò∏Ïóê ÏòÅÎ¨∏Í≥º Ïà´ÏûêÎ•º Î™®Îëê Ìè¨Ìï®Ìï¥ Ï£ºÏÑ∏Ïöî.</span>'; return; }
  const updated = { id: newId, pw: newPw ? hashPasswordSync(newPw) : account.pw, needsChange: false };
  localStorage.setItem('adminAccount', JSON.stringify(updated));
  document.getElementById('adminAccOldPw').value = '';
  document.getElementById('adminAccNewPw').value = '';
  const changes = [];
  if (newId !== account.id) changes.push('ID Î≥ÄÍ≤Ω');
  if (newPw) changes.push('ÎπÑÎ∞ÄÎ≤àÌò∏ Î≥ÄÍ≤Ω');
  msgEl.innerHTML = `<span style="color:#065f46;">‚úÖ Í¥ÄÎ¶¨Ïûê Í≥ÑÏ†ïÏù¥ Î≥ÄÍ≤ΩÎêòÏóàÏäµÎãàÎã§. (${changes.join(', ') || 'Î≥ÄÍ≤Ω ÏóÜÏùå'})</span>`;
  addAdminLog('settings', 'üîë', `Í¥ÄÎ¶¨Ïûê Í≥ÑÏ†ï Î≥ÄÍ≤Ω: ${changes.join(', ') || 'Î≥ÄÍ≤Ω ÏóÜÏùå'}`);
}

function saveAdminSetting(key, value) {
  const settings = JSON.parse(localStorage.getItem('adminSettings') || '{}');
  settings[key] = value;
  localStorage.setItem('adminSettings', JSON.stringify(settings));
  addAdminLog('settings', 'üîß', `ÏãúÏä§ÌÖú ÏÑ§Ï†ï Î≥ÄÍ≤Ω: <strong>${key}</strong> = ${value}`);
}

function exportAdminData() {
  const data = {
    users: JSON.parse(localStorage.getItem('authUsers') || '{}'),
    settings: JSON.parse(localStorage.getItem('adminSettings') || '{}'),
    logs: JSON.parse(localStorage.getItem('adminLogs') || '[]'),
    exportedAt: new Date().toISOString(),
    exportedBy: currentUser ? currentUser.email : 'unknown'
  };
  const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = `admin-export-${new Date().toISOString().slice(0,10)}.json`;
  a.click();
  URL.revokeObjectURL(url);
  addAdminLog('settings', 'üì•', `Îç∞Ïù¥ÌÑ∞ ÎÇ¥Î≥¥ÎÇ¥Í∏∞ Ïã§Ìñâ`);
}

function importAdminData() {
  const input = document.createElement('input');
  input.type = 'file';
  input.accept = '.json';
  input.onchange = function(e) {
    const file = e.target.files[0];
    if (!file) return;
    const reader = new FileReader();
    reader.onload = function(ev) {
      try {
        const data = JSON.parse(ev.target.result);
        if (!confirm(`Î∞±ÏóÖ ÌååÏùº Ï†ïÎ≥¥:\n- ÎÇ¥Î≥¥ÎÇ∏ ÎÇ†Ïßú: ${data.exportedAt || 'Î∂àÎ™Ö'}\n- ÌöåÏõê Ïàò: ${Object.keys(data.users || {}).length}Î™Ö\n- Î°úÍ∑∏ Ïàò: ${(data.logs || []).length}Í±¥\n\nÌòÑÏû¨ Îç∞Ïù¥ÌÑ∞Î•º ÎçÆÏñ¥Ïì∞Í≥† Î≥µÏõêÌïòÏãúÍ≤†ÏäµÎãàÍπå?`)) return;
        if (data.users) localStorage.setItem('authUsers', JSON.stringify(data.users));
        if (data.settings) localStorage.setItem('adminSettings', JSON.stringify(data.settings));
        if (data.logs) localStorage.setItem('adminLogs', JSON.stringify(data.logs));
        addAdminLog('settings', 'üì§', `Îç∞Ïù¥ÌÑ∞ Î≥µÏõê ÏôÑÎ£å (${file.name})`);
        alert('Îç∞Ïù¥ÌÑ∞Í∞Ä Î≥µÏõêÎêòÏóàÏäµÎãàÎã§.');
        renderAdminPage();
      } catch(err) {
        alert('Ïò¨Î∞îÎ•∏ Î∞±ÏóÖ ÌååÏùºÏù¥ ÏïÑÎãôÎãàÎã§.\n' + err.message);
      }
    };
    reader.readAsText(file);
  };
  input.click();
}

function resetAllData() {
  if (!confirm('‚ö†Ô∏è Ï†ÑÏ≤¥ Îç∞Ïù¥ÌÑ∞ Ï¥àÍ∏∞Ìôî\n\nÎ™®Îì† ÌöåÏõê, Ï∫†ÌîÑ, ÏÑ§Ï†ï, Î°úÍ∑∏ Îç∞Ïù¥ÌÑ∞Í∞Ä ÏÇ≠Ï†úÎê©ÎãàÎã§.\nÏù¥ ÏûëÏóÖÏùÄ ÎêòÎèåÎ¶¥ Ïàò ÏóÜÏäµÎãàÎã§.\n\nÏ†ïÎßê Ï¥àÍ∏∞ÌôîÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) return;
  if (!confirm('ÌïúÎ≤à Îçî ÌôïÏù∏Ìï©ÎãàÎã§.\nÏ†ïÎßêÎ°ú Î™®Îì† Îç∞Ïù¥ÌÑ∞Î•º ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) return;
  const account = getAdminAccount(); // Í¥ÄÎ¶¨Ïûê Í≥ÑÏ†ïÏùÄ Î≥¥Ï°¥
  localStorage.removeItem('authUsers');
  localStorage.removeItem('authSession');
  localStorage.removeItem('authOnline');
  localStorage.removeItem('adminLogs');
  localStorage.removeItem('adminSettings');
  localStorage.removeItem('electionProfile');
  localStorage.setItem('adminAccount', JSON.stringify(account));
  if (currentUser) { currentUser = null; updateUserBar(); }
  addAdminLog('settings', '‚ö†Ô∏è', `Ï†ÑÏ≤¥ Îç∞Ïù¥ÌÑ∞ Ï¥àÍ∏∞Ìôî Ïã§Ìñâ`);
  alert('Î™®Îì† Îç∞Ïù¥ÌÑ∞Í∞Ä Ï¥àÍ∏∞ÌôîÎêòÏóàÏäµÎãàÎã§.\nÍ¥ÄÎ¶¨Ïûê Í≥ÑÏ†ïÏùÄ Ïú†ÏßÄÎê©ÎãàÎã§.');
  renderAdminPage();
}

function renderStorageInfo() {
  const el = document.getElementById('adminStorageInfo');
  if (!el) return;
  const keys = ['authUsers','adminAccount','adminSettings','adminLogs','authOnline','electionProfile'];
  let totalBytes = 0;
  let rows = '';
  const labels = { authUsers:'ÌöåÏõê Îç∞Ïù¥ÌÑ∞', adminAccount:'Í¥ÄÎ¶¨Ïûê Í≥ÑÏ†ï', adminSettings:'ÏãúÏä§ÌÖú ÏÑ§Ï†ï', adminLogs:'ÌôúÎèô Î°úÍ∑∏', authOnline:'Ï†ëÏÜç ÌòÑÌô©', electionProfile:'ÏÑ†Í±∞ ÌîÑÎ°úÌïÑ' };
  keys.forEach(key => {
    const val = localStorage.getItem(key) || '';
    const bytes = new Blob([val]).size;
    totalBytes += bytes;
    const size = bytes > 1024 ? (bytes/1024).toFixed(1) + ' KB' : bytes + ' B';
    rows += `<div style="display:flex;justify-content:space-between;"><span>${labels[key] || key}</span><strong>${size}</strong></div>`;
  });
  const totalSize = totalBytes > 1024 ? (totalBytes/1024).toFixed(1) + ' KB' : totalBytes + ' B';
  el.innerHTML = rows + `<div style="display:flex;justify-content:space-between;border-top:2px solid var(--gray-200);padding-top:6px;margin-top:6px;font-weight:800;"><span>Ìï©Í≥Ñ</span><span>${totalSize}</span></div>`;
}

// showPageÏóê Í∂åÌïú+ÏöîÍ∏àÏ†ú Ï≤¥ÌÅ¨ + ÎßàÏù¥ÌéòÏù¥ÏßÄ Î†åÎçîÎßÅ Ï∂îÍ∞Ä
const _origShowPage = showPage;
showPage = function(page) {
  // ÏßÅÏ±Ö Í∂åÌïú Ï≤¥ÌÅ¨
  // Í¥ÄÎ¶¨Ïûê ÌéòÏù¥ÏßÄ Ï†ëÍ∑º Ï≤¥ÌÅ¨
  if (page === 'admin') {
    if (!adminAuthenticated) { showAdminLogin(); return; }
    _origShowPage(page);
    renderAdminPage();
    return;
  }
  if (currentUser && !['login','register','mypage','home','pricing','admin'].includes(page)) {
    const rc = roleConfig[currentUser.role] || roleConfig.observer;
    if (!rc.pages.includes(page)) {
      alert(`${rc.icon} ${rc.label} Í∂åÌïúÏúºÎ°úÎäî Ïù¥ ÌéòÏù¥ÏßÄÏóê Ï†ëÍ∑ºÌï† Ïàò ÏóÜÏäµÎãàÎã§.\nÌõÑÎ≥¥ÏûêÏóêÍ≤å Í∂åÌïú Î≥ÄÍ≤ΩÏùÑ ÏöîÏ≤≠ÌïòÏÑ∏Ïöî.`);
      return;
    }
  }
  // ÏöîÍ∏àÏ†ú Ï≤¥ÌÅ¨ (Î°úÍ∑∏Ïù∏ ÏÉÅÌÉúÏóêÏÑú Ïú†Î£å Í∏∞Îä• Ï†ëÍ∑º Ïãú)
  if (currentUser && ['pledge','checklist'].includes(page) && !checkPlanAccess(page)) {
    _origShowPage(page);
    const container = document.getElementById('page-' + page);
    if (container && !container.querySelector('.upgrade-banner')) {
      container.insertAdjacentHTML('afterbegin', showUpgradeBanner(page));
    }
    return;
  }
  _origShowPage(page);
  if (page === 'mypage') renderMyPage();
  if (page === 'pricing') renderPricingPage();
  if (page === 'register') {
    const regSido = document.getElementById('regSido');
    if (regSido && regSido.options.length <= 1) {
      Object.keys(sidoData).forEach(sido => {
        regSido.appendChild(new Option(sido, sido));
      });
    }
  }
};

document.addEventListener('DOMContentLoaded', initAuth);

// ========== ÏöîÍ∏àÏ†ú (PRICING) ==========
// Î¨¥Î£å Î∞∞Ìè¨ Î™®Îìú: ÏÑ§Ïπò ÌõÑ 7ÏùºÍ∞Ñ Î™®Îì† Í∏∞Îä• Î¨¥Î£å Ï≤¥Ìóò
const TRIAL_DAYS = 7;
const planConfig = {
  free:  { label:'Î¨¥Î£å(Free)', icon:'üÜì', price:0, monthly:0, color:'var(--gray-500)',
    features:{ timeline:true, regulations:true, calculator:true, analyzer:3, pledge:false, checklist:false, profile:false, staffLimit:1, online:false, roleManage:false, exportXls:false } },
  trial: { label:'Î¨¥Î£å Ï≤¥Ìóò', icon:'üéÅ', price:0, monthly:0, color:'#10b981',
    features:{ timeline:true, regulations:true, calculator:true, analyzer:999, pledge:true, checklist:true, profile:true, staffLimit:5, online:true, roleManage:true, exportXls:true } },
  pro:   { label:'ÌîÑÎ°ú(Pro)', icon:'‚≠ê', price:19000, monthly:19000, color:'#f59e0b',
    features:{ timeline:true, regulations:true, calculator:true, analyzer:999, pledge:true, checklist:true, profile:true, staffLimit:5, online:false, roleManage:false, exportXls:false } },
  team:  { label:'ÌåÄ(Team)', icon:'üè¢', price:39000, monthly:39000, color:'#7c3aed',
    features:{ timeline:true, regulations:true, calculator:true, analyzer:999, pledge:true, checklist:true, profile:true, staffLimit:999, online:true, roleManage:true, exportXls:true } }
};

// ÏÑ§ÏπòÏùº(ÏµúÏ¥à Ï†ëÏÜçÏùº) Í∏∞Î°ù
function getInstallDate() {
  let d = localStorage.getItem('_installDate');
  if (!d) { d = new Date().toISOString(); localStorage.setItem('_installDate', d); }
  return new Date(d);
}

// Ï≤¥Ìóò ÏûîÏó¨Ïùº Í≥ÑÏÇ∞
function getTrialRemaining() {
  const install = getInstallDate();
  const now = new Date();
  const elapsed = Math.floor((now - install) / (1000 * 60 * 60 * 24));
  return Math.max(0, TRIAL_DAYS - elapsed);
}

function isTrialActive() {
  return getTrialRemaining() > 0;
}

function getUserPlan() {
  if (!currentUser) return isTrialActive() ? 'trial' : 'free';
  const plan = currentUser.plan || 'free';
  // Ïú†Î£å ÌîåÎûúÏù¥ ÏïÑÎãàÎ©¥ Ï≤¥Ìóò Í∏∞Í∞Ñ ÌôïÏù∏
  if (plan === 'free' || plan === 'trial') {
    return isTrialActive() ? 'trial' : 'free';
  }
  return plan;
}

function getPlanFeatures() {
  return planConfig[getUserPlan()].features;
}

function canAccessFeature(feature) {
  const f = getPlanFeatures();
  return !!f[feature];
}

function getAnalyzerUsage() {
  if (!currentUser) return { used:0, limit:3 };
  const today = new Date().toISOString().slice(0,10);
  const usage = JSON.parse(localStorage.getItem('analyzerUsage') || '{}');
  const key = (currentUser.email || 'anon') + '_' + today;
  return { used: usage[key] || 0, limit: getPlanFeatures().analyzer };
}

function recordAnalyzerUsage() {
  if (!currentUser) return;
  const today = new Date().toISOString().slice(0,10);
  const usage = JSON.parse(localStorage.getItem('analyzerUsage') || '{}');
  const key = currentUser.email + '_' + today;
  usage[key] = (usage[key] || 0) + 1;
  localStorage.setItem('analyzerUsage', JSON.stringify(usage));
}

function selectPlan(planKey) {
  if (planKey === 'free') {
    if (getUserPlan() === 'free') return;
    if (!confirm('Î¨¥Î£å ÌîåÎûúÏúºÎ°ú Î≥ÄÍ≤ΩÌïòÏãúÍ≤†ÏäµÎãàÍπå? Ïú†Î£å Í∏∞Îä•Ïù¥ Ï†úÌïúÎê©ÎãàÎã§.')) return;
    savePlan('free');
    return;
  }
  if (!currentUser) {
    alert('ÏöîÍ∏àÏ†úÎ•º ÏÑ†ÌÉùÌïòÎ†§Î©¥ Î®ºÏ†Ä Î°úÍ∑∏Ïù∏Ìï¥ Ï£ºÏÑ∏Ïöî.');
    showPage('login');
    return;
  }
  const plan = planConfig[planKey];
  document.getElementById('paymentSection').style.display = 'block';
  document.getElementById('paymentSummary').innerHTML = `
    <div class="ps-row"><span>${plan.icon} ${plan.label}</span><span>Ïõî Íµ¨ÎèÖ</span></div>
    <div class="ps-row"><span>Ïõî Ïù¥Ïö©Î£å</span><span>‚Ç©${plan.monthly.toLocaleString()}</span></div>
    <div class="ps-row"><span>Î∂ÄÍ∞ÄÏÑ∏ (10%)</span><span>‚Ç©${Math.round(plan.monthly*0.1).toLocaleString()}</span></div>
    <div class="ps-row ps-total"><span>Ìï©Í≥Ñ</span><span>‚Ç©${Math.round(plan.monthly*1.1).toLocaleString()}/Ïõî</span></div>
  `;
  document.getElementById('payBtn').textContent = `‚Ç©${Math.round(plan.monthly*1.1).toLocaleString()} Í≤∞Ï†úÌïòÍ∏∞`;
  document.getElementById('payBtn').dataset.plan = planKey;
  document.getElementById('paymentSection').scrollIntoView({ behavior:'smooth' });
}

function formatCardNum(el) {
  let v = el.value.replace(/[^0-9]/g, '');
  v = v.match(/.{1,4}/g)?.join('-') || v;
  el.value = v.slice(0,19);
}

function formatExpiry(el) {
  let v = el.value.replace(/[^0-9]/g, '');
  if (v.length > 2) v = v.slice(0,2) + '/' + v.slice(2,4);
  el.value = v;
}

function selectPayMethod(btn, method) {
  document.querySelectorAll('.pay-method').forEach(b => { b.classList.remove('active'); b.style.background = ''; b.style.color = ''; });
  btn.classList.add('active');
  btn.style.background = 'var(--primary)';
  btn.style.color = 'white';
}

function toggleFaq(el) {
  const wasOpen = el.classList.contains('open');
  el.closest('.pay-faq-list').querySelectorAll('.pay-faq-item').forEach(item => item.classList.remove('open'));
  if (!wasOpen) el.classList.add('open');
}

function processPayment() {
  const planKey = document.getElementById('payBtn').dataset.plan;
  const cardNum = document.getElementById('payCardNum').value.trim();
  const expiry = document.getElementById('payExpiry').value.trim();
  const cvc = document.getElementById('payCvc').value.trim();
  const name = document.getElementById('payCardName').value.trim();
  const terms = document.getElementById('payTerms').checked;

  if (!cardNum || cardNum.replace(/[^0-9]/g,'').length < 16) return showAuthMsg('payMsg', 'Ïò¨Î∞îÎ•∏ Ïπ¥Îìú Î≤àÌò∏Î•º ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî.', 'error');
  if (!expiry || expiry.length < 5) return showAuthMsg('payMsg', 'Ïú†Ìö®Í∏∞Í∞ÑÏùÑ ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî.', 'error');
  if (!cvc || cvc.length < 3) return showAuthMsg('payMsg', 'CVCÎ•º ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî.', 'error');
  if (!name) return showAuthMsg('payMsg', 'Ïπ¥Îìú ÏÜåÏú†ÏûêÎ™ÖÏùÑ ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî.', 'error');
  if (!terms) return showAuthMsg('payMsg', 'Í≤∞Ï†ú ÏïΩÍ¥ÄÏóê ÎèôÏùòÌï¥ Ï£ºÏÑ∏Ïöî.', 'error');

  // Í≤∞Ï†ú ÏãúÎÆ¨Î†àÏù¥ÏÖò
  document.getElementById('payBtn').disabled = true;
  document.getElementById('payBtn').textContent = 'Í≤∞Ï†ú Ï≤òÎ¶¨ Ï§ë...';

  setTimeout(() => {
    savePlan(planKey);
    const plan = planConfig[planKey];
    showAuthMsg('payMsg', `‚úÖ ${plan.icon} ${plan.label} Í≤∞Ï†úÍ∞Ä ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§! Î™®Îì† Í∏∞Îä•ÏùÑ Ïù¥Ïö©ÌïòÏã§ Ïàò ÏûàÏäµÎãàÎã§.`, 'success');
    document.getElementById('payBtn').disabled = false;
    document.getElementById('payBtn').textContent = 'Í≤∞Ï†ú ÏôÑÎ£å';
    renderPricingPage();
    // Í≤∞Ï†ú Ï†ïÎ≥¥ Ï¥àÍ∏∞Ìôî
    document.getElementById('payCardNum').value = '';
    document.getElementById('payExpiry').value = '';
    document.getElementById('payCvc').value = '';
  }, 1500);
}

function savePlan(planKey) {
  if (!currentUser) return;
  currentUser.plan = planKey;
  currentUser.planStart = new Date().toISOString();
  const users = JSON.parse(localStorage.getItem('authUsers') || '{}');
  users[currentUser.email] = currentUser;
  localStorage.setItem('authUsers', JSON.stringify(users));
  updateUserBar();
  applyPlanAccess();
  addAdminLog('plan', 'üíé', `<strong>${currentUser.name}</strong>Îãò ÏöîÍ∏àÏ†ú Î≥ÄÍ≤Ω ‚Üí <strong>${(planConfig[planKey]||{}).label||planKey}</strong>`);
  renderPricingPage();
}

function renderPricingPage() {
  const plan = getUserPlan();
  const pc = planConfig[plan];
  const trialLeft = getTrialRemaining();
  const expDate = currentUser && currentUser.planStart
    ? new Date(new Date(currentUser.planStart).getTime() + 30*24*60*60*1000).toLocaleDateString('ko-KR')
    : '-';

  // Ï≤¥Ìóò Î∞∞ÎÑà
  const trialBanner = document.getElementById('trialBanner');
  if (trialBanner) {
    if (trialLeft > 0) {
      trialBanner.innerHTML = `
        <div style="background:linear-gradient(135deg,#d1fae5,#a7f3d0);border:2px solid #10b981;border-radius:var(--radius);padding:20px;text-align:center;margin-bottom:20px;">
          <div style="font-size:28px;margin-bottom:6px;">üéÅ</div>
          <div style="font-size:18px;font-weight:800;color:#065f46;">Î¨¥Î£å Ï≤¥Ìóò Í∏∞Í∞Ñ ¬∑ ÏûîÏó¨ <span style="color:#10b981;font-size:22px;">${trialLeft}Ïùº</span></div>
          <div style="font-size:13px;color:#047857;margin-top:6px;">Î™®Îì† ÌîÑÎ¶¨ÎØ∏ÏóÑ Í∏∞Îä•ÏùÑ Î¨¥Î£åÎ°ú Ïù¥Ïö© Ï§ëÏûÖÎãàÎã§. Ï≤¥Ìóò Ï¢ÖÎ£å ÌõÑ Ïú†Î£å ÏöîÍ∏àÏ†úÎ•º ÏÑ†ÌÉùÌï¥ Ï£ºÏÑ∏Ïöî.</div>
        </div>`;
    } else {
      trialBanner.innerHTML = `
        <div style="background:linear-gradient(135deg,#fef2f2,#fecaca);border:2px solid #ef4444;border-radius:var(--radius);padding:20px;text-align:center;margin-bottom:20px;">
          <div style="font-size:28px;margin-bottom:6px;">‚è∞</div>
          <div style="font-size:18px;font-weight:800;color:#991b1b;">Î¨¥Î£å Ï≤¥Ìóò Í∏∞Í∞ÑÏù¥ Ï¢ÖÎ£åÎêòÏóàÏäµÎãàÎã§</div>
          <div style="font-size:13px;color:#b91c1c;margin-top:6px;">Í≥ÑÏÜç ÏÇ¨Ïö©ÌïòÏãúÎ†§Î©¥ ÏïÑÎûòÏóêÏÑú ÏöîÍ∏àÏ†úÎ•º ÏÑ†ÌÉùÌï¥ Ï£ºÏÑ∏Ïöî. Í∏∞Î≥∏ Í∏∞Îä•(ÌÉÄÏûÑÎùºÏù∏¬∑Í∑úÏ†ï¬∑Í≥ÑÏÇ∞Í∏∞)ÏùÄ Í≥ÑÏÜç Î¨¥Î£åÏûÖÎãàÎã§.</div>
        </div>`;
    }
  }

  const box = document.getElementById('currentPlanBox');
  if (currentUser) {
    if (plan === 'trial') {
      box.innerHTML = `
        <div style="font-size:13px;color:var(--gray-500);">ÌòÑÏû¨ Ïù¥Ïö© Ï§ëÏù∏ ÌîåÎûú</div>
        <div class="cp-plan">üéÅ Î¨¥Î£å Ï≤¥Ìóò (ÏûîÏó¨ ${trialLeft}Ïùº)</div>
        <div class="cp-exp">Ï≤¥Ìóò Í∏∞Í∞Ñ ÎèôÏïà Î™®Îì† ÌîÑÎ¶¨ÎØ∏ÏóÑ Í∏∞Îä•ÏùÑ Î¨¥Î£åÎ°ú Ïù¥Ïö©Ìï† Ïàò ÏûàÏäµÎãàÎã§</div>
      `;
    } else {
      box.innerHTML = `
        <div style="font-size:13px;color:var(--gray-500);">ÌòÑÏû¨ Ïù¥Ïö© Ï§ëÏù∏ ÌîåÎûú</div>
        <div class="cp-plan">${pc.icon} ${pc.label}</div>
        ${plan !== 'free' && plan !== 'trial' ? `<div class="cp-exp">Îã§Ïùå Í≤∞Ï†úÏùº: ${expDate} ¬∑ <a style="color:var(--danger);cursor:pointer;" onclick="cancelPlan()">Ìï¥ÏßÄÌïòÍ∏∞</a></div>` : '<div class="cp-exp">Ïú†Î£å ÌîåÎûúÏúºÎ°ú ÏóÖÍ∑∏Î†àÏù¥ÎìúÌïòÏó¨ Î™®Îì† Í∏∞Îä•ÏùÑ Ïù¥Ïö©ÌïòÏÑ∏Ïöî</div>'}
      `;
    }
  } else {
    if (trialLeft > 0) {
      box.innerHTML = `<div class="cp-plan">üéÅ Î¨¥Î£å Ï≤¥Ìóò Ï§ë (ÏûîÏó¨ ${trialLeft}Ïùº)</div><div class="cp-exp">Î°úÍ∑∏Ïù∏ÌïòÏãúÎ©¥ Ï≤¥Ìóò Í∏∞Îä•ÏùÑ ÎçîÏö± Ìé∏Î¶¨ÌïòÍ≤å Ïù¥Ïö©Ìï† Ïàò ÏûàÏäµÎãàÎã§</div>`;
    } else {
      box.innerHTML = '<div class="cp-plan">üÜì Î¨¥Î£å(Free)</div><div class="cp-exp">Î°úÍ∑∏Ïù∏ ÌõÑ ÏöîÍ∏àÏ†úÎ•º ÏÑ†ÌÉùÌï¥ Ï£ºÏÑ∏Ïöî</div>';
    }
  }

  // Î≤ÑÌäº ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏
  document.getElementById('btnPlanFree').textContent = (plan === 'free' || plan === 'trial') ? 'ÌòÑÏû¨ ÌîåÎûú' : 'Î¨¥Î£åÎ°ú Î≥ÄÍ≤Ω';
  document.getElementById('btnPlanPro').textContent = plan === 'pro' ? '‚úÖ ÌòÑÏû¨ ÌîåÎûú' : 'ÌîÑÎ°ú ÏãúÏûëÌïòÍ∏∞';
  document.getElementById('btnPlanTeam').textContent = plan === 'team' ? '‚úÖ ÌòÑÏû¨ ÌîåÎûú' : 'ÌåÄ ÏãúÏûëÌïòÍ∏∞';
}

function cancelPlan() {
  if (!currentUser) return;
  if (!confirm('Ï†ïÎßê Ïú†Î£å ÌîåÎûúÏùÑ Ìï¥ÏßÄÌïòÏãúÍ≤†ÏäµÎãàÍπå?\nÌòÑÏû¨ Í≤∞Ï†ú Í∏∞Í∞ÑÏù¥ ÎÅùÎÇ† ÎïåÍπåÏßÄÎäî Ïú†Î£å Í∏∞Îä•ÏùÑ ÏÇ¨Ïö©Ìï† Ïàò ÏûàÏäµÎãàÎã§.')) return;
  savePlan('free');
  alert('Ìï¥ÏßÄÍ∞Ä ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§. Î¨¥Î£å ÌîåÎûúÏúºÎ°ú Ï†ÑÌôòÎê©ÎãàÎã§.');
}

// ÏöîÍ∏àÏ†úÏóê Îî∞Î•∏ ÌéòÏù¥ÏßÄ Ï†ëÍ∑º Ï†úÌïú
function applyPlanAccess() {
  const plan = getUserPlan();
  const f = planConfig[plan].features;

  // ÎÑ§ÎπÑÍ≤åÏù¥ÏÖòÏóê Ïû†Í∏à ÌëúÏãú
  document.querySelectorAll('.nav-link[data-page]').forEach(btn => {
    const page = btn.dataset.page;
    // Î¨¥Î£åÏóêÏÑú Ïû†Í∏¥ Í∏∞Îä•
    const proPages = ['pledge','checklist','profile'];
    if (proPages.includes(page) && !f[page === 'profile' ? 'profile' : page]) {
      if (!btn.querySelector('.plan-badge-pro')) {
        btn.innerHTML = btn.textContent + ' <span class="plan-badge-pro">PRO</span>';
      }
    } else {
      // PRO Î±ÉÏßÄ Ï†úÍ±∞
      const badge = btn.querySelector('.plan-badge-pro');
      if (badge) badge.remove();
    }
  });
}

function checkPlanAccess(page) {
  const plan = getUserPlan();
  const f = planConfig[plan].features;
  const restricted = { pledge:'pledge', checklist:'checklist', profile:'profile' };
  if (restricted[page] && !f[restricted[page]]) {
    return false;
  }
  return true;
}

function showUpgradeBanner(feature) {
  const trialLeft = getTrialRemaining();
  if (trialLeft > 0) {
    return `<div class="upgrade-banner" style="background:linear-gradient(135deg,#d1fae5,#a7f3d0);border-color:#10b981;">
      <span class="ub-text" style="color:#065f46;">üéÅ Î¨¥Î£å Ï≤¥Ìóò Í∏∞Í∞ÑÏù¥ Ï¢ÖÎ£åÎêòÎ©¥ Ïù¥ Í∏∞Îä•ÏùÄ Ïú†Î£å ÏöîÍ∏àÏ†úÏóêÏÑú ÏÇ¨Ïö© Í∞ÄÎä•Ìï©ÎãàÎã§. (ÏûîÏó¨ ${trialLeft}Ïùº)</span>
      <button class="ub-btn" style="background:#10b981;" onclick="showPage('pricing')">üíé ÏöîÍ∏àÏ†ú Î≥¥Í∏∞</button>
    </div>`;
  }
  return `<div class="upgrade-banner">
    <span class="ub-text">üîí Î¨¥Î£å Ï≤¥ÌóòÏù¥ Ï¢ÖÎ£åÎêòÏóàÏäµÎãàÎã§. <span class="plan-badge-pro">PRO</span> Ïù¥ÏÉÅ ÏöîÍ∏àÏ†úÏóêÏÑú ÏÇ¨Ïö© Í∞ÄÎä•Ìï©ÎãàÎã§.</span>
    <button class="ub-btn" onclick="showPage('pricing')">üíé ÏóÖÍ∑∏Î†àÏù¥ÎìúÌïòÍ∏∞</button>
  </div>`;
}

// ========== DISTRICT DATA ==========
const sidoData = {
  'ÏÑúÏö∏ÌäπÎ≥ÑÏãú': ['Í∞ïÎÇ®Íµ¨','Í∞ïÎèôÍµ¨','Í∞ïÎ∂ÅÍµ¨','Í∞ïÏÑúÍµ¨','Í¥ÄÏïÖÍµ¨','Í¥ëÏßÑÍµ¨','Íµ¨Î°úÍµ¨','Í∏àÏ≤úÍµ¨','ÎÖ∏ÏõêÍµ¨','ÎèÑÎ¥âÍµ¨','ÎèôÎåÄÎ¨∏Íµ¨','ÎèôÏûëÍµ¨','ÎßàÌè¨Íµ¨','ÏÑúÎåÄÎ¨∏Íµ¨','ÏÑúÏ¥àÍµ¨','ÏÑ±ÎèôÍµ¨','ÏÑ±Î∂ÅÍµ¨','ÏÜ°ÌååÍµ¨','ÏñëÏ≤úÍµ¨','ÏòÅÎì±Ìè¨Íµ¨','Ïö©ÏÇ∞Íµ¨','ÏùÄÌèâÍµ¨','Ï¢ÖÎ°úÍµ¨','Ï§ëÍµ¨','Ï§ëÎûëÍµ¨'],
  'Î∂ÄÏÇ∞Í¥ëÏó≠Ïãú': ['Í∞ïÏÑúÍµ¨','Í∏àÏ†ïÍµ¨','Í∏∞Ïû•Íµ∞','ÎÇ®Íµ¨','ÎèôÍµ¨','ÎèôÎûòÍµ¨','Î∂ÄÏÇ∞ÏßÑÍµ¨','Î∂ÅÍµ¨','ÏÇ¨ÏÉÅÍµ¨','ÏÇ¨ÌïòÍµ¨','ÏÑúÍµ¨','ÏàòÏòÅÍµ¨','Ïó∞Ï†úÍµ¨','ÏòÅÎèÑÍµ¨','Ï§ëÍµ¨','Ìï¥Ïö¥ÎåÄÍµ¨'],
  'ÎåÄÍµ¨Í¥ëÏó≠Ïãú': ['ÎÇ®Íµ¨','Îã¨ÏÑúÍµ¨','Îã¨ÏÑ±Íµ∞','ÎèôÍµ¨','Î∂ÅÍµ¨','ÏÑúÍµ¨','ÏàòÏÑ±Íµ¨','Ï§ëÍµ¨'],
  'Ïù∏Ï≤úÍ¥ëÏó≠Ïãú': ['Í∞ïÌôîÍµ∞','Í≥ÑÏñëÍµ¨','ÎØ∏Ï∂îÌôÄÍµ¨','ÎÇ®ÎèôÍµ¨','ÎèôÍµ¨','Î∂ÄÌèâÍµ¨','ÏÑúÍµ¨','Ïó∞ÏàòÍµ¨','ÏòπÏßÑÍµ∞','Ï§ëÍµ¨'],
  'Í¥ëÏ£ºÍ¥ëÏó≠Ïãú': ['Í¥ëÏÇ∞Íµ¨','ÎÇ®Íµ¨','ÎèôÍµ¨','Î∂ÅÍµ¨','ÏÑúÍµ¨'],
  'ÎåÄÏ†ÑÍ¥ëÏó≠Ïãú': ['ÎåÄÎçïÍµ¨','ÎèôÍµ¨','ÏÑúÍµ¨','Ïú†ÏÑ±Íµ¨','Ï§ëÍµ¨'],
  'Ïö∏ÏÇ∞Í¥ëÏó≠Ïãú': ['ÎÇ®Íµ¨','ÎèôÍµ¨','Î∂ÅÍµ¨','Ïö∏Ï£ºÍµ∞','Ï§ëÍµ¨'],
  'ÏÑ∏Ï¢ÖÌäπÎ≥ÑÏûêÏπòÏãú': ['ÏÑ∏Ï¢ÖÏãú'],
  'Í≤ΩÍ∏∞ÎèÑ': ['Í∞ÄÌèâÍµ∞','Í≥†ÏñëÏãú','Í≥ºÏ≤úÏãú','Í¥ëÎ™ÖÏãú','Í¥ëÏ£ºÏãú','Íµ¨Î¶¨Ïãú','Íµ∞Ìè¨Ïãú','ÍπÄÌè¨Ïãú','ÎÇ®ÏñëÏ£ºÏãú','ÎèôÎëêÏ≤úÏãú','Î∂ÄÏ≤úÏãú','ÏÑ±ÎÇ®Ïãú','ÏàòÏõêÏãú','ÏãúÌù•Ïãú','ÏïàÏÇ∞Ïãú','ÏïàÏÑ±Ïãú','ÏïàÏñëÏãú','ÏñëÏ£ºÏãú','ÏñëÌèâÍµ∞','Ïó¨Ï£ºÏãú','Ïó∞Ï≤úÍµ∞','Ïò§ÏÇ∞Ïãú','Ïö©Ïù∏Ïãú','ÏùòÏôïÏãú','ÏùòÏ†ïÎ∂ÄÏãú','Ïù¥Ï≤úÏãú','ÌååÏ£ºÏãú','ÌèâÌÉùÏãú','Ìè¨Ï≤úÏãú','ÌïòÎÇ®Ïãú','ÌôîÏÑ±Ïãú'],
  'Í∞ïÏõêÌäπÎ≥ÑÏûêÏπòÎèÑ': ['Í∞ïÎ¶âÏãú','Í≥†ÏÑ±Íµ∞','ÎèôÌï¥Ïãú','ÏÇºÏ≤ôÏãú','ÏÜçÏ¥àÏãú','ÏñëÍµ¨Íµ∞','ÏñëÏñëÍµ∞','ÏòÅÏõîÍµ∞','ÏõêÏ£ºÏãú','Ïù∏Ï†úÍµ∞','Ï†ïÏÑ†Íµ∞','Ï≤†ÏõêÍµ∞','Ï∂òÏ≤úÏãú','ÌÉúÎ∞±Ïãú','ÌèâÏ∞ΩÍµ∞','ÌôçÏ≤úÍµ∞','ÌôîÏ≤úÍµ∞','Ìö°ÏÑ±Íµ∞'],
  'Ï∂©Ï≤≠Î∂ÅÎèÑ': ['Í¥¥ÏÇ∞Íµ∞','Îã®ÏñëÍµ∞','Î≥¥ÏùÄÍµ∞','ÏòÅÎèôÍµ∞','Ïò•Ï≤úÍµ∞','ÏùåÏÑ±Íµ∞','Ï†úÏ≤úÏãú','Ï¶ùÌèâÍµ∞','ÏßÑÏ≤úÍµ∞','Ï≤≠Ï£ºÏãú','Ï∂©Ï£ºÏãú'],
  'Ï∂©Ï≤≠ÎÇ®ÎèÑ': ['Í≥ÑÎ£°Ïãú','Í≥µÏ£ºÏãú','Í∏àÏÇ∞Íµ∞','ÎÖºÏÇ∞Ïãú','ÎãπÏßÑÏãú','Î≥¥Î†πÏãú','Î∂ÄÏó¨Íµ∞','ÏÑúÏÇ∞Ïãú','ÏÑúÏ≤úÍµ∞','ÏïÑÏÇ∞Ïãú','ÏòàÏÇ∞Íµ∞','Ï≤úÏïàÏãú','Ï≤≠ÏñëÍµ∞','ÌÉúÏïàÍµ∞','ÌôçÏÑ±Íµ∞'],
  'Ï†ÑÎ∂ÅÌäπÎ≥ÑÏûêÏπòÎèÑ': ['Í≥†Ï∞ΩÍµ∞','Íµ∞ÏÇ∞Ïãú','ÍπÄÏ†úÏãú','ÎÇ®ÏõêÏãú','Î¨¥Ï£ºÍµ∞','Î∂ÄÏïàÍµ∞','ÏàúÏ∞ΩÍµ∞','ÏôÑÏ£ºÍµ∞','ÏùµÏÇ∞Ïãú','ÏûÑÏã§Íµ∞','Ïû•ÏàòÍµ∞','Ï†ÑÏ£ºÏãú','Ï†ïÏùçÏãú','ÏßÑÏïàÍµ∞'],
  'Ï†ÑÎùºÎÇ®ÎèÑ': ['Í∞ïÏßÑÍµ∞','Í≥†Ìù•Íµ∞','Í≥°ÏÑ±Íµ∞','Í¥ëÏñëÏãú','Íµ¨Î°ÄÍµ∞','ÎÇòÏ£ºÏãú','Îã¥ÏñëÍµ∞','Î™©Ìè¨Ïãú','Î¨¥ÏïàÍµ∞','Î≥¥ÏÑ±Íµ∞','ÏàúÏ≤úÏãú','Ïã†ÏïàÍµ∞','Ïó¨ÏàòÏãú','ÏòÅÍ¥ëÍµ∞','ÏòÅÏïîÍµ∞','ÏôÑÎèÑÍµ∞','Ïû•ÏÑ±Íµ∞','Ïû•Ìù•Íµ∞','ÏßÑÎèÑÍµ∞','Ìï®ÌèâÍµ∞','Ìï¥ÎÇ®Íµ∞','ÌôîÏàúÍµ∞'],
  'Í≤ΩÏÉÅÎ∂ÅÎèÑ': ['Í≤ΩÏÇ∞Ïãú','Í≤ΩÏ£ºÏãú','Í≥†Î†πÍµ∞','Íµ¨ÎØ∏Ïãú','Íµ∞ÏúÑÍµ∞','ÍπÄÏ≤úÏãú','Î¨∏Í≤ΩÏãú','Î¥âÌôîÍµ∞','ÏÉÅÏ£ºÏãú','ÏÑ±Ï£ºÍµ∞','ÏïàÎèôÏãú','ÏòÅÎçïÍµ∞','ÏòÅÏñëÍµ∞','ÏòÅÏ£ºÏãú','ÏòÅÏ≤úÏãú','ÏòàÏ≤úÍµ∞','Ïö∏Î¶âÍµ∞','Ïö∏ÏßÑÍµ∞','ÏùòÏÑ±Íµ∞','Ï≤≠ÎèÑÍµ∞','Ï≤≠ÏÜ°Íµ∞','Ïπ†Í≥°Íµ∞','Ìè¨Ìï≠Ïãú'],
  'Í≤ΩÏÉÅÎÇ®ÎèÑ': ['Í±∞Ï†úÏãú','Í±∞Ï∞ΩÍµ∞','Í≥†ÏÑ±Íµ∞','ÍπÄÌï¥Ïãú','ÎÇ®Ìï¥Íµ∞','Î∞ÄÏñëÏãú','ÏÇ¨Ï≤úÏãú','ÏÇ∞Ï≤≠Íµ∞','ÏñëÏÇ∞Ïãú','ÏùòÎ†πÍµ∞','ÏßÑÏ£ºÏãú','Ï∞ΩÎÖïÍµ∞','Ï∞ΩÏõêÏãú','ÌÜµÏòÅÏãú','ÌïòÎèôÍµ∞','Ìï®ÏïàÍµ∞','Ìï®ÏñëÍµ∞','Ìï©Ï≤úÍµ∞'],
  'Ï†úÏ£ºÌäπÎ≥ÑÏûêÏπòÎèÑ': ['Ï†úÏ£ºÏãú','ÏÑúÍ∑ÄÌè¨Ïãú']
};

function initSido() {
  const sel = document.getElementById('profileSido');
  sel.innerHTML = '<option value="">-- Ïãú¬∑ÎèÑ ÏÑ†ÌÉù --</option>';
  Object.keys(sidoData).forEach(sido => {
    sel.innerHTML += `<option value="${sido}">${sido}</option>`;
  });
}

function onSidoChange() {
  const sido = document.getElementById('profileSido').value;
  const sel = document.getElementById('profileSigungu');
  sel.innerHTML = '<option value="">-- Ïãú¬∑Íµ∞¬∑Íµ¨ ÏÑ†ÌÉù --</option>';
  if (sido && sidoData[sido]) {
    sidoData[sido].forEach(sg => {
      sel.innerHTML += `<option value="${sg}">${sg}</option>`;
    });
  }
  document.getElementById('profileDistrict').innerHTML = '<option value="">-- ÏÑ†Í±∞Íµ¨ ÏÑ†ÌÉù(ÏÑ†ÌÉùÏÇ¨Ìï≠) --</option>';
  // Ïãú¬∑ÎèÑ Î≥ÄÍ≤Ω Ïãú Ïù∏Íµ¨¬∑ÏùçÎ©¥Îèô Ï¥àÍ∏∞Ìôî
  document.getElementById('profilePopulation').value = '';
  document.getElementById('profileEMD').value = '';
  const popNote = document.getElementById('popAutoNote');
  const emdNote = document.getElementById('emdAutoNote');
  if (popNote) popNote.style.display = 'none';
  if (emdNote) emdNote.style.display = 'none';
  onProfileChange();
}

// ÏÑ†Í±∞Íµ¨ Îç∞Ïù¥ÌÑ∞: ÏÑ†Í±∞Ïú†ÌòïÎ≥Ñ Ïã§Ï†ú ÏÑ†Í±∞Íµ¨ (22ÎåÄ Ï¥ùÏÑ† / 8Ìöå ÏßÄÎ∞©ÏÑ†Í±∞ Í∏∞Ï§Ä)
// key: 'ÏãúÎèÑ|ÏãúÍµ∞Íµ¨', value: { assembly: [Íµ≠ÌöåÏùòÏõê ÏÑ†Í±∞Íµ¨], basic: Í∏∞Ï¥àÏùòÏõê ÏÑ†Í±∞Íµ¨ Ïàò, metro: Í¥ëÏó≠ÏùòÏõê ÏÑ†Í±∞Íµ¨ Ïàò }
const districtInfo = {
  // ===== ÏÑúÏö∏ÌäπÎ≥ÑÏãú ===== (2024 ÌñâÏ†ïÏïàÏ†ÑÎ∂Ä Ï£ºÎØºÎì±Î°ù Ïù∏Íµ¨ÌÜµÍ≥Ñ, ÌñâÏ†ïÎèô Í∏∞Ï§Ä)
  'ÏÑúÏö∏ÌäπÎ≥ÑÏãú|Í∞ïÎÇ®Íµ¨': { assembly:['Í∞ïÎÇ®Íµ¨Í∞ë','Í∞ïÎÇ®Íµ¨ÏùÑ','Í∞ïÎÇ®Íµ¨Î≥ë'], basic:8, metro:5, pop:549154, emd:22 },
  'ÏÑúÏö∏ÌäπÎ≥ÑÏãú|Í∞ïÎèôÍµ¨': { assembly:['Í∞ïÎèôÍµ¨Í∞ë','Í∞ïÎèôÍµ¨ÏùÑ'], basic:6, metro:3, pop:440537, emd:14 },
  'ÏÑúÏö∏ÌäπÎ≥ÑÏãú|Í∞ïÎ∂ÅÍµ¨': { assembly:['Í∞ïÎ∂ÅÍµ¨Í∞ë','Í∞ïÎ∂ÅÍµ¨ÏùÑ'], basic:4, metro:2, pop:285635, emd:13 },
  'ÏÑúÏö∏ÌäπÎ≥ÑÏãú|Í∞ïÏÑúÍµ¨': { assembly:['Í∞ïÏÑúÍµ¨Í∞ë','Í∞ïÏÑúÍµ¨ÏùÑ'], basic:8, metro:4, pop:562550, emd:20 },
  'ÏÑúÏö∏ÌäπÎ≥ÑÏãú|Í¥ÄÏïÖÍµ¨': { assembly:['Í¥ÄÏïÖÍµ¨Í∞ë','Í¥ÄÏïÖÍµ¨ÏùÑ'], basic:6, metro:3, pop:496233, emd:21 },
  'ÏÑúÏö∏ÌäπÎ≥ÑÏãú|Í¥ëÏßÑÍµ¨': { assembly:['Í¥ëÏßÑÍµ¨Í∞ë','Í¥ëÏßÑÍµ¨ÏùÑ'], basic:5, metro:2, pop:371961, emd:15 },
  'ÏÑúÏö∏ÌäπÎ≥ÑÏãú|Íµ¨Î°úÍµ¨': { assembly:['Íµ¨Î°úÍµ¨Í∞ë','Íµ¨Î°úÍµ¨ÏùÑ'], basic:5, metro:3, pop:422347, emd:15 },
  'ÏÑúÏö∏ÌäπÎ≥ÑÏãú|Í∏àÏ≤úÍµ¨': { assembly:['Í∏àÏ≤úÍµ¨'], basic:3, metro:2, pop:247891, emd:10 },
  'ÏÑúÏö∏ÌäπÎ≥ÑÏãú|ÎÖ∏ÏõêÍµ¨': { assembly:['ÎÖ∏ÏõêÍµ¨Í∞ë','ÎÖ∏ÏõêÍµ¨ÏùÑ'], basic:7, metro:4, pop:490230, emd:19 },
  'ÏÑúÏö∏ÌäπÎ≥ÑÏãú|ÎèÑÎ¥âÍµ¨': { assembly:['ÎèÑÎ¥âÍµ¨Í∞ë','ÎèÑÎ¥âÍµ¨ÏùÑ'], basic:4, metro:2, pop:306547, emd:14 },
  'ÏÑúÏö∏ÌäπÎ≥ÑÏãú|ÎèôÎåÄÎ¨∏Íµ¨': { assembly:['ÎèôÎåÄÎ¨∏Íµ¨Í∞ë','ÎèôÎåÄÎ¨∏Íµ¨ÏùÑ'], basic:5, metro:2, pop:353681, emd:14 },
  'ÏÑúÏö∏ÌäπÎ≥ÑÏãú|ÎèôÏûëÍµ¨': { assembly:['ÎèôÏûëÍµ¨Í∞ë','ÎèôÏûëÍµ¨ÏùÑ'], basic:5, metro:2, pop:385920, emd:15 },
  'ÏÑúÏö∏ÌäπÎ≥ÑÏãú|ÎßàÌè¨Íµ¨': { assembly:['ÎßàÌè¨Íµ¨Í∞ë','ÎßàÌè¨Íµ¨ÏùÑ'], basic:6, metro:3, pop:373421, emd:16 },
  'ÏÑúÏö∏ÌäπÎ≥ÑÏãú|ÏÑúÎåÄÎ¨∏Íµ¨': { assembly:['ÏÑúÎåÄÎ¨∏Íµ¨Í∞ë','ÏÑúÎåÄÎ¨∏Íµ¨ÏùÑ'], basic:4, metro:2, pop:314826, emd:14 },
  'ÏÑúÏö∏ÌäπÎ≥ÑÏãú|ÏÑúÏ¥àÍµ¨': { assembly:['ÏÑúÏ¥àÍµ¨Í∞ë','ÏÑúÏ¥àÍµ¨ÏùÑ'], basic:5, metro:3, pop:415128, emd:18 },
  'ÏÑúÏö∏ÌäπÎ≥ÑÏãú|ÏÑ±ÎèôÍµ¨': { assembly:['Ï§ëÍµ¨¬∑ÏÑ±ÎèôÍµ¨Í∞ë','Ï§ëÍµ¨¬∑ÏÑ±ÎèôÍµ¨ÏùÑ'], basic:4, metro:2, pop:303241, emd:17 },
  'ÏÑúÏö∏ÌäπÎ≥ÑÏãú|ÏÑ±Î∂ÅÍµ¨': { assembly:['ÏÑ±Î∂ÅÍµ¨Í∞ë','ÏÑ±Î∂ÅÍµ¨ÏùÑ'], basic:6, metro:3, pop:428356, emd:20 },
  'ÏÑúÏö∏ÌäπÎ≥ÑÏãú|ÏÜ°ÌååÍµ¨': { assembly:['ÏÜ°ÌååÍµ¨Í∞ë','ÏÜ°ÌååÍµ¨ÏùÑ','ÏÜ°ÌååÍµ¨Î≥ë'], basic:8, metro:4, pop:653989, emd:27 },
  'ÏÑúÏö∏ÌäπÎ≥ÑÏãú|ÏñëÏ≤úÍµ¨': { assembly:['ÏñëÏ≤úÍµ¨Í∞ë','ÏñëÏ≤úÍµ¨ÏùÑ'], basic:6, metro:3, pop:438156, emd:18 },
  'ÏÑúÏö∏ÌäπÎ≥ÑÏãú|ÏòÅÎì±Ìè¨Íµ¨': { assembly:['ÏòÅÎì±Ìè¨Íµ¨Í∞ë','ÏòÅÎì±Ìè¨Íµ¨ÏùÑ'], basic:5, metro:3, pop:369854, emd:18 },
  'ÏÑúÏö∏ÌäπÎ≥ÑÏãú|Ïö©ÏÇ∞Íµ¨': { assembly:['Ïö©ÏÇ∞Íµ¨'], basic:4, metro:2, pop:222175, emd:16 },
  'ÏÑúÏö∏ÌäπÎ≥ÑÏãú|ÏùÄÌèâÍµ¨': { assembly:['ÏùÄÌèâÍµ¨Í∞ë','ÏùÄÌèâÍµ¨ÏùÑ'], basic:6, metro:3, pop:463642, emd:16 },
  'ÏÑúÏö∏ÌäπÎ≥ÑÏãú|Ï¢ÖÎ°úÍµ¨': { assembly:['Ï¢ÖÎ°úÍµ¨'], basic:3, metro:1, pop:139378, emd:17 },
  'ÏÑúÏö∏ÌäπÎ≥ÑÏãú|Ï§ëÍµ¨': { assembly:['Ï§ëÍµ¨¬∑ÏÑ±ÎèôÍµ¨Í∞ë','Ï§ëÍµ¨¬∑ÏÑ±ÎèôÍµ¨ÏùÑ'], basic:2, metro:1, pop:121322, emd:15 },
  'ÏÑúÏö∏ÌäπÎ≥ÑÏãú|Ï§ëÎûëÍµ¨': { assembly:['Ï§ëÎûëÍµ¨Í∞ë','Ï§ëÎûëÍµ¨ÏùÑ'], basic:5, metro:3, pop:388247, emd:16 },
  // ===== Î∂ÄÏÇ∞Í¥ëÏó≠Ïãú =====
  'Î∂ÄÏÇ∞Í¥ëÏó≠Ïãú|Í∞ïÏÑúÍµ¨': { assembly:['Î∂ÅÍµ¨¬∑Í∞ïÏÑúÍµ¨Í∞ë','Î∂ÅÍµ¨¬∑Í∞ïÏÑúÍµ¨ÏùÑ'], basic:3, metro:2, pop:125890, emd:7 },
  'Î∂ÄÏÇ∞Í¥ëÏó≠Ïãú|Í∏àÏ†ïÍµ¨': { assembly:['Í∏àÏ†ïÍµ¨'], basic:3, metro:2, pop:227456, emd:9 },
  'Î∂ÄÏÇ∞Í¥ëÏó≠Ïãú|Í∏∞Ïû•Íµ∞': { assembly:['Í∏∞Ïû•Íµ∞'], basic:3, metro:2, pop:191238, emd:8 },
  'Î∂ÄÏÇ∞Í¥ëÏó≠Ïãú|ÎÇ®Íµ¨': { assembly:['ÎÇ®Íµ¨'], basic:4, metro:2, pop:251467, emd:8 },
  'Î∂ÄÏÇ∞Í¥ëÏó≠Ïãú|ÎèôÍµ¨': { assembly:['ÏÑúÍµ¨¬∑ÎèôÍµ¨'], basic:2, metro:1, pop:83934, emd:8 },
  'Î∂ÄÏÇ∞Í¥ëÏó≠Ïãú|ÎèôÎûòÍµ¨': { assembly:['ÎèôÎûòÍµ¨'], basic:3, metro:2, pop:259054, emd:8 },
  'Î∂ÄÏÇ∞Í¥ëÏó≠Ïãú|Î∂ÄÏÇ∞ÏßÑÍµ¨': { assembly:['Î∂ÄÏÇ∞ÏßÑÍµ¨Í∞ë','Î∂ÄÏÇ∞ÏßÑÍµ¨ÏùÑ'], basic:5, metro:3, pop:347592, emd:16 },
  'Î∂ÄÏÇ∞Í¥ëÏó≠Ïãú|Î∂ÅÍµ¨': { assembly:['Î∂ÅÍµ¨¬∑Í∞ïÏÑúÍµ¨Í∞ë','Î∂ÅÍµ¨¬∑Í∞ïÏÑúÍµ¨ÏùÑ'], basic:4, metro:2, pop:270234, emd:8 },
  'Î∂ÄÏÇ∞Í¥ëÏó≠Ïãú|ÏÇ¨ÏÉÅÍµ¨': { assembly:['ÏÇ¨ÏÉÅÍµ¨'], basic:3, metro:2, pop:207845, emd:8 },
  'Î∂ÄÏÇ∞Í¥ëÏó≠Ïãú|ÏÇ¨ÌïòÍµ¨': { assembly:['ÏÇ¨ÌïòÍµ¨Í∞ë','ÏÇ¨ÌïòÍµ¨ÏùÑ'], basic:5, metro:2, pop:295678, emd:11 },
  'Î∂ÄÏÇ∞Í¥ëÏó≠Ïãú|ÏÑúÍµ¨': { assembly:['ÏÑúÍµ¨¬∑ÎèôÍµ¨'], basic:2, metro:1, pop:98419, emd:7 },
  'Î∂ÄÏÇ∞Í¥ëÏó≠Ïãú|ÏàòÏòÅÍµ¨': { assembly:['ÏàòÏòÅÍµ¨'], basic:3, metro:1, pop:169543, emd:5 },
  'Î∂ÄÏÇ∞Í¥ëÏó≠Ïãú|Ïó∞Ï†úÍµ¨': { assembly:['Ïó∞Ï†úÍµ¨'], basic:3, metro:2, pop:199876, emd:7 },
  'Î∂ÄÏÇ∞Í¥ëÏó≠Ïãú|ÏòÅÎèÑÍµ¨': { assembly:['Ï§ëÍµ¨¬∑ÏòÅÎèÑÍµ¨'], basic:2, metro:1, pop:108234, emd:7 },
  'Î∂ÄÏÇ∞Í¥ëÏó≠Ïãú|Ï§ëÍµ¨': { assembly:['Ï§ëÍµ¨¬∑ÏòÅÎèÑÍµ¨'], basic:2, metro:1, pop:42567, emd:8 },
  'Î∂ÄÏÇ∞Í¥ëÏó≠Ïãú|Ìï¥Ïö¥ÎåÄÍµ¨': { assembly:['Ìï¥Ïö¥ÎåÄÍµ¨Í∞ë','Ìï¥Ïö¥ÎåÄÍµ¨ÏùÑ'], basic:5, metro:3, pop:409821, emd:12 },
  // ===== Ïù∏Ï≤úÍ¥ëÏó≠Ïãú =====
  'Ïù∏Ï≤úÍ¥ëÏó≠Ïãú|Í∞ïÌôîÍµ∞': { assembly:['Í∞ïÌôî¬∑ÏòπÏßÑ'], basic:3, metro:1, pop:67234, emd:13 },
  'Ïù∏Ï≤úÍ¥ëÏó≠Ïãú|Í≥ÑÏñëÍµ¨': { assembly:['Í≥ÑÏñëÍµ¨Í∞ë','Í≥ÑÏñëÍµ¨ÏùÑ'], basic:4, metro:2, pop:289456, emd:10 },
  'Ïù∏Ï≤úÍ¥ëÏó≠Ïãú|ÎØ∏Ï∂îÌôÄÍµ¨': { assembly:['ÎØ∏Ï∂îÌôÄÍµ¨Í∞ë','ÎØ∏Ï∂îÌôÄÍµ¨ÏùÑ'], basic:5, metro:2, pop:383456, emd:11 },
  'Ïù∏Ï≤úÍ¥ëÏó≠Ïãú|ÎÇ®ÎèôÍµ¨': { assembly:['ÎÇ®ÎèôÍµ¨Í∞ë','ÎÇ®ÎèôÍµ¨ÏùÑ'], basic:6, metro:3, pop:521234, emd:16 },
  'Ïù∏Ï≤úÍ¥ëÏó≠Ïãú|ÎèôÍµ¨': { assembly:['ÎèôÍµ¨¬∑ÎØ∏Ï∂îÌôÄÍµ¨Í∞ë'], basic:2, metro:1, pop:63934, emd:7 },
  'Ïù∏Ï≤úÍ¥ëÏó≠Ïãú|Î∂ÄÌèâÍµ¨': { assembly:['Î∂ÄÌèâÍµ¨Í∞ë','Î∂ÄÌèâÍµ¨ÏùÑ'], basic:6, metro:3, pop:495678, emd:18 },
  'Ïù∏Ï≤úÍ¥ëÏó≠Ïãú|ÏÑúÍµ¨': { assembly:['ÏÑúÍµ¨Í∞ë','ÏÑúÍµ¨ÏùÑ'], basic:6, metro:3, pop:561567, emd:14 },
  'Ïù∏Ï≤úÍ¥ëÏó≠Ïãú|Ïó∞ÏàòÍµ¨': { assembly:['Ïó∞ÏàòÍµ¨Í∞ë','Ïó∞ÏàòÍµ¨ÏùÑ'], basic:5, metro:2, pop:382890, emd:12 },
  'Ïù∏Ï≤úÍ¥ëÏó≠Ïãú|ÏòπÏßÑÍµ∞': { assembly:['Í∞ïÌôî¬∑ÏòπÏßÑ'], basic:2, metro:1, pop:21234, emd:7 },
  'Ïù∏Ï≤úÍ¥ëÏó≠Ïãú|Ï§ëÍµ¨': { assembly:['Ï§ëÍµ¨¬∑Í∞ïÌôî¬∑ÏòπÏßÑ'], basic:2, metro:1, pop:131456, emd:10 },
  // ===== ÎåÄÍµ¨Í¥ëÏó≠Ïãú =====
  'ÎåÄÍµ¨Í¥ëÏó≠Ïãú|ÎÇ®Íµ¨': { assembly:['ÎÇ®Íµ¨'], basic:2, metro:1, pop:143456, emd:8 },
  'ÎåÄÍµ¨Í¥ëÏó≠Ïãú|Îã¨ÏÑúÍµ¨': { assembly:['Îã¨ÏÑúÍµ¨Í∞ë','Îã¨ÏÑúÍµ¨ÏùÑ'], basic:7, metro:4, pop:539234, emd:17 },
  'ÎåÄÍµ¨Í¥ëÏó≠Ïãú|Îã¨ÏÑ±Íµ∞': { assembly:['Îã¨ÏÑ±Íµ∞'], basic:4, metro:2, pop:235234, emd:14 },
  'ÎåÄÍµ¨Í¥ëÏó≠Ïãú|ÎèôÍµ¨': { assembly:['ÎèôÍµ¨Í∞ë','ÎèôÍµ¨ÏùÑ'], basic:5, metro:3, pop:338456, emd:14 },
  'ÎåÄÍµ¨Í¥ëÏó≠Ïãú|Î∂ÅÍµ¨': { assembly:['Î∂ÅÍµ¨Í∞ë','Î∂ÅÍµ¨ÏùÑ'], basic:5, metro:3, pop:416234, emd:17 },
  'ÎåÄÍµ¨Í¥ëÏó≠Ïãú|ÏÑúÍµ¨': { assembly:['ÏÑúÍµ¨'], basic:3, metro:1, pop:163456, emd:8 },
  'ÎåÄÍµ¨Í¥ëÏó≠Ïãú|ÏàòÏÑ±Íµ¨': { assembly:['ÏàòÏÑ±Íµ¨Í∞ë','ÏàòÏÑ±Íµ¨ÏùÑ'], basic:5, metro:3, pop:411567, emd:15 },
  'ÎåÄÍµ¨Í¥ëÏó≠Ïãú|Ï§ëÍµ¨': { assembly:['Ï§ëÍµ¨¬∑ÎÇ®Íµ¨'], basic:2, metro:1, pop:68234, emd:7 },
  // ===== Í¥ëÏ£ºÍ¥ëÏó≠Ïãú =====
  'Í¥ëÏ£ºÍ¥ëÏó≠Ïãú|Í¥ëÏÇ∞Íµ¨': { assembly:['Í¥ëÏÇ∞Íµ¨Í∞ë','Í¥ëÏÇ∞Íµ¨ÏùÑ'], basic:5, metro:3, pop:399456, emd:17 },
  'Í¥ëÏ£ºÍ¥ëÏó≠Ïãú|ÎÇ®Íµ¨': { assembly:['ÎÇ®Íµ¨'], basic:3, metro:2, pop:211234, emd:11 },
  'Í¥ëÏ£ºÍ¥ëÏó≠Ïãú|ÎèôÍµ¨': { assembly:['ÎèôÍµ¨¬∑ÎÇ®Íµ¨'], basic:2, metro:1, pop:98234, emd:10 },
  'Í¥ëÏ£ºÍ¥ëÏó≠Ïãú|Î∂ÅÍµ¨': { assembly:['Î∂ÅÍµ¨Í∞ë','Î∂ÅÍµ¨ÏùÑ'], basic:5, metro:3, pop:428567, emd:18 },
  'Í¥ëÏ£ºÍ¥ëÏó≠Ïãú|ÏÑúÍµ¨': { assembly:['ÏÑúÍµ¨Í∞ë','ÏÑúÍµ¨ÏùÑ'], basic:4, metro:2, pop:289234, emd:13 },
  // ===== ÎåÄÏ†ÑÍ¥ëÏó≠Ïãú =====
  'ÎåÄÏ†ÑÍ¥ëÏó≠Ïãú|ÎåÄÎçïÍµ¨': { assembly:['ÎåÄÎçïÍµ¨'], basic:3, metro:1, pop:185234, emd:10 },
  'ÎåÄÏ†ÑÍ¥ëÏó≠Ïãú|ÎèôÍµ¨': { assembly:['ÎèôÍµ¨'], basic:3, metro:2, pop:228234, emd:13 },
  'ÎåÄÏ†ÑÍ¥ëÏó≠Ïãú|ÏÑúÍµ¨': { assembly:['ÏÑúÍµ¨Í∞ë','ÏÑúÍµ¨ÏùÑ'], basic:6, metro:3, pop:475234, emd:17 },
  'ÎåÄÏ†ÑÍ¥ëÏó≠Ïãú|Ïú†ÏÑ±Íµ¨': { assembly:['Ïú†ÏÑ±Íµ¨Í∞ë','Ïú†ÏÑ±Íµ¨ÏùÑ'], basic:5, metro:3, pop:367456, emd:14 },
  'ÎåÄÏ†ÑÍ¥ëÏó≠Ïãú|Ï§ëÍµ¨': { assembly:['Ï§ëÍµ¨'], basic:3, metro:2, pop:241234, emd:10 },
  // ===== Ïö∏ÏÇ∞Í¥ëÏó≠Ïãú =====
  'Ïö∏ÏÇ∞Í¥ëÏó≠Ïãú|ÎÇ®Íµ¨': { assembly:['ÎÇ®Íµ¨Í∞ë','ÎÇ®Íµ¨ÏùÑ'], basic:4, metro:3, pop:321234, emd:10 },
  'Ïö∏ÏÇ∞Í¥ëÏó≠Ïãú|ÎèôÍµ¨': { assembly:['ÎèôÍµ¨'], basic:3, metro:1, pop:168234, emd:7 },
  'Ïö∏ÏÇ∞Í¥ëÏó≠Ïãú|Î∂ÅÍµ¨': { assembly:['Î∂ÅÍµ¨'], basic:3, metro:2, pop:199234, emd:8 },
  'Ïö∏ÏÇ∞Í¥ëÏó≠Ïãú|Ïö∏Ï£ºÍµ∞': { assembly:['Ïö∏Ï£ºÍµ∞'], basic:5, metro:2, pop:227234, emd:12 },
  'Ïö∏ÏÇ∞Í¥ëÏó≠Ïãú|Ï§ëÍµ¨': { assembly:['Ï§ëÍµ¨'], basic:3, metro:2, pop:222456, emd:9 },
  // ===== ÏÑ∏Ï¢ÖÌäπÎ≥ÑÏûêÏπòÏãú =====
  'ÏÑ∏Ï¢ÖÌäπÎ≥ÑÏûêÏπòÏãú|ÏÑ∏Ï¢ÖÏãú': { assembly:['ÏÑ∏Ï¢ÖÍ∞ë','ÏÑ∏Ï¢ÖÏùÑ'], basic:0, metro:0, pop:396234, emd:16 },
  // ===== Í≤ΩÍ∏∞ÎèÑ =====
  'Í≤ΩÍ∏∞ÎèÑ|Í∞ÄÌèâÍµ∞': { assembly:['Ìè¨Ï≤ú¬∑Ïó∞Ï≤ú¬∑Í∞ÄÌèâ'], basic:3, metro:1, pop:63234, emd:6 },
  'Í≤ΩÍ∏∞ÎèÑ|Í≥†ÏñëÏãú': { assembly:['Í≥†ÏñëÏãúÍ∞ë','Í≥†ÏñëÏãúÏùÑ','Í≥†ÏñëÏãúÎ≥ë','Í≥†ÏñëÏãúÏ†ï'], basic:12, metro:6, pop:1075234, emd:39 },
  'Í≤ΩÍ∏∞ÎèÑ|Í≥ºÏ≤úÏãú': { assembly:['Í≥ºÏ≤ú¬∑ÏùòÏôï'], basic:2, metro:1, pop:72234, emd:6 },
  'Í≤ΩÍ∏∞ÎèÑ|Í¥ëÎ™ÖÏãú': { assembly:['Í¥ëÎ™ÖÏãúÍ∞ë','Í¥ëÎ™ÖÏãúÏùÑ'], basic:4, metro:2, pop:288456, emd:18 },
  'Í≤ΩÍ∏∞ÎèÑ|Í¥ëÏ£ºÏãú': { assembly:['Í¥ëÏ£ºÏãú¬∑ÌïòÎÇ®Ïãú'], basic:4, metro:2, pop:392567, emd:10 },
  'Í≤ΩÍ∏∞ÎèÑ|Íµ¨Î¶¨Ïãú': { assembly:['Íµ¨Î¶¨Ïãú'], basic:3, metro:1, pop:204234, emd:8 },
  'Í≤ΩÍ∏∞ÎèÑ|Íµ∞Ìè¨Ïãú': { assembly:['Íµ∞Ìè¨Ïãú'], basic:4, metro:2, pop:274234, emd:10 },
  'Í≤ΩÍ∏∞ÎèÑ|ÍπÄÌè¨Ïãú': { assembly:['ÍπÄÌè¨ÏãúÍ∞ë','ÍπÄÌè¨ÏãúÏùÑ'], basic:6, metro:3, pop:489456, emd:10 },
  'Í≤ΩÍ∏∞ÎèÑ|ÎÇ®ÏñëÏ£ºÏãú': { assembly:['ÎÇ®ÏñëÏ£ºÏãúÍ∞ë','ÎÇ®ÏñëÏ£ºÏãúÏùÑ','ÎÇ®ÏñëÏ£ºÏãúÎ≥ë'], basic:8, metro:4, pop:729234, emd:15 },
  'Í≤ΩÍ∏∞ÎèÑ|ÎèôÎëêÏ≤úÏãú': { assembly:['ÎèôÎëêÏ≤ú¬∑ÏñëÏ£ºÍ∞ë','ÎèôÎëêÏ≤ú¬∑ÏñëÏ£ºÏùÑ'], basic:2, metro:1, pop:98234, emd:8 },
  'Í≤ΩÍ∏∞ÎèÑ|Î∂ÄÏ≤úÏãú': { assembly:['Î∂ÄÏ≤úÏãúÍ∞ë','Î∂ÄÏ≤úÏãúÏùÑ','Î∂ÄÏ≤úÏãúÎ≥ë','Î∂ÄÏ≤úÏãúÏ†ï'], basic:10, metro:5, pop:801234, emd:36 },
  'Í≤ΩÍ∏∞ÎèÑ|ÏÑ±ÎÇ®Ïãú': { assembly:['ÏÑ±ÎÇ®ÏãúÎ∂ÑÎãπÍµ¨Í∞ë','ÏÑ±ÎÇ®ÏãúÎ∂ÑÎãπÍµ¨ÏùÑ','ÏÑ±ÎÇ®ÏãúÏàòÏ†ïÍµ¨','ÏÑ±ÎÇ®ÏãúÏ§ëÏõêÍµ¨'], basic:10, metro:5, pop:917234, emd:33 },
  'Í≤ΩÍ∏∞ÎèÑ|ÏàòÏõêÏãú': { assembly:['ÏàòÏõêÏãúÍ∞ë','ÏàòÏõêÏãúÏùÑ','ÏàòÏõêÏãúÎ≥ë','ÏàòÏõêÏãúÏ†ï','ÏàòÏõêÏãúÎ¨¥'], basic:14, metro:7, pop:1181234, emd:44 },
  'Í≤ΩÍ∏∞ÎèÑ|ÏãúÌù•Ïãú': { assembly:['ÏãúÌù•ÏãúÍ∞ë','ÏãúÌù•ÏãúÏùÑ'], basic:6, metro:3, pop:518234, emd:16 },
  'Í≤ΩÍ∏∞ÎèÑ|ÏïàÏÇ∞Ïãú': { assembly:['ÏïàÏÇ∞ÏãúÍ∞ë','ÏïàÏÇ∞ÏãúÏùÑ','ÏïàÏÇ∞ÏãúÎ≥ë'], basic:8, metro:4, pop:649234, emd:24 },
  'Í≤ΩÍ∏∞ÎèÑ|ÏïàÏÑ±Ïãú': { assembly:['ÏïàÏÑ±Ïãú'], basic:3, metro:2, pop:189234, emd:15 },
  'Í≤ΩÍ∏∞ÎèÑ|ÏïàÏñëÏãú': { assembly:['ÏïàÏñëÏãúÍ∞ë','ÏïàÏñëÏãúÏùÑ'], basic:6, metro:3, pop:547234, emd:31 },
  'Í≤ΩÍ∏∞ÎèÑ|ÏñëÏ£ºÏãú': { assembly:['ÎèôÎëêÏ≤ú¬∑ÏñëÏ£ºÍ∞ë','ÎèôÎëêÏ≤ú¬∑ÏñëÏ£ºÏùÑ'], basic:3, metro:2, pop:239234, emd:6 },
  'Í≤ΩÍ∏∞ÎèÑ|ÏñëÌèâÍµ∞': { assembly:['Ïó¨Ï£º¬∑ÏñëÌèâ'], basic:3, metro:1, pop:121234, emd:12 },
  'Í≤ΩÍ∏∞ÎèÑ|Ïó¨Ï£ºÏãú': { assembly:['Ïó¨Ï£º¬∑ÏñëÌèâ'], basic:3, metro:1, pop:113234, emd:9 },
  'Í≤ΩÍ∏∞ÎèÑ|Ïó∞Ï≤úÍµ∞': { assembly:['Ìè¨Ï≤ú¬∑Ïó∞Ï≤ú¬∑Í∞ÄÌèâ'], basic:2, metro:1, pop:42234, emd:10 },
  'Í≤ΩÍ∏∞ÎèÑ|Ïò§ÏÇ∞Ïãú': { assembly:['Ïò§ÏÇ∞Ïãú'], basic:3, metro:1, pop:228234, emd:6 },
  'Í≤ΩÍ∏∞ÎèÑ|Ïö©Ïù∏Ïãú': { assembly:['Ïö©Ïù∏ÏãúÍ∞ë','Ïö©Ïù∏ÏãúÏùÑ','Ïö©Ïù∏ÏãúÎ≥ë','Ïö©Ïù∏ÏãúÏ†ï'], basic:10, metro:5, pop:1094567, emd:31 },
  'Í≤ΩÍ∏∞ÎèÑ|ÏùòÏôïÏãú': { assembly:['Í≥ºÏ≤ú¬∑ÏùòÏôï'], basic:2, metro:1, pop:163456, emd:6 },
  'Í≤ΩÍ∏∞ÎèÑ|ÏùòÏ†ïÎ∂ÄÏãú': { assembly:['ÏùòÏ†ïÎ∂ÄÏãúÍ∞ë','ÏùòÏ†ïÎ∂ÄÏãúÏùÑ'], basic:5, metro:3, pop:464567, emd:15 },
  'Í≤ΩÍ∏∞ÎèÑ|Ïù¥Ï≤úÏãú': { assembly:['Ïù¥Ï≤úÏãú'], basic:4, metro:2, pop:221234, emd:12 },
  'Í≤ΩÍ∏∞ÎèÑ|ÌååÏ£ºÏãú': { assembly:['ÌååÏ£ºÏãúÍ∞ë','ÌååÏ£ºÏãúÏùÑ'], basic:6, metro:3, pop:497456, emd:15 },
  'Í≤ΩÍ∏∞ÎèÑ|ÌèâÌÉùÏãú': { assembly:['ÌèâÌÉùÏãúÍ∞ë','ÌèâÌÉùÏãúÏùÑ'], basic:6, metro:3, pop:583234, emd:17 },
  'Í≤ΩÍ∏∞ÎèÑ|Ìè¨Ï≤úÏãú': { assembly:['Ìè¨Ï≤ú¬∑Ïó∞Ï≤ú¬∑Í∞ÄÌèâ'], basic:3, metro:2, pop:142234, emd:12 },
  'Í≤ΩÍ∏∞ÎèÑ|ÌïòÎÇ®Ïãú': { assembly:['Í¥ëÏ£ºÏãú¬∑ÌïòÎÇ®Ïãú'], basic:4, metro:2, pop:321234, emd:10 },
  'Í≤ΩÍ∏∞ÎèÑ|ÌôîÏÑ±Ïãú': { assembly:['ÌôîÏÑ±ÏãúÍ∞ë','ÌôîÏÑ±ÏãúÏùÑ','ÌôîÏÑ±ÏãúÎ≥ë'], basic:8, metro:5, pop:939234, emd:22 },
  // ===== Í≤ΩÏÉÅÎÇ®ÎèÑ =====
  'Í≤ΩÏÉÅÎÇ®ÎèÑ|Ï∞ΩÏõêÏãú': { assembly:['Ï∞ΩÏõêÏãúÏùòÏ∞ΩÍµ¨','Ï∞ΩÏõêÏãúÏÑ±ÏÇ∞Íµ¨','Ï∞ΩÏõêÏãúÎßàÏÇ∞Ìï©Ìè¨Íµ¨','Ï∞ΩÏõêÏãúÎßàÏÇ∞ÌöåÏõêÍµ¨','Ï∞ΩÏõêÏãúÏßÑÌï¥Íµ¨'], basic:17, metro:8, pop:1018234, emd:45 },
  'Í≤ΩÏÉÅÎÇ®ÎèÑ|ÍπÄÌï¥Ïãú': { assembly:['ÍπÄÌï¥ÏãúÍ∞ë','ÍπÄÌï¥ÏãúÏùÑ'], basic:7, metro:4, pop:538234, emd:19 },
  'Í≤ΩÏÉÅÎÇ®ÎèÑ|ÏßÑÏ£ºÏãú': { assembly:['ÏßÑÏ£ºÏãúÍ∞ë','ÏßÑÏ£ºÏãúÏùÑ'], basic:6, metro:3, pop:337234, emd:24 },
  'Í≤ΩÏÉÅÎÇ®ÎèÑ|ÏñëÏÇ∞Ïãú': { assembly:['ÏñëÏÇ∞ÏãúÍ∞ë','ÏñëÏÇ∞ÏãúÏùÑ'], basic:5, metro:2, pop:364234, emd:10 },
  'Í≤ΩÏÉÅÎÇ®ÎèÑ|Í±∞Ï†úÏãú': { assembly:['Í±∞Ï†úÏãú'], basic:4, metro:2, pop:229234, emd:10 },
  'Í≤ΩÏÉÅÎÇ®ÎèÑ|ÌÜµÏòÅÏãú': { assembly:['ÌÜµÏòÅ¬∑Í≥†ÏÑ±'], basic:3, metro:2, pop:127234, emd:11 },
  'Í≤ΩÏÉÅÎÇ®ÎèÑ|ÏÇ¨Ï≤úÏãú': { assembly:['ÏÇ¨Ï≤ú¬∑ÎÇ®Ìï¥¬∑ÌïòÎèô'], basic:3, metro:1, pop:112234, emd:10 },
  'Í≤ΩÏÉÅÎÇ®ÎèÑ|Î∞ÄÏñëÏãú': { assembly:['Î∞ÄÏñë¬∑ÏùòÎ†π¬∑Ìï®Ïïà¬∑Ï∞ΩÎÖï'], basic:3, metro:1, pop:105234, emd:14 },
  // ===== Ï∂©Ï≤≠Î∂ÅÎèÑ =====
  'Ï∂©Ï≤≠Î∂ÅÎèÑ|Ï≤≠Ï£ºÏãú': { assembly:['Ï≤≠Ï£ºÏãúÏÉÅÎãπÍµ¨','Ï≤≠Ï£ºÏãúÏÑúÏõêÍµ¨','Ï≤≠Ï£ºÏãúÌù•ÎçïÍµ¨','Ï≤≠Ï£ºÏãúÏ≤≠ÏõêÍµ¨'], basic:14, metro:6, pop:851234, emd:30 },
  'Ï∂©Ï≤≠Î∂ÅÎèÑ|Ï∂©Ï£ºÏãú': { assembly:['Ï∂©Ï£ºÏãú'], basic:4, metro:2, pop:208234, emd:16 },
  'Ï∂©Ï≤≠Î∂ÅÎèÑ|Ï†úÏ≤úÏãú': { assembly:['Ï†úÏ≤ú¬∑Îã®Ïñë'], basic:3, metro:2, pop:131234, emd:12 },
  // ===== Ï∂©Ï≤≠ÎÇ®ÎèÑ =====
  'Ï∂©Ï≤≠ÎÇ®ÎèÑ|Ï≤úÏïàÏãú': { assembly:['Ï≤úÏïàÏãúÍ∞ë','Ï≤úÏïàÏãúÏùÑ','Ï≤úÏïàÏãúÎ≥ë'], basic:10, metro:4, pop:667234, emd:24 },
  'Ï∂©Ï≤≠ÎÇ®ÎèÑ|ÏïÑÏÇ∞Ïãú': { assembly:['ÏïÑÏÇ∞ÏãúÍ∞ë','ÏïÑÏÇ∞ÏãúÏùÑ'], basic:5, metro:3, pop:337234, emd:13 },
  // ===== Ï†ÑÎ∂ÅÌäπÎ≥ÑÏûêÏπòÎèÑ =====
  'Ï†ÑÎ∂ÅÌäπÎ≥ÑÏûêÏπòÎèÑ|Ï†ÑÏ£ºÏãú': { assembly:['Ï†ÑÏ£ºÏãúÍ∞ë','Ï†ÑÏ£ºÏãúÏùÑ','Ï†ÑÏ£ºÏãúÎ≥ë'], basic:10, metro:5, pop:647234, emd:33 },
  // ===== Ï†ÑÎùºÎÇ®ÎèÑ =====
  'Ï†ÑÎùºÎÇ®ÎèÑ|Ïó¨ÏàòÏãú': { assembly:['Ïó¨ÏàòÏãúÍ∞ë','Ïó¨ÏàòÏãúÏùÑ'], basic:5, metro:3, pop:271234, emd:18 },
  'Ï†ÑÎùºÎÇ®ÎèÑ|ÏàúÏ≤úÏãú': { assembly:['ÏàúÏ≤úÏãú'], basic:4, metro:2, pop:277234, emd:16 },
  'Ï†ÑÎùºÎÇ®ÎèÑ|Î™©Ìè¨Ïãú': { assembly:['Î™©Ìè¨Ïãú'], basic:3, metro:2, pop:216234, emd:22 },
  // ===== Í≤ΩÏÉÅÎ∂ÅÎèÑ =====
  'Í≤ΩÏÉÅÎ∂ÅÎèÑ|Ìè¨Ìï≠Ïãú': { assembly:['Ìè¨Ìï≠ÏãúÎ∂ÅÍµ¨','Ìè¨Ìï≠ÏãúÎÇ®Íµ¨'], basic:7, metro:4, pop:496234, emd:25 },
  'Í≤ΩÏÉÅÎ∂ÅÎèÑ|Íµ¨ÎØ∏Ïãú': { assembly:['Íµ¨ÎØ∏ÏãúÍ∞ë','Íµ¨ÎØ∏ÏãúÏùÑ'], basic:5, metro:3, pop:407234, emd:17 },
  'Í≤ΩÏÉÅÎ∂ÅÎèÑ|Í≤ΩÏ£ºÏãú': { assembly:['Í≤ΩÏ£ºÏãú'], basic:4, metro:2, pop:255234, emd:19 },
  'Í≤ΩÏÉÅÎ∂ÅÎèÑ|ÏïàÎèôÏãú': { assembly:['ÏïàÎèô¬∑ÏòàÏ≤ú'], basic:3, metro:2, pop:159234, emd:18 },
  // ===== Í∞ïÏõêÌäπÎ≥ÑÏûêÏπòÎèÑ =====
  'Í∞ïÏõêÌäπÎ≥ÑÏûêÏπòÎèÑ|Ï∂òÏ≤úÏãú': { assembly:['Ï∂òÏ≤úÏãúÍ∞ë','Ï∂òÏ≤úÏãúÏùÑ'], basic:5, metro:2, pop:285234, emd:15 },
  'Í∞ïÏõêÌäπÎ≥ÑÏûêÏπòÎèÑ|ÏõêÏ£ºÏãú': { assembly:['ÏõêÏ£ºÏãúÍ∞ë','ÏõêÏ£ºÏãúÏùÑ'], basic:5, metro:3, pop:356234, emd:16 },
  'Í∞ïÏõêÌäπÎ≥ÑÏûêÏπòÎèÑ|Í∞ïÎ¶âÏãú': { assembly:['Í∞ïÎ¶âÏãú'], basic:4, metro:2, pop:218234, emd:13 },
  // ===== Ï†úÏ£ºÌäπÎ≥ÑÏûêÏπòÎèÑ (Í∏∞Ï¥àÏùòÌöå ÏóÜÏùå) =====
  'Ï†úÏ£ºÌäπÎ≥ÑÏûêÏπòÎèÑ|Ï†úÏ£ºÏãú': { assembly:['Ï†úÏ£ºÏãúÍ∞ë','Ï†úÏ£ºÏãúÏùÑ'], basic:0, metro:5, pop:495234, emd:19 },
  'Ï†úÏ£ºÌäπÎ≥ÑÏûêÏπòÎèÑ|ÏÑúÍ∑ÄÌè¨Ïãú': { assembly:['ÏÑúÍ∑ÄÌè¨Ïãú'], basic:0, metro:3, pop:181234, emd:12 }
};

function onSigunguChange() {
  updateDistricts();
  onProfileChange();
}

// Ïãú¬∑ÎèÑ Ï†ÑÏ≤¥ Ïù∏Íµ¨ Îç∞Ïù¥ÌÑ∞ (2024 ÌñâÏ†ïÏïàÏ†ÑÎ∂Ä Í∏∞Ï§Ä)
const sidoPopulation = {
  'ÏÑúÏö∏ÌäπÎ≥ÑÏãú': 9386034, 'Î∂ÄÏÇ∞Í¥ëÏó≠Ïãú': 3293718, 'Ïù∏Ï≤úÍ¥ëÏó≠Ïãú': 2989988,
  'ÎåÄÍµ¨Í¥ëÏó≠Ïãú': 2356270, 'Í¥ëÏ£ºÍ¥ëÏó≠Ïãú': 1426525, 'ÎåÄÏ†ÑÍ¥ëÏó≠Ïãú': 1497168,
  'Ïö∏ÏÇ∞Í¥ëÏó≠Ïãú': 1138392, 'ÏÑ∏Ï¢ÖÌäπÎ≥ÑÏûêÏπòÏãú': 396234, 'Í≤ΩÍ∏∞ÎèÑ': 13636621,
  'Í≤ΩÏÉÅÎÇ®ÎèÑ': 3252607, 'Ï∂©Ï≤≠Î∂ÅÎèÑ': 1596485, 'Ï∂©Ï≤≠ÎÇ®ÎèÑ': 2121029,
  'Ï†ÑÎ∂ÅÌäπÎ≥ÑÏûêÏπòÎèÑ': 1774429, 'Ï†ÑÎùºÎÇ®ÎèÑ': 1832803, 'Í≤ΩÏÉÅÎ∂ÅÎèÑ': 2578858,
  'Í∞ïÏõêÌäπÎ≥ÑÏûêÏπòÎèÑ': 1533528, 'Ï†úÏ£ºÌäπÎ≥ÑÏûêÏπòÎèÑ': 676468
};

function onDistrictChange() {
  const sido = document.getElementById('profileSido').value;
  const sigungu = document.getElementById('profileSigungu').value;
  const elType = document.getElementById('profileElectionType').value;
  const district = document.getElementById('profileDistrict').value;
  const popNote = document.getElementById('popAutoNote');
  const emdNote = document.getElementById('emdAutoNote');

  if (!district) {
    if (popNote) popNote.style.display = 'none';
    if (emdNote) emdNote.style.display = 'none';
    return;
  }

  const key = sido + '|' + sigungu;
  const info = districtInfo[key];
  if (!info || !info.pop) return;

  let estPop = 0;
  let estEmd = 0;
  let noteText = '';

  if (elType === 'president') {
    // ÎåÄÌÜµÎ†π: Ï†ÑÍµ≠ Ïù∏Íµ¨
    estPop = 51210000;
    estEmd = 3551;
    noteText = 'Ï†ÑÍµ≠ Ïù∏Íµ¨ (2024 Í∏∞Ï§Ä)';
  } else if (elType === 'governor') {
    // Í¥ëÏó≠Îã®Ï≤¥Ïû•: Ïãú¬∑ÎèÑ Ï†ÑÏ≤¥ Ïù∏Íµ¨
    estPop = sidoPopulation[sido] || 0;
    // Ïãú¬∑ÎèÑ Ï†ÑÏ≤¥ ÏùçÎ©¥ÎèôÏàò: Ìï¥Îãπ Ïãú¬∑ÎèÑÏùò Î™®Îì† ÏãúÍµ∞Íµ¨ emd Ìï©ÏÇ∞
    estEmd = 0;
    Object.keys(districtInfo).forEach(k => {
      if (k.startsWith(sido + '|')) estEmd += districtInfo[k].emd;
    });
    noteText = sido + ' Ï†ÑÏ≤¥ Ïù∏Íµ¨ (2024 Í∏∞Ï§Ä)';
  } else if (elType === 'city_mayor') {
    // Í∏∞Ï¥àÎã®Ï≤¥Ïû•: Ïãú¬∑Íµ∞¬∑Íµ¨ Ï†ÑÏ≤¥ Ïù∏Íµ¨
    estPop = info.pop;
    estEmd = info.emd;
    noteText = sigungu + ' Ï†ÑÏ≤¥ Ïù∏Íµ¨ (2024 ÌñâÏïàÎ∂Ä Í∏∞Ï§Ä)';
  } else if (elType === 'assembly') {
    // Íµ≠ÌöåÏùòÏõê: Ïãú¬∑Íµ∞¬∑Íµ¨ Ïù∏Íµ¨ √∑ ÏÑ†Í±∞Íµ¨ Ïàò (Í∑†Îì±Î∞∞Î∂Ñ Ï∂îÏ†ï)
    const cnt = info.assembly ? info.assembly.length : 1;
    estPop = Math.round(info.pop / cnt);
    estEmd = Math.round(info.emd / cnt);
    noteText = sigungu + ' Ïù∏Íµ¨ √∑ ' + cnt + 'Í∞ú ÏÑ†Í±∞Íµ¨ (Ï∂îÏ†ïÏπò, Ïã§Ï†úÎäî ÏÑ†Í¥ÄÏúÑ ÌöçÏ†ï Í∏∞Ï§Ä)';
  } else if (elType === 'city_council') {
    // Í∏∞Ï¥àÏùòÏõê: Ïãú¬∑Íµ∞¬∑Íµ¨ Ïù∏Íµ¨ √∑ Í∏∞Ï¥àÏùòÏõê ÏÑ†Í±∞Íµ¨ Ïàò
    const cnt = info.basic > 0 ? info.basic : 1;
    estPop = Math.round(info.pop / cnt);
    estEmd = Math.max(1, Math.round(info.emd / cnt));
    noteText = sigungu + ' Ïù∏Íµ¨ √∑ ' + cnt + 'Í∞ú ÏÑ†Í±∞Íµ¨ (Ï∂îÏ†ïÏπò)';
  } else if (elType === 'metro_council') {
    // Í¥ëÏó≠ÏùòÏõê: Ïãú¬∑Íµ∞¬∑Íµ¨ Ïù∏Íµ¨ √∑ Í¥ëÏó≠ÏùòÏõê ÏÑ†Í±∞Íµ¨ Ïàò
    const cnt = info.metro > 0 ? info.metro : 1;
    estPop = Math.round(info.pop / cnt);
    estEmd = Math.max(1, Math.round(info.emd / cnt));
    noteText = sigungu + ' Ïù∏Íµ¨ √∑ ' + cnt + 'Í∞ú ÏÑ†Í±∞Íµ¨ (Ï∂îÏ†ïÏπò)';
  }

  if (estPop > 0) {
    document.getElementById('profilePopulation').value = estPop;
    document.getElementById('profileEMD').value = estEmd;
    if (popNote) { popNote.textContent = '‚úÖ ' + noteText; popNote.style.display = 'block'; }
    if (emdNote) { emdNote.textContent = '‚úÖ ÏùçÎ©¥ÎèôÏàò ÏûêÎèô ÏÇ∞Ï∂úÎê®'; emdNote.style.display = 'block'; }
    // Í≥ÑÏÇ∞Í∏∞ÏóêÎèÑ ÏûêÎèô Î∞òÏòÅ
    const calcPop = document.getElementById('calcPopulation');
    const calcEmd = document.getElementById('calcEMD');
    if (calcPop) calcPop.value = estPop;
    if (calcEmd) calcEmd.value = estEmd;
    updateCalc();
  }
  onProfileChange();
}

function updateDistricts() {
  const sido = document.getElementById('profileSido').value;
  const sigungu = document.getElementById('profileSigungu').value;
  const elType = document.getElementById('profileElectionType').value;
  const sel = document.getElementById('profileDistrict');
  const label = document.getElementById('districtLabel');
  sel.innerHTML = '<option value="">-- ÏÑ†Í±∞Íµ¨ ÏÑ†ÌÉù --</option>';
  if (!sigungu) return;

  const labelMap = {
    assembly: 'Íµ≠ÌöåÏùòÏõê ÏÑ†Í±∞Íµ¨ (22ÎåÄ Í∏∞Ï§Ä)',
    city_council: 'Í∏∞Ï¥àÏùòÏõê ÏÑ†Í±∞Íµ¨ (8Ìöå ÏßÄÎ∞©ÏÑ†Í±∞ Í∏∞Ï§Ä)',
    metro_council: 'Í¥ëÏó≠ÏùòÏõê ÏÑ†Í±∞Íµ¨ (Ïãú¬∑ÎèÑÏùòÌöå)',
    city_mayor: 'Í∏∞Ï¥àÎã®Ï≤¥Ïû• ÏÑ†Í±∞Íµ¨',
    governor: 'Í¥ëÏó≠Îã®Ï≤¥Ïû• ÏÑ†Í±∞Íµ¨',
    president: 'ÎåÄÌÜµÎ†π ÏÑ†Í±∞Íµ¨'
  };
  label.textContent = labelMap[elType] || 'ÏÑ†Í±∞Íµ¨';

  const key = sido + '|' + sigungu;
  const info = districtInfo[key];

  if (elType === 'assembly') {
    // Íµ≠ÌöåÏùòÏõê ÏÑ†Í±∞Íµ¨ (22ÎåÄ Í∏∞Ï§Ä)
    if (info && info.assembly) {
      info.assembly.forEach(d => {
        sel.innerHTML += `<option value="${d}">${d}</option>`;
      });
    } else {
      sel.innerHTML += `<option value="${sigungu}">${sigungu}</option>`;
    }
  } else if (elType === 'city_council') {
    // Í∏∞Ï¥àÏùòÏõê ÏÑ†Í±∞Íµ¨ (Í∞Ä/ÎÇò/Îã§... Ïã§Ï†ú Í∞úÏàò Î∞òÏòÅ)
    const names = ['Í∞Ä','ÎÇò','Îã§','Îùº','Îßà','Î∞î','ÏÇ¨','ÏïÑ','Ïûê','Ï∞®','Ïπ¥','ÌÉÄ','Ìåå','Ìïò','Í±∞','ÎÑà','Îçî','Îü¨'];
    const count = (info && info.basic > 0) ? info.basic : 5;
    for (let i = 0; i < count; i++) {
      sel.innerHTML += `<option value="${sigungu} ${names[i]}">${sigungu} ${names[i]}ÏÑ†Í±∞Íµ¨</option>`;
    }
  } else if (elType === 'metro_council') {
    // Í¥ëÏó≠ÏùòÏõê ÏÑ†Í±∞Íµ¨ (Ï†úNÏÑ†Í±∞Íµ¨)
    const count = (info && info.metro > 0) ? info.metro : 2;
    for (let i = 1; i <= count; i++) {
      sel.innerHTML += `<option value="${sigungu} Ï†ú${i}ÏÑ†Í±∞Íµ¨">${sigungu} Ï†ú${i}ÏÑ†Í±∞Íµ¨</option>`;
    }
  } else if (elType === 'city_mayor') {
    sel.innerHTML += `<option value="${sigungu}">${sigungu} (Îã®Ïùº ÏÑ†Í±∞Íµ¨)</option>`;
  } else if (elType === 'governor') {
    sel.innerHTML = `<option value="${sido}">${sido} (Îã®Ïùº ÏÑ†Í±∞Íµ¨)</option>`;
  } else if (elType === 'president') {
    sel.innerHTML = `<option value="Ï†ÑÍµ≠">Ï†ÑÍµ≠ (Îã®Ïùº ÏÑ†Í±∞Íµ¨)</option>`;
  } else {
    // Í∏∞Î≥∏: Í∏∞Ï¥àÏùòÏõê Î∞©Ïãù
    const names = ['Í∞Ä','ÎÇò','Îã§','Îùº','Îßà','Î∞î','ÏÇ¨','ÏïÑ','Ïûê','Ï∞®','Ïπ¥','ÌÉÄ','Ìåå','Ìïò'];
    const count = (info && info.basic > 0) ? info.basic : 5;
    for (let i = 0; i < count; i++) {
      sel.innerHTML += `<option value="${sigungu} ${names[i]}">${sigungu} ${names[i]}ÏÑ†Í±∞Íµ¨</option>`;
    }
  }
}

// ========== ELECTION INFO DATA ==========
const electionInfo = {
  city_council:  { name: 'ÏûêÏπòÍµ¨¬∑Ïãú¬∑Íµ∞ÏùòÏõê', deposit: 2000000, preDeposit: 400000, preDays: null, preDaysLabel: 'ÏÑ†Í±∞Í∏∞Í∞ÑÍ∞úÏãúÏùº Ï†Ñ 90Ïùº(Ïãú) / 60Ïùº(Íµ∞)', campaignPeriod: 14, ageMin: 18, lawRef: 'Ï†ú56Ï°∞‚ë†6Ìò∏' },
  metro_council: { name: 'Ïãú¬∑ÎèÑÏùòÏõê', deposit: 3000000, preDeposit: 600000, preDays: 120, preDaysLabel: 'ÏÑ†Í±∞Ïùº Ï†Ñ 120Ïùº', campaignPeriod: 14, ageMin: 18, lawRef: 'Ï†ú56Ï°∞‚ë†3Ìò∏' },
  city_mayor:    { name: 'ÏûêÏπòÍµ¨¬∑Ïãú¬∑Íµ∞Ïùò Ïû•', deposit: 10000000, preDeposit: 2000000, preDays: null, preDaysLabel: 'ÏÑ†Í±∞Í∏∞Í∞ÑÍ∞úÏãúÏùº Ï†Ñ 90Ïùº(Ïãú) / 60Ïùº(Íµ∞)', campaignPeriod: 14, ageMin: 18, lawRef: 'Ï†ú56Ï°∞‚ë†5Ìò∏' },
  governor:      { name: 'Ïãú¬∑ÎèÑÏßÄÏÇ¨', deposit: 50000000, preDeposit: 10000000, preDays: 120, preDaysLabel: 'ÏÑ†Í±∞Ïùº Ï†Ñ 120Ïùº', campaignPeriod: 14, ageMin: 18, lawRef: 'Ï†ú56Ï°∞‚ë†4Ìò∏' },
  assembly:      { name: 'Íµ≠ÌöåÏùòÏõê (ÏßÄÏó≠Íµ¨)', deposit: 15000000, preDeposit: 3000000, preDays: 120, preDaysLabel: 'ÏÑ†Í±∞Ïùº Ï†Ñ 120Ïùº', campaignPeriod: 14, ageMin: 18, lawRef: 'Ï†ú56Ï°∞‚ë†2Ìò∏' },
  president:     { name: 'ÎåÄÌÜµÎ†π', deposit: 300000000, preDeposit: 60000000, preDays: 240, preDaysLabel: 'ÏÑ†Í±∞Ïùº Ï†Ñ 240Ïùº', campaignPeriod: 23, ageMin: 40, lawRef: 'Ï†ú56Ï°∞‚ë†1Ìò∏' }
};

// ========== PROFILE ==========
function onProfileChange() {
  const type = document.getElementById('profileElectionType').value;
  const sido = document.getElementById('profileSido').value;
  const sigungu = document.getElementById('profileSigungu').value;
  const pop = parseInt(document.getElementById('profilePopulation').value) || 0;
  const summary = document.getElementById('profileSummary');

  if (!type) {
    summary.innerHTML = '<p style="color:var(--gray-500);">ÏÑ†Í±∞ Ïú†ÌòïÏùÑ ÏÑ†ÌÉùÌïòÎ©¥ Í¥ÄÎ†® Î≤ïÏ†Å Ï†ïÎ≥¥Í∞Ä ÌëúÏãúÎê©ÎãàÎã§.</p>';
    return;
  }

  const info = electionInfo[type];
  let html = `<table class="info-table">
    <tr><td style="font-weight:600;width:180px;">ÏÑ†Í±∞ Ïú†Ìòï</td><td>${info.name}</td></tr>
    <tr><td style="font-weight:600;">ÏßÄÏó≠</td><td>${sido || '-'} ${sigungu || ''}</td></tr>
    <tr><td style="font-weight:600;">ÌîºÏÑ†Í±∞Í∂å Ïó∞Î†π</td><td>${info.ageMin}ÏÑ∏ Ïù¥ÏÉÅ <span class="law-ref">Ï†ú16Ï°∞</span></td></tr>
    <tr><td style="font-weight:600;">Í∏∞ÌÉÅÍ∏à</td><td>${info.deposit.toLocaleString()}Ïõê <span class="law-ref">${info.lawRef}</span></td></tr>
    <tr><td style="font-weight:600;">ÏòàÎπÑÌõÑÎ≥¥ Í∏∞ÌÉÅÍ∏à (20%)</td><td>${info.preDeposit.toLocaleString()}Ïõê <span class="law-ref">Ï†ú60Ï°∞Ïùò2‚ë§</span></td></tr>
    <tr><td style="font-weight:600;">ÏòàÎπÑÌõÑÎ≥¥ Îì±Î°ù ÏãúÏ†ê</td><td>${info.preDaysLabel} <span class="law-ref">Ï†ú60Ï°∞Ïùò2‚ë†</span></td></tr>
    <tr><td style="font-weight:600;">ÏÑ†Í±∞Í∏∞Í∞Ñ</td><td>${info.campaignPeriod}Ïùº <span class="law-ref">Ï†ú33Ï°∞</span></td></tr>
    <tr><td style="font-weight:600;">ÏÑ†Í±∞Íµ¨ Ïù∏Íµ¨Ïàò</td><td>${pop > 0 ? pop.toLocaleString() + 'Î™Ö' : 'ÎØ∏ÏûÖÎ†•'}</td></tr>
  </table>`;
  summary.innerHTML = html;
}

function saveProfile() {
  const profile = {
    type: document.getElementById('profileElectionType').value,
    sido: document.getElementById('profileSido').value,
    sigungu: document.getElementById('profileSigungu').value,
    district: document.getElementById('profileDistrict').value,
    population: document.getElementById('profilePopulation').value,
    emd: document.getElementById('profileEMD').value
  };
  try { localStorage.setItem('electionProfile', JSON.stringify(profile)); } catch(e) {}
  document.getElementById('profileSaveStatus').innerHTML = '<span class="profile-saved">Ï†ÄÏû• ÏôÑÎ£å!</span>';
  setTimeout(() => document.getElementById('profileSaveStatus').innerHTML = '', 3000);
  applyProfileToCalc();
  updateHomeSummary();
}

function loadProfile() {
  try {
    const p = JSON.parse(localStorage.getItem('electionProfile') || '{}');
    if (p.type) document.getElementById('profileElectionType').value = p.type;
    if (p.sido) {
      document.getElementById('profileSido').value = p.sido;
      onSidoChange();
      if (p.sigungu) {
        document.getElementById('profileSigungu').value = p.sigungu;
        onSigunguChange();
        if (p.district) document.getElementById('profileDistrict').value = p.district;
      }
    }
    if (p.population) document.getElementById('profilePopulation').value = p.population;
    if (p.emd) document.getElementById('profileEMD').value = p.emd;
    onProfileChange();
    applyProfileToCalc();
    updateHomeSummary();
  } catch(e) {}
}

function applyProfileToCalc() {
  try {
    const p = JSON.parse(localStorage.getItem('electionProfile') || '{}');
    if (p.population) document.getElementById('calcPopulation').value = p.population;
    if (p.emd) document.getElementById('calcEMD').value = p.emd;
    const typeMap = {
      city_council: 'city_council', metro_council: 'metro_council',
      city_mayor: 'city_mayor', governor: 'governor_metro', assembly: 'assembly', president: 'president'
    };
    if (p.type && typeMap[p.type]) document.getElementById('calcElectionType').value = typeMap[p.type];
    updateCalc();
  } catch(e) {}
}

function updateHomeSummary() {
  // Ìôà ÌéòÏù¥ÏßÄ ÌîÑÎ°úÌïÑ ÏöîÏïΩ (renderHomeÏóê ÌÜµÌï©)
}

// ========== CALCULATOR ==========
const calcFormulas = {
  city_council:    { base: 35000000, perPop: 100, perEMD: 0, extra: 0, label: '3,500ÎßåÏõê + (Ïù∏Íµ¨Ïàò √ó 100Ïõê)', ref: 'Ï†ú121Ï°∞‚ë†6Ìò∏' },
  metro_council:   { base: 40000000, perPop: 100, perEMD: 0, extra: 0, label: '4,000ÎßåÏõê + (Ïù∏Íµ¨Ïàò √ó 100Ïõê)', ref: 'Ï†ú121Ï°∞‚ë†4Ìò∏' },
  city_mayor:      { base: 90000000, perPop: 200, perEMD: 1000000, extra: 0, label: '9,000ÎßåÏõê + (Ïù∏Íµ¨Ïàò √ó 200Ïõê) + (ÏùçÎ©¥ÎèôÏàò √ó 100ÎßåÏõê)', ref: 'Ï†ú121Ï°∞‚ë†8Ìò∏' },
  governor_metro:  { base: 400000000, perPop: 300, perEMD: 0, extra: 0, label: '4ÏñµÏõê(Ïù∏Íµ¨ 200Îßå ÎØ∏ÎßåÏãú 2ÏñµÏõê) + (Ïù∏Íµ¨Ïàò √ó 300Ïõê)', ref: 'Ï†ú121Ï°∞‚ë†7Ìò∏ Í∞ÄÎ™©', baseLow: 200000000, popThreshold: 2000000 },
  governor_do:     { base: 800000000, perPop: 250, perEMD: 0, extra: 0, label: '8ÏñµÏõê(Ïù∏Íµ¨ 100Îßå ÎØ∏ÎßåÏãú 3ÏñµÏõê) + (Ïù∏Íµ¨Ïàò √ó 250Ïõê)', ref: 'Ï†ú121Ï°∞‚ë†7Ìò∏ ÎÇòÎ™©', baseLow: 300000000, popThreshold: 1000000 },
  assembly:        { base: 100000000, perPop: 200, perEMD: 2000000, extra: 15000000, label: '1ÏñµÏõê + (Ïù∏Íµ¨Ïàò √ó 200Ïõê) + (ÏùçÎ©¥ÎèôÏàò √ó 200ÎßåÏõê)', ref: 'Ï†ú121Ï°∞‚ë†2Ìò∏' },
  president:       { base: 0, perPop: 950, perEMD: 0, extra: 0, label: 'Ïù∏Íµ¨Ïàò √ó 950Ïõê', ref: 'Ï†ú121Ï°∞‚ë†1Ìò∏' }
};

function calcLegalLimit(type, pop, emd, extraSigungu, inflation) {
  const f = calcFormulas[type];
  if (!f || !pop) return 0;
  let base = f.base;
  if (f.baseLow && f.popThreshold && pop < f.popThreshold) base = f.baseLow;
  let total = base + (pop * f.perPop) + (emd * f.perEMD);
  if (type === 'assembly' && extraSigungu > 0) total += extraSigungu * f.extra;
  if (inflation > 0) total = total * (1 + inflation / 100);
  // 100ÎßåÏõê ÎØ∏Îßå Îã®Ïàò Ïò¨Î¶º
  total = Math.ceil(total / 1000000) * 1000000;
  return total;
}

function updateCalc() {
  const type = document.getElementById('calcElectionType').value;
  const pop = parseInt(document.getElementById('calcPopulation').value) || 0;
  const emd = parseInt(document.getElementById('calcEMD').value) || 0;
  const extraSG = parseInt(document.getElementById('calcExtraSigungu').value) || 0;
  const inflation = parseFloat(document.getElementById('calcInflation').value) || 0;
  const f = calcFormulas[type];

  // Show formula
  document.getElementById('calcFormulaDisplay').innerHTML = `<strong>ÏÇ∞Ï∂ú Í≥µÏãù <span class="law-ref">${f.ref}</span></strong><br>${f.label}`;

  // Calc limit
  const limit = calcLegalLimit(type, pop, emd, extraSG, inflation);
  document.getElementById('calcLimit').textContent = limit > 0 ? limit.toLocaleString() + 'Ïõê' : 'Ïù∏Íµ¨ÏàòÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî';
  document.getElementById('limitLabel').textContent = limit > 0 ? 'Î≤ïÏ†ï ÌïúÎèÑ: ' + (limit/10000).toLocaleString() + 'ÎßåÏõê' : '-';

  // Breakdown
  if (pop > 0) {
    let base = f.base;
    if (f.baseLow && f.popThreshold && pop < f.popThreshold) base = f.baseLow;
    let breakdown = `<div style="margin-bottom:8px;"><strong>Í∏∞Î≥∏Ïï°:</strong> ${base.toLocaleString()}Ïõê</div>`;
    breakdown += `<div style="margin-bottom:8px;"><strong>Ïù∏Íµ¨(${pop.toLocaleString()}Î™Ö) √ó ${f.perPop}Ïõê:</strong> ${(pop * f.perPop).toLocaleString()}Ïõê</div>`;
    if (f.perEMD > 0 && emd > 0) {
      breakdown += `<div style="margin-bottom:8px;"><strong>ÏùçÎ©¥Îèô(${emd}Í∞ú) √ó ${(f.perEMD/10000).toLocaleString()}ÎßåÏõê:</strong> ${(emd * f.perEMD).toLocaleString()}Ïõê</div>`;
    }
    if (type === 'assembly' && extraSG > 0) {
      breakdown += `<div style="margin-bottom:8px;"><strong>Ï∂îÍ∞Ä ÏãúÍµ∞Íµ¨(${extraSG}Í∞ú) √ó 1,500ÎßåÏõê:</strong> ${(extraSG * 15000000).toLocaleString()}Ïõê</div>`;
    }
    if (inflation > 0) {
      breakdown += `<div style="margin-bottom:8px;"><strong>Î¨ºÍ∞ÄÎ≥ÄÎèôÎ•† Ï†ÅÏö© (+${inflation}%):</strong> Ï†ÅÏö©</div>`;
    }
    breakdown += `<div style="border-top:2px solid var(--primary); padding-top:8px; font-weight:700; color:var(--primary);">Ï†úÌïúÏï° Ìï©Í≥Ñ: ${limit.toLocaleString()}Ïõê</div>`;
    document.getElementById('calcBreakdownFormula').innerHTML = breakdown;
  } else {
    document.getElementById('calcBreakdownFormula').innerHTML = '<p style="color:var(--gray-500);">Ïù∏Íµ¨ÏàòÎ•º ÏûÖÎ†•ÌïòÎ©¥ ÏÇ∞Ï∂ú ÎÇ¥Ïó≠Ïù¥ ÌëúÏãúÎê©ÎãàÎã§.</p>';
  }

  // Deposit info
  const depositMap = {
    city_council: { dep: 2000000, name: 'ÏûêÏπòÍµ¨¬∑Ïãú¬∑Íµ∞ÏùòÏõê' },
    metro_council: { dep: 3000000, name: 'Ïãú¬∑ÎèÑÏùòÏõê' },
    city_mayor: { dep: 10000000, name: 'ÏûêÏπòÍµ¨¬∑Ïãú¬∑Íµ∞Ïùò Ïû•' },
    governor_metro: { dep: 50000000, name: 'Ïãú¬∑ÎèÑÏßÄÏÇ¨' },
    governor_do: { dep: 50000000, name: 'Ïãú¬∑ÎèÑÏßÄÏÇ¨' },
    assembly: { dep: 15000000, name: 'Íµ≠ÌöåÏùòÏõê' },
    president: { dep: 300000000, name: 'ÎåÄÌÜµÎ†π' }
  };
  const d = depositMap[type];
  document.getElementById('depositInfo').innerHTML = `
    <table class="info-table" style="font-size:13px;">
      <tr><td style="font-weight:600;">Í∏∞ÌÉÅÍ∏à</td><td>${d.dep.toLocaleString()}Ïõê</td></tr>
      <tr><td style="font-weight:600;">ÏòàÎπÑÌõÑÎ≥¥ Í∏∞ÌÉÅÍ∏à (20%)</td><td>${(d.dep * 0.2).toLocaleString()}Ïõê</td></tr>
      <tr><td style="font-weight:600;">29ÏÑ∏ Ïù¥Ìïò Í∞êÏï° (50%)</td><td>${(d.dep * 0.5).toLocaleString()}Ïõê</td></tr>
      <tr><td style="font-weight:600;">30~39ÏÑ∏ Í∞êÏï° (70%)</td><td>${(d.dep * 0.7).toLocaleString()}Ïõê</td></tr>
    </table>
  `;

  // Expense calc
  const inputs = document.querySelectorAll('.expense-input');
  let total = 0;
  const items = [];
  inputs.forEach(inp => {
    const val = parseInt(inp.value) || 0;
    if (val > 0) items.push({ name: inp.dataset.name, value: val });
    total += val;
  });

  document.getElementById('totalCost').textContent = total.toLocaleString() + 'Ïõê';

  if (limit > 0) {
    const pct = Math.min((total / limit) * 100, 100);
    const bar = document.getElementById('limitBar');
    bar.style.width = pct + '%';
    bar.style.background = total > limit ? 'var(--danger)' : pct > 80 ? 'var(--accent)' : 'var(--success)';
    const status = document.getElementById('limitStatus');
    if (total > limit) {
      status.textContent = '‚ö†Ô∏è Î≤ïÏ†ï ÌïúÎèÑ Ï¥àÍ≥º! (' + ((total - limit) / 10000).toLocaleString() + 'ÎßåÏõê Ï¥àÍ≥º)';
      status.style.color = 'var(--danger)';
    } else {
      status.textContent = 'Î≤ïÏ†ï ÌïúÎèÑ Ïù¥ÎÇ¥ (ÏûîÏó¨: ' + ((limit - total) / 10000).toLocaleString() + 'ÎßåÏõê)';
      status.style.color = 'var(--success)';
    }
  } else {
    document.getElementById('limitStatus').textContent = 'Ïù∏Íµ¨ÏàòÎ•º ÏûÖÎ†•ÌïòÎ©¥ ÌïúÎèÑÍ∞Ä Í≥ÑÏÇ∞Îê©ÎãàÎã§';
    document.getElementById('limitStatus').style.color = 'var(--gray-500)';
    document.getElementById('limitBar').style.width = '0%';
  }

  const bd = document.getElementById('expenseBreakdown');
  if (items.length === 0) {
    bd.innerHTML = '<p style="color:var(--gray-500); font-size:14px;">ÎπÑÏö©ÏùÑ ÏûÖÎ†•ÌïòÎ©¥ Ìï≠Î™©Î≥Ñ ÎπÑÏ§ëÏù¥ ÌëúÏãúÎê©ÎãàÎã§.</p>';
    return;
  }
  const colors = ['#1a56db','#f59e0b','#10b981','#ef4444','#8b5cf6','#ec4899','#06b6d4','#84cc16'];
  bd.innerHTML = items.sort((a,b) => b.value - a.value).map((item, i) => {
    const p = total > 0 ? ((item.value / total) * 100).toFixed(1) : 0;
    return `<div class="expense-item"><div style="flex:1;"><div style="display:flex;justify-content:space-between;"><span style="font-weight:600;">${item.name}</span><span style="font-size:14px;color:var(--gray-500);">${item.value.toLocaleString()}Ïõê (${p}%)</span></div><div class="expense-bar"><div class="expense-bar-fill" style="width:${p}%;background:${colors[i%colors.length]};"></div></div></div></div>`;
  }).join('');
}

// ========== TIMELINE ==========
// ========== REGULATIONS ==========
const regCategories = [
  { key:'sms', icon:'üí¨', title:'Î¨∏ÏûêÎ©îÏãúÏßÄ (SMS¬∑MMS)' },
  { key:'phone', icon:'üìû', title:'Ï†ÑÌôî (ÏùåÏÑ±ÌÜµÌôî)' },
  { key:'internet', icon:'üåê', title:'Ïù∏ÌÑ∞ÎÑ∑¬∑SNS' },
  { key:'print', icon:'üìÑ', title:'Ïù∏ÏáÑÎ¨º¬∑ÌôçÎ≥¥Î¨º' },
  { key:'banner', icon:'üè≥Ô∏è', title:'ÌòÑÏàòÎßâ¬∑Í∞ÑÌåê¬∑Ïñ¥Íπ®Îù†' },
  { key:'media', icon:'üì∫', title:'Î∞©ÏÜ°¬∑Ïñ∏Î°†¬∑Í¥ëÍ≥†' },
  { key:'rally', icon:'üé§', title:'ÏßëÌöå¬∑Ïó∞ÏÑ§¬∑ÎåÄÎã¥' },
  { key:'visit', icon:'üö™', title:'Ìò∏Î≥ÑÎ∞©Î¨∏' },
  { key:'donation', icon:'üéÅ', title:'Í∏∞Î∂ÄÌñâÏúÑ' },
  { key:'poll', icon:'üìä', title:'Ïó¨Î°†Ï°∞ÏÇ¨' }
];

const regData = {
  sms: {
    normal: [
      { s:'prohibited', t:'ÏÑ†Í±∞Ïö¥Îèô Î™©Ï†Å Î¨∏Ïûê Ï†ÑÏÜ° Í∏àÏßÄ', d:'ÏÑ†Í±∞Ïö¥ÎèôÍ∏∞Í∞Ñ Ï†ÑÏóêÎäî ÏÑ†Í±∞Ïö¥ÎèôÏùÑ Ìï† Ïàò ÏóÜÏúºÎØÄÎ°ú, ÌäπÏ†ï ÌõÑÎ≥¥Î•º ÏßÄÏßÄ¬∑Î∞òÎåÄÌïòÎäî ÎÇ¥Ïö©Ïùò Î¨∏ÏûêÎ©îÏãúÏßÄ Ï†ÑÏÜ°ÏùÄ Í∏àÏßÄÎê©ÎãàÎã§.', law:'Ï†ú59Ï°∞¬∑Ï†ú254Ï°∞', pen:'2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'‚ùå "Îã§Ïùå ÏÑ†Í±∞ÏóêÏÑú Íº≠ ‚óã‚óã‚óãÎ•º ÎΩëÏïÑÏ£ºÏÑ∏Ïöî!" ‚Üí ÏÇ¨Ï†ÑÏÑ†Í±∞Ïö¥ÎèôÏúºÎ°ú ÏúÑÎ≤ï\n‚úÖ "ÏÉàÌï¥ Î≥µ ÎßéÏù¥ Î∞õÏúºÏÑ∏Ïöî. - ‚óã‚óã‚óã ÎìúÎ¶º" ‚Üí ÌÜµÏÉÅÏ†Å Ïù∏ÏÇ¨Î°ú ÌóàÏö©' },
      { s:'conditional', t:'ÏùºÏÉÅÏ†Å ÏïàÎ∂Ä¬∑Ïù∏ÏÇ¨ Î¨∏Ïûê Í∞ÄÎä•', d:'ÌäπÏ†ï ÌõÑÎ≥¥ ÏßÄÏßÄ¬∑Î∞òÎåÄ ÎÇ¥Ïö©Ïù¥ ÏóÜÎäî ÌÜµÏÉÅÏ†ÅÏù∏ Ïù∏ÏÇ¨ Î¨∏ÏûêÎäî ÏÑ†Í±∞Ïö¥ÎèôÏúºÎ°ú Î≥¥ÏßÄ ÏïäÏäµÎãàÎã§.', law:'Ï†ú58Ï°∞‚ë†', pen:'', ex:'‚úÖ "Ï∂îÏÑù Ïó∞Ìú¥ Ïûò Î≥¥ÎÇ¥ÏÑ∏Ïöî. ÏãúÏùòÏõê ‚óã‚óã‚óã Ïò¨Î¶º" ‚Üí ÏùòÎ°ÄÏ†Å Ïù∏ÏÇ¨Î°ú ÌóàÏö©\n‚ùå "Ï∂îÏÑù Ïó∞Ìú¥ Ïûò Î≥¥ÎÇ¥ÏÑ∏Ïöî. Îã§Ïùå ÏÑ†Í±∞ Ï∂úÎßàÌïòÎãà ÏßÄÏßÄ Î∂ÄÌÉÅ!" ‚Üí ÏÇ¨Ï†ÑÏÑ†Í±∞Ïö¥Îèô' }
    ],
    pre: [
      { s:'conditional', t:'ÏûêÎèô ÎèôÎ≥¥ÌÜµÏã†(ÎåÄÎüâ Î¨∏Ïûê) Ï†ÑÏÜ° Í∞ÄÎä•', d:'ÏòàÎπÑÌõÑÎ≥¥Ïûê Î≥∏Ïù∏ Î™ÖÏùòÎ°ú Î¨∏ÏûêÎ©îÏãúÏßÄÎ•º Ï†ÑÏÜ°Ìï† Ïàò ÏûàÏäµÎãàÎã§. Î∞úÏã†Î≤àÌò∏Î•º ÏÑ†Í¥ÄÏúÑÏóê ÏÇ¨Ï†Ñ Ïã†Í≥†Ìï¥Ïïº ÌïòÎ©∞, ÏàòÏã†Í±∞Î∂Ä ÏùòÏÇ¨ ÌëúÏãú Ïãú Ï¶âÏãú Ï§ëÎã®Ìï¥Ïïº Ìï©ÎãàÎã§.', law:'Ï†ú60Ï°∞Ïùò3‚ë†3Ìò∏¬∑Ï†ú82Ï°∞Ïùò5', pen:'', ex:'‚úÖ "ÏïàÎÖïÌïòÏÑ∏Ïöî. Ï†ú9Ìöå ÏßÄÎ∞©ÏÑ†Í±∞ ÏòàÎπÑÌõÑÎ≥¥Ïûê ‚óã‚óã‚óãÏûÖÎãàÎã§. Ïö∞Î¶¨ ÎèôÎÑ§ Ï£ºÏ∞® Î¨∏Ï†ú, Ï†úÍ∞Ä Ìï¥Í≤∞ÌïòÍ≤†ÏäµÎãàÎã§." ‚Üí Ïã†Í≥†Îêú Î≤àÌò∏Î°ú Î∞úÏÜ° Ïãú Ï†ÅÎ≤ï\n‚ùå ÏÑ†Í±∞ÏÇ¨Î¨¥ÏõêÏù¥ ÏûêÍ∏∞ Ìï∏ÎìúÌè∞ÏúºÎ°ú ÎåÄÎüâ Î¨∏Ïûê Î∞úÏÜ° ‚Üí ÏòàÎπÑÌõÑÎ≥¥Ïûê Î≥∏Ïù∏ Î™ÖÏùò ÏïÑÎãàÎØÄÎ°ú ÏúÑÎ≤ï' },
      { s:'prohibited', t:'ÌÉÄÏù∏ Î™ÖÏùò¬∑ÎØ∏Ïã†Í≥† Î≤àÌò∏ Î∞úÏÜ° Í∏àÏßÄ', d:'Î∞òÎìúÏãú ÏòàÎπÑÌõÑÎ≥¥Ïûê Î≥∏Ïù∏ Î™ÖÏùòÏùò Ïã†Í≥†Îêú Ï†ÑÌôîÎ≤àÌò∏Î°úÎßå Î∞úÏÜ°Ìï¥Ïïº Ìï©ÎãàÎã§.', law:'Ï†ú82Ï°∞Ïùò5', pen:'2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'‚ùå ÏßÄÏù∏ÏóêÍ≤å Î∂ÄÌÉÅÌïòÏó¨ ÏßÄÏù∏ Î™ÖÏùò Ï†ÑÌôîÎ°ú ÏÑ†Í±∞ Î¨∏Ïûê Î∞úÏÜ° ‚Üí ÏúÑÎ≤ï' },
      { s:'prohibited', t:'ÏàòÏã†Í±∞Î∂Ä Î¨¥Ïãú Ïãú ÏúÑÎ≤ï', d:'ÏàòÏã†ÏûêÍ∞Ä ÏàòÏã†Í±∞Î∂Ä ÏùòÏÇ¨Î•º ÌëúÏãúÌïòÎ©¥ Ï¶âÏãú Ï†ÑÏÜ°ÏùÑ Ï§ëÎã®Ìï¥Ïïº Ìï©ÎãàÎã§.', law:'Ï†ú82Ï°∞Ïùò5‚ë°', pen:'2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'‚ùå ÏàòÏã†Í±∞Î∂ÄÎ•º ÎàÑÎ•∏ Ïú†Í∂åÏûêÏóêÍ≤å Í≥ÑÏÜç Î¨∏Ïûê Î∞úÏÜ° ‚Üí ÏúÑÎ≤ï' }
    ],
    main: [
      { s:'conditional', t:'ÌõÑÎ≥¥Ïûê Î™ÖÏùò ÎåÄÎüâ Î¨∏Ïûê Ï†ÑÏÜ° Í∞ÄÎä•', d:'ÌõÑÎ≥¥Ïûê Î≥∏Ïù∏ Î™ÖÏùòÎ°ú ÌöüÏàò Ï†úÌïú ÏóÜÏù¥ Î¨∏ÏûêÎ•º Ï†ÑÏÜ°Ìï† Ïàò ÏûàÏäµÎãàÎã§. Ïã†Í≥†Îêú Î∞úÏã†Î≤àÌò∏ ÏÇ¨Ïö© ÌïÑÏàò.', law:'Ï†ú82Ï°∞Ïùò5‚ë†', pen:'', ex:'‚úÖ "Í∏∞Ìò∏ 2Î≤à ‚óã‚óã‚óãÏûÖÎãàÎã§. Íπ®ÎÅóÌïú ÏÑ†Í±∞, Î∞ùÏùÄ ÏßÄÏó≠ÏÇ¨ÌöåÎ•º ÎßåÎì§Í≤†ÏäµÎãàÎã§. 6Ïõî 3Ïùº Ìà¨Ìëú Î∂ÄÌÉÅÎìúÎ¶ΩÎãàÎã§!" ‚Üí Ï†ÅÎ≤ï' },
      { s:'prohibited', t:'ÏÑ†Í±∞Ïùº ÎãπÏùº Î¨∏Ïûê Ï†ÑÏÜ° Í∏àÏßÄ', d:'ÏÑ†Í±∞ÏùºÏóêÎäî ÏùºÏ≤¥Ïùò ÏÑ†Í±∞Ïö¥ÎèôÏù¥ Í∏àÏßÄÎêòÎØÄÎ°ú, Ìà¨Ìëú ÎèÖÎ†§ Î¨∏ÏûêÎèÑ Í∏àÏßÄÎê©ÎãàÎã§.', law:'Ï†ú59Ï°∞', pen:'3ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 600ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'‚ùå ÏÑ†Í±∞Ïùº ÏïÑÏπ® "Ïò§Îäò Íº≠ Í∏∞Ìò∏ 2Î≤à Ï∞çÏñ¥Ï£ºÏÑ∏Ïöî!" ‚Üí ÏÑ†Í±∞Ïùº ÏÑ†Í±∞Ïö¥ÎèôÏúºÎ°ú ÏúÑÎ≤ï' }
    ]
  },
  phone: {
    normal: [
      { s:'prohibited', t:'ÏÑ†Í±∞Ïö¥Îèô Î™©Ï†Å Ï†ÑÌôî Í∏àÏßÄ', d:'ÏÑ†Í±∞Ïö¥ÎèôÍ∏∞Í∞Ñ Ï†ÑÏóêÎäî Ï†ÑÌôîÎ•º Ïù¥Ïö©Ìïú ÏÑ†Í±∞Ïö¥ÎèôÏù¥ Í∏àÏßÄÎê©ÎãàÎã§.', law:'Ï†ú59Ï°∞', pen:'2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'‚ùå ÏÑ†Í±∞ 6Í∞úÏõî Ï†Ñ ÏßÄÏù∏ÏóêÍ≤å Ï†ÑÌôîÌïòÏó¨ "Îã§Ïùå ÏÑ†Í±∞ ‚óã‚óã‚óã ÌõÑÎ≥¥ ÏßÄÏßÄÌï¥Ï£ºÏÑ∏Ïöî" ‚Üí ÏÇ¨Ï†ÑÏÑ†Í±∞Ïö¥Îèô' },
      { s:'conditional', t:'ÏùºÏÉÅÏ†Å ÌÜµÌôî Í∞ÄÎä•', d:'ÏÑ†Í±∞ÏôÄ Î¨¥Í¥ÄÌïú ÏùºÏÉÅÏ†Å ÌÜµÌôîÎäî ÌóàÏö©Îê©ÎãàÎã§.', law:'Ï†ú58Ï°∞‚ë†', pen:'', ex:'‚úÖ ÏÑ§ Î™ÖÏ†à Ïù∏ÏÇ¨ Ï†ÑÌôî Ï§ë ÏùòÏ†ïÌôúÎèô ÏïàÎÇ¥ ‚Üí ÌÜµÏÉÅÏ†Å ÏßÅÎ¨¥ÌôúÎèôÏúºÎ°ú ÌóàÏö©' }
    ],
    pre: [
      { s:'conditional', t:'ÏòàÎπÑÌõÑÎ≥¥Ïûê¬∑Î∞∞Ïö∞ÏûêÏùò ÏßÅÏ†ë Ï†ÑÌôî Í∞ÄÎä•', d:'ÏòàÎπÑÌõÑÎ≥¥Ïûê ÎòêÎäî Í∑∏ Î∞∞Ïö∞ÏûêÍ∞Ä ÏßÅÏ†ë Ïú†Í∂åÏûêÏóêÍ≤å Ï†ÑÌôîÌïòÏó¨ ÏßÄÏßÄÎ•º Ìò∏ÏÜåÌï† Ïàò ÏûàÏäµÎãàÎã§.', law:'Ï†ú60Ï°∞Ïùò3‚ë†3Ìò∏', pen:'', ex:'‚úÖ ÏòàÎπÑÌõÑÎ≥¥ÏûêÍ∞Ä Ïú†Í∂åÏûêÏóêÍ≤å ÏßÅÏ†ë Ï†ÑÌôîÌïòÏó¨ "ÏïàÎÖïÌïòÏÑ∏Ïöî, ÏòàÎπÑÌõÑÎ≥¥ ‚óã‚óã‚óãÏûÖÎãàÎã§. ÏßÄÏßÄ Î∂ÄÌÉÅÎìúÎ¶ΩÎãàÎã§" ‚Üí Ï†ÅÎ≤ï\n‚ùå ÏÑ†Í±∞ÏÇ¨Î¨¥ÏõêÏù¥ Ïú†Í∂åÏûêÏóêÍ≤å Ï†ÑÌôîÌïòÏó¨ ÏßÄÏßÄ Ìò∏ÏÜå ‚Üí ÌóàÏö© Î≤îÏúÑ Ï¥àÍ≥º' },
      { s:'prohibited', t:'ÏûêÎèô ÏùåÏÑ± Ï†ÑÌôî(Î°úÎ≥¥ÏΩú) Í∏àÏßÄ', d:'ÏòàÎπÑÌõÑÎ≥¥Ïûê Í∏∞Í∞ÑÏóêÎäî ÏûêÎèôÏÜ°Ïã†Ïû•ÏπòÎ•º Ïù¥Ïö©Ìïú ÏùåÏÑ± Ï†ÑÌôîÍ∞Ä Í∏àÏßÄÎê©ÎãàÎã§.', law:'Ï†ú82Ï°∞Ïùò5', pen:'2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'‚ùå ÎÖπÏùåÎêú ÏùåÏÑ±ÏùÑ ARS ÏãúÏä§ÌÖúÏúºÎ°ú ÏûêÎèô Î∞úÏã† ‚Üí ÏòàÎπÑÌõÑÎ≥¥ Í∏∞Í∞ÑÏóêÎäî ÏúÑÎ≤ï' }
    ],
    main: [
      { s:'conditional', t:'ÌõÑÎ≥¥Ïûê¬∑ÏÑ†Í±∞Ïö¥ÎèôÏõêÏùò ÏßÅÏ†ë Ï†ÑÌôî Í∞ÄÎä•', d:'ÌõÑÎ≥¥Ïûê, Î∞∞Ïö∞Ïûê, ÏÑ†Í±∞ÏÇ¨Î¨¥Ïõê Îì± Î≤ïÏ†ï ÏÑ†Í±∞Ïö¥ÎèôÏõêÏù¥ ÏßÅÏ†ë Ï†ÑÌôîÎ°ú ÏßÄÏßÄÎ•º Ìò∏ÏÜåÌï† Ïàò ÏûàÏäµÎãàÎã§.', law:'Ï†ú82Ï°∞Ïùò5(Ï†ÑÌôîÎ•º Ïù¥Ïö©Ìïú ÏÑ†Í±∞Ïö¥Îèô)', pen:'', ex:'‚úÖ ÏÑ†Í±∞ÏÇ¨Î¨¥ÏõêÏù¥ Ïú†Í∂åÏûêÏóêÍ≤å Ï†ÑÌôîÌïòÏó¨ "Í∏∞Ìò∏ 2Î≤à ‚óã‚óã‚óã ÌõÑÎ≥¥ ÏßÄÏßÄ Î∂ÄÌÉÅÎìúÎ¶ΩÎãàÎã§" ‚Üí Î≥∏ÏÑ†Í±∞ Í∏∞Í∞ÑÏóêÎäî Ï†ÅÎ≤ï' },
      { s:'conditional', t:'ÏûêÎèô ÏùåÏÑ± Ï†ÑÌôî(Î°úÎ≥¥ÏΩú) Í∞ÄÎä• (ÏãúÍ∞Ñ Ï†úÌïú)', d:'ÌõÑÎ≥¥Ïûê Î™ÖÏùòÎ°ú ÏûêÎèôÏÜ°Ïã†Ïû•ÏπòÎ•º Ïù¥Ïö©Ìïú ÏùåÏÑ± ÏÜ°Ï∂úÏù¥ Í∞ÄÎä•Ìï©ÎãàÎã§. Îã®, Ïò§Ï†Ñ 7Ïãú~Ïò§ÌõÑ 9ÏãúÏóêÎßå Í∞ÄÎä•Ìï©ÎãàÎã§.', law:'Ï†ú82Ï°∞Ïùò5', pen:'', ex:'‚úÖ Ïò§Ï†Ñ 9ÏãúÏóê ARSÎ°ú ÌõÑÎ≥¥ Ï†ïÍ≤¨ ÏïàÎÇ¥ ‚Üí Ï†ÅÎ≤ï\n‚ùå Î∞§ 10ÏãúÏóê ARS Ï†ÑÌôî Î∞úÏã† ‚Üí ÏúÑÎ≤ï' },
      { s:'prohibited', t:'ÏÑ†Í±∞Ïùº ÎãπÏùº Ï†ÑÌôî ÏÑ†Í±∞Ïö¥Îèô Í∏àÏßÄ', d:'ÏÑ†Í±∞ÏùºÏóêÎäî ÏùºÏ≤¥Ïùò ÏÑ†Í±∞Ïö¥ÎèôÏù¥ Í∏àÏßÄÎê©ÎãàÎã§.', law:'Ï†ú59Ï°∞', pen:'3ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 600ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'' }
    ]
  },
  internet: {
    normal: [
      { s:'allowed', t:'Ïù∏ÌÑ∞ÎÑ∑¬∑SNS¬∑Î∏îÎ°úÍ∑∏ ÏûêÏú† Ïù¥Ïö© Í∞ÄÎä•', d:'ÎàÑÍµ¨Îì†ÏßÄ Ïù∏ÌÑ∞ÎÑ∑ ÌôàÌéòÏù¥ÏßÄ, Î∏îÎ°úÍ∑∏, SNS, Í≤åÏãúÌåê Îì±ÏóêÏÑú ÏÑ†Í±∞Ïóê Í¥ÄÌïú ÏùòÍ≤¨ÏùÑ ÏûêÏú†Î°≠Í≤å Í≤åÏãúÌï† Ïàò ÏûàÏäµÎãàÎã§. Ïù¥Îäî ÏÉÅÏãú ÌóàÏö©Îê©ÎãàÎã§.', law:'Ï†ú82Ï°∞Ïùò7‚ë†', pen:'', ex:'‚úÖ ÌéòÏù¥Ïä§Î∂ÅÏóê "Ïù¥Î≤à ÏßÄÎ∞©ÏÑ†Í±∞ÏóêÏÑúÎäî ÍµêÌÜµ Í≥µÏïΩÏù¥ Ï¢ãÏùÄ ÌõÑÎ≥¥Î•º ÎΩëÏïÑÏïº ÌïúÎã§"Í≥† ÏûëÏÑ± ‚Üí Ï†ÅÎ≤ï\n‚úÖ Î∏îÎ°úÍ∑∏Ïóê ÌòÑÏßÅ ÏùòÏõêÏùò ÏùòÏ†ïÌôúÎèôÏùÑ ÏÜåÍ∞úÌïòÎäî Í∏Ä ÏûëÏÑ± ‚Üí Ï†ÅÎ≤ï' },
      { s:'allowed', t:'Ïù¥Î©îÏùº Ï†ÑÏÜ° Í∞ÄÎä•', d:'Ï†ÑÏûêÏö∞Ìé∏ÏùÑ Ïù¥Ïö©Ìïú ÏÑ†Í±∞ Í¥ÄÎ†® ÏùòÍ≤¨ Ï†ÑÎã¨ÏùÄ ÏÉÅÏãú Í∞ÄÎä•Ìï©ÎãàÎã§.', law:'Ï†ú82Ï°∞Ïùò4‚ë†', pen:'', ex:'' },
      { s:'prohibited', t:'ÌóàÏúÑÏÇ¨Ïã§¬∑ÎπÑÎ∞© Í∏àÏßÄ', d:'ÌõÑÎ≥¥ÏûêÏóê ÎåÄÌïú ÌóàÏúÑÏÇ¨Ïã§ Ïú†Ìè¨ Î∞è ÎπÑÎ∞©ÏùÄ Ïñ¥Îäê ÏãúÍ∏∞Î•º Î∂àÎ¨∏ÌïòÍ≥† Í∏àÏßÄÎê©ÎãàÎã§.', law:'Ï†ú250Ï°∞¬∑Ï†ú251Ï°∞', pen:'5ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 3,000ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'‚ùå SNSÏóê "‚óã‚óã‚óã ÌõÑÎ≥¥Îäî Ï†ÑÍ≥ºÍ∞Ä ÏûàÎã§" (ÌóàÏúÑ) ‚Üí ÌóàÏúÑÏÇ¨Ïã§Í≥µÌëúÏ£Ñ\n‚ùå Î∏îÎ°úÍ∑∏Ïóê "‚óã‚óã‚óãÎäî Î¨¥Îä•Ìïú Ïù∏Í∞Ñ" ‚Üí ÌõÑÎ≥¥Ïûê ÎπÑÎ∞©Ï£ÑÏóê Ìï¥ÎãπÌï† Ïàò ÏûàÏùå' }
    ],
    pre: [
      { s:'allowed', t:'Ïù∏ÌÑ∞ÎÑ∑¬∑SNS ÏûêÏú† Ïù¥Ïö© Í∞ÄÎä•', d:'ÏòàÎπÑÌõÑÎ≥¥ÏûêÎäî Ïù∏ÌÑ∞ÎÑ∑ ÌôàÌéòÏù¥ÏßÄ, SNS, Î∏îÎ°úÍ∑∏, Ïú†ÌäúÎ∏å Îì±ÏùÑ ÏûêÏú†Î°≠Í≤å Ïù¥Ïö©ÌïòÏó¨ ÏûêÏã†ÏùÑ ÏïåÎ¶¥ Ïàò ÏûàÏäµÎãàÎã§.', law:'Ï†ú82Ï°∞Ïùò7‚ë†¬∑Ï†ú60Ï°∞Ïùò3', pen:'', ex:'‚úÖ Ïú†ÌäúÎ∏åÏóê ÏòàÎπÑÌõÑÎ≥¥ Ï†ïÏ±Ö ÏÜåÍ∞ú ÏòÅÏÉÅ ÏóÖÎ°úÎìú ‚Üí Ï†ÅÎ≤ï\n‚úÖ Ïù∏Ïä§ÌÉÄÍ∑∏Îû®Ïóê ÏßÄÏó≠ ÌòÑÏïà Í¥ÄÎ†® Í≤åÏãúÎ¨º Ïò¨Î¶¨Í∏∞ ‚Üí Ï†ÅÎ≤ï' },
      { s:'prohibited', t:'Ïù∏ÌÑ∞ÎÑ∑ Ïú†Î£å Í¥ëÍ≥† Í∏àÏßÄ', d:'Ïù∏ÌÑ∞ÎÑ∑ Ïñ∏Î°†ÏÇ¨ ÌôàÌéòÏù¥ÏßÄÏóê Ïú†Î£å Í¥ëÍ≥†Î•º Í≤åÏû¨Ìï† Ïàò ÏóÜÏäµÎãàÎã§.', law:'Ï†ú82Ï°∞Ïùò7‚ë¢', pen:'2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'‚ùå ÎÑ§Ïù¥Î≤Ñ Îâ¥Ïä§ Î∞∞ÎÑàÏóê Ïú†Î£å Í¥ëÍ≥†Î°ú ÏòàÎπÑÌõÑÎ≥¥ ÌôçÎ≥¥ ‚Üí ÏúÑÎ≤ï\n‚úÖ Î≥∏Ïù∏ SNSÏóê ÏûêÎπÑÎ°ú ÌôçÎ≥¥ Í≤åÏãúÎ¨º Ïò¨Î¶¨Í∏∞ ‚Üí Ïú†Î£å Í¥ëÍ≥† ÏïÑÎãàÎØÄÎ°ú Ï†ÅÎ≤ï' },
      { s:'prohibited', t:'ÌóàÏúÑÏÇ¨Ïã§¬∑ÎπÑÎ∞© Í∏àÏßÄ', d:'ÏÉÅÏãú Í∏àÏßÄ ÏÇ¨Ìï≠ÏûÖÎãàÎã§.', law:'Ï†ú250Ï°∞¬∑Ï†ú251Ï°∞', pen:'5ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 3,000ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'' }
    ],
    main: [
      { s:'allowed', t:'Ïù∏ÌÑ∞ÎÑ∑¬∑SNS ÏûêÏú† Ïù¥Ïö© Í∞ÄÎä•', d:'ÌõÑÎ≥¥Ïûê Î∞è ÏùºÎ∞òÏù∏ Î™®Îëê Ïù∏ÌÑ∞ÎÑ∑ÏùÑ Ïù¥Ïö©Ìïú ÏÑ†Í±∞Ïö¥ÎèôÏù¥ Í∞ÄÎä•Ìï©ÎãàÎã§.', law:'Ï†ú82Ï°∞Ïùò7‚ë†', pen:'', ex:'‚úÖ ÌõÑÎ≥¥ÏûêÍ∞Ä ÏÑ†Í±∞ Í≥µÏïΩÏùÑ Ïπ¥Ïπ¥Ïò§ÌÜ° Ïò§ÌîàÏ±ÑÌåÖÏóêÏÑú ÏÜåÍ∞ú ‚Üí Ï†ÅÎ≤ï\n‚úÖ Ïú†Í∂åÏûêÍ∞Ä SNSÏóê "‚óã‚óã‚óã ÌõÑÎ≥¥Î•º ÏßÄÏßÄÌï©ÎãàÎã§" Í≤åÏãú ‚Üí Ï†ÅÎ≤ï' },
      { s:'conditional', t:'Ïù∏ÌÑ∞ÎÑ∑ Í¥ëÍ≥† Í∞ÄÎä• (ÌõÑÎ≥¥Ïûê¬∑Ï†ïÎãπÎßå)', d:'ÌõÑÎ≥¥Ïûê ÎòêÎäî Ï†ïÎãπ Î™ÖÏùòÎ°úÎßå Ïù∏ÌÑ∞ÎÑ∑ Í¥ëÍ≥†Î•º Í≤åÏû¨Ìï† Ïàò ÏûàÏäµÎãàÎã§.', law:'Ï†ú82Ï°∞Ïùò7‚ë°‚ë¢', pen:'', ex:'‚úÖ ÌõÑÎ≥¥ÏûêÍ∞Ä ÎÑ§Ïù¥Î≤Ñ Î∞∞ÎÑà Í¥ëÍ≥†Î°ú Í≥µÏïΩ ÌôçÎ≥¥ ‚Üí Î≥∏ÏÑ†Í±∞Í∏∞Í∞Ñ Ï†ÅÎ≤ï\n‚ùå ÌõÑÎ≥¥Ïûê ÏßÄÏßÄÏûêÍ∞Ä Í∞úÏù∏ ÎèàÏúºÎ°ú Ïù∏ÌÑ∞ÎÑ∑ Í¥ëÍ≥† Í≤åÏû¨ ‚Üí ÏúÑÎ≤ï' },
      { s:'prohibited', t:'ÏÑ†Í±∞Ïùº ÎãπÏùº Ïù∏ÌÑ∞ÎÑ∑ ÏÑ†Í±∞Ïö¥Îèô Í∏àÏßÄ', d:'ÏÑ†Í±∞ÏùºÏóêÎäî Ïù∏ÌÑ∞ÎÑ∑ÏùÑ Ïù¥Ïö©Ìïú ÏÑ†Í±∞Ïö¥ÎèôÎèÑ Í∏àÏßÄÎê©ÎãàÎã§.', law:'Ï†ú59Ï°∞', pen:'3ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 600ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'‚ùå Ìà¨ÌëúÏùºÏóê SNSÏóê "Í∏∞Ìò∏ 2Î≤à Ï∞çÏñ¥Ï£ºÏÑ∏Ïöî" Í≤åÏãú ‚Üí ÏúÑÎ≤ï' }
    ]
  },
  print: {
    normal: [
      { s:'prohibited', t:'ÏÑ†Í±∞Ïö¥ÎèôÏö© Ïù∏ÏáÑÎ¨º Î∞∞Î∂Ä¬∑Í≤åÏãú Í∏àÏßÄ', d:'ÏÑ†Í±∞Ïùº Ï†Ñ 180ÏùºÎ∂ÄÌÑ∞ ÏÑ†Í±∞ÏùºÍπåÏßÄ ÌäπÏ†ï ÌõÑÎ≥¥ÏûêÎ•º ÏßÄÏßÄ¬∑Î∞òÎåÄÌïòÎäî ÎÇ¥Ïö©Ïùò Î¨∏ÏÑú¬∑ÎèÑÌôî(Í∑∏Î¶º) Îì±ÏùÑ Î∞∞Î∂Ä¬∑Í≤åÏãú¬∑ÏÇ¥Ìè¨Ìï† Ïàò ÏóÜÏäµÎãàÎã§.', law:'Ï†ú93Ï°∞‚ë†', pen:'2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'‚ùå ÏÑ†Í±∞ 1ÎÖÑ Ï†Ñ "‚óã‚óã‚óãÎ•º ÏãúÏû•ÏúºÎ°ú!" Ï†ÑÎã®ÏßÄ Î∞∞Ìè¨ ‚Üí ÏÇ¨Ï†ÑÏÑ†Í±∞Ïö¥Îèô\n‚úÖ ÌòÑÏßÅ ÏùòÏõêÏùò ÏùòÏ†ïÎ≥¥Í≥†ÏÑú(Î≤ïÏ†ï Î≤îÏúÑ ÎÇ¥) Î∞úÏÜ° ‚Üí ÏßÅÎ¨¥ ÌôúÎèôÏúºÎ°ú ÌóàÏö©' },
      { s:'conditional', t:'ÌÜµÏÉÅÏ†Å Î™ÖÌï® Î∞∞Î∂Ä Í∞ÄÎä•', d:'ÏßÅÎ¨¥ Í¥ÄÎ†® ÌÜµÏÉÅÏ†Å Î™ÖÌï®(9cm√ó5cm Ïù¥ÎÇ¥)ÏùÄ Î∞∞Î∂Ä Í∞ÄÎä•Ìï©ÎãàÎã§.', law:'Ï†ú93Ï°∞‚ë†Îã®ÏÑú', pen:'', ex:'‚úÖ ÏùºÎ∞ò Î™ÖÌï® ÌÅ¨Í∏∞Ïùò Î™ÖÌï®Ïóê Ïù¥Î¶Ñ¬∑ÏßÅÏ±Ö¬∑Ïó∞ÎùΩÏ≤òÎßå Í∏∞Ïû¨ ‚Üí Ï†ÅÎ≤ï' }
    ],
    pre: [
      { s:'conditional', t:'ÏòàÎπÑÌõÑÎ≥¥Ïûê ÌôçÎ≥¥Î¨º Ïö∞Ìé∏ Î∞úÏÜ° Í∞ÄÎä•', d:'ÏÑ†Í±∞Íµ¨ Ïïà ÏÑ∏ÎåÄÏàòÏùò 10% Ïù¥Ìïò Î≤îÏúÑÏóêÏÑú ÏÑ†Í¥ÄÏúÑ ÌôïÏù∏Î∞õÏùÄ ÌôçÎ≥¥Î¨ºÏùÑ Ïö∞Ìé∏ÏúºÎ°ú Î∞úÏÜ°Ìï† Ïàò ÏûàÏäµÎãàÎã§. 2Ï¢Ö Ïù¥ÎÇ¥.', law:'Ï†ú60Ï°∞Ïùò3‚ë°', pen:'', ex:'‚úÖ ÏÑ†Í¥ÄÏúÑ ÌôïÏù∏Î∞õÏùÄ A4 1Ïû•ÏßúÎ¶¨ ÌôçÎ≥¥Î¨ºÏùÑ 1Îßå ÏÑ∏ÎåÄÏóê Ïö∞Ìé∏ Î∞úÏÜ° ‚Üí Ï†ÅÎ≤ï\n‚ùå ÏÑ†Í¥ÄÏúÑ ÌôïÏù∏ ÏóÜÏù¥ ÏûêÏ≤¥ Ï†úÏûë ÌôçÎ≥¥Î¨º Î∞∞Ìè¨ ‚Üí ÏúÑÎ≤ï' },
      { s:'conditional', t:'Î™ÖÌï®Ìòï Ïù∏ÏáÑÎ¨º ÏßÅÏ†ë Î∞∞Î∂Ä Í∞ÄÎä•', d:'9cm√ó5cm Ïù¥ÎÇ¥Ïùò Î™ÖÌï®Ìòï Ïù∏ÏáÑÎ¨ºÏùÑ ÏòàÎπÑÌõÑÎ≥¥ÏûêÍ∞Ä ÏßÅÏ†ë Î∞∞Î∂ÄÌï† Ïàò ÏûàÏäµÎãàÎã§.', law:'Ï†ú60Ï°∞Ïùò3‚ë†2Ìò∏', pen:'', ex:'‚úÖ ÏòàÎπÑÌõÑÎ≥¥ÏûêÍ∞Ä ÏãúÏû•ÏóêÏÑú ÏßÅÏ†ë Î™ÖÌï® Î∞∞Î∂Ä ‚Üí Ï†ÅÎ≤ï\n‚ùå ÏûêÏõêÎ¥âÏÇ¨ÏûêÍ∞Ä Î™ÖÌï®ÏùÑ ÎåÄÏã† Î∞∞Î∂Ä ‚Üí ÏòàÎπÑÌõÑÎ≥¥Ïûê Î≥∏Ïù∏Ïù¥ ÏïÑÎãàÎØÄÎ°ú ÏúÑÎ≤ïÌï† Ïàò ÏûàÏùå' },
      { s:'prohibited', t:'Î≤ïÏ†ï Ïô∏ Ïù∏ÏáÑÎ¨º Î∞∞Î∂Ä¬∑Í≤åÏãú Í∏àÏßÄ', d:'ÏÑ†Í¥ÄÏúÑ ÌôïÏù∏ÏùÑ Î∞õÏßÄ ÏïäÏùÄ Ïù∏ÏáÑÎ¨º, A4 Ïù¥ÏÉÅ ÌÅ¨Í∏∞Ïùò Ï†ÑÎã®ÏßÄ Îì±ÏùÄ Î∞∞Ìè¨Ìï† Ïàò ÏóÜÏäµÎãàÎã§.', law:'Ï†ú93Ï°∞', pen:'2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'‚ùå ÎåÄÌòï Ï†ÑÎã®ÏßÄÎ•º Í±∞Î¶¨ÏóêÏÑú ÏÇ¥Ìè¨ ‚Üí ÏúÑÎ≤ï' }
    ],
    main: [
      { s:'allowed', t:'ÏÑ†Í±∞Î≤ΩÎ≥¥ Í≤åÏãú (ÏÑ†Í¥ÄÏúÑ Í≤ΩÏú†)', d:'ÏÑ†Í¥ÄÏúÑÍ∞Ä ÏûëÏÑ±Ìïú ÏÑ†Í±∞Î≤ΩÎ≥¥Î•º Î≤ïÏ†ï Í≤åÏãúÏû•ÏÜåÏóê Í≤åÏãúÌï©ÎãàÎã§.', law:'Ï†ú64Ï°∞', pen:'', ex:'‚úÖ Ïùç¬∑Î©¥¬∑ÎèôÎßàÎã§ ÏßÄÏ†ïÎêú Í≤åÏãúÌåêÏóê Í≥µÏãù ÏÑ†Í±∞Î≤ΩÎ≥¥ Î∂ÄÏ∞© ‚Üí Ï†ÅÎ≤ï' },
      { s:'allowed', t:'ÏÑ†Í±∞Í≥µÎ≥¥ Î∞úÏÜ° (ÏÑ†Í¥ÄÏúÑ Í≤ΩÏú†)', d:'Ï±ÖÏûêÌòï¬∑Ï†ÑÎã®Ìòï ÏÑ†Í±∞Í≥µÎ≥¥Î•º ÏÑ†Í¥ÄÏúÑÎ•º ÌÜµÌï¥ Í∞Å ÏÑ∏ÎåÄÏóê Î∞úÏÜ°Ìï©ÎãàÎã§.', law:'Ï†ú65Ï°∞', pen:'', ex:'‚úÖ ÏÑ†Í¥ÄÏúÑÏóê Ï†úÏ∂úÌïú ÏÑ†Í±∞Í≥µÎ≥¥Í∞Ä Í∞Å Í∞ÄÏ†ïÏóê Ïö∞Ìé∏ Î∞∞Îã¨ ‚Üí Ï†ÅÎ≤ï' },
      { s:'conditional', t:'ÏÜåÌòïÏù∏ÏáÑÎ¨º Î∞∞Î∂Ä Í∞ÄÎä•', d:'ÌõÑÎ≥¥Ïûê ÎòêÎäî ÏÑ†Í±∞ÏÇ¨Î¨¥ÏõêÏù¥ ÏÜåÌòïÏù∏ÏáÑÎ¨º(Í∑úÍ≤© Ïù¥ÎÇ¥)ÏùÑ ÏßÅÏ†ë Î∞∞Î∂ÄÌï† Ïàò ÏûàÏäµÎãàÎã§.', law:'Ï†ú66Ï°∞', pen:'', ex:'‚úÖ ÌõÑÎ≥¥ÏûêÍ∞Ä Ïú†ÏÑ∏ ÌòÑÏû•ÏóêÏÑú Î≤ïÏ†ï Í∑úÍ≤© Ïù¥ÎÇ¥Ïùò Ï†ÑÎã® Î∞∞Î∂Ä ‚Üí Ï†ÅÎ≤ï' },
      { s:'prohibited', t:'Î≤ïÏ†ï Ïô∏ Ïù∏ÏáÑÎ¨º Î∞∞Î∂Ä¬∑ÏÇ¥Ìè¨ Í∏àÏßÄ', d:'Î≤ïÏóêÏÑú Ï†ïÌïòÏßÄ ÏïäÏùÄ Ïù∏ÏáÑÎ¨ºÏùò Î∞∞Ìè¨¬∑ÏÇ¥Ìè¨¬∑Í≤åÏãúÎäî ÏùºÏ≤¥ Í∏àÏßÄÎê©ÎãàÎã§.', law:'Ï†ú93Ï°∞', pen:'2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'‚ùå ÏûêÏ≤¥ Ï†úÏûë ÎåÄÌòï Ï†ÑÎã®ÏßÄÎ•º ÏïÑÌååÌä∏ Ïö∞Ìé∏Ìï®Ïóê Ìà¨ÏûÖ ‚Üí ÏúÑÎ≤ï' }
    ]
  },
  banner: {
    normal: [
      { s:'prohibited', t:'ÏÑ†Í±∞ Í¥ÄÎ†® ÌòÑÏàòÎßâ¬∑Í∞ÑÌåê ÏÑ§Ïπò Í∏àÏßÄ', d:'ÌõÑÎ≥¥ÏûêÏùò ÏÑ±Î™Ö¬∑ÏÇ¨ÏßÑ Îì±Ïù¥ Ìè¨Ìï®Îêú ÌòÑÏàòÎßâ¬∑Í∞ÑÌåêÏùÑ ÏÑ§ÏπòÌï† Ïàò ÏóÜÏäµÎãàÎã§.', law:'Ï†ú90Ï°∞¬∑Ï†ú93Ï°∞', pen:'2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'‚ùå ÎèÑÎ°úÎ≥ÄÏóê "‚óã‚óã‚óãÎ•º ÏãúÏû•ÏúºÎ°ú!" ÌòÑÏàòÎßâ Í≤åÏãú ‚Üí ÏúÑÎ≤ï' }
    ],
    pre: [
      { s:'conditional', t:'ÏÑ†Í±∞ÏÇ¨Î¨¥ÏÜå Í∞ÑÌåê¬∑ÌòÑÏàòÎßâ ÏÑ§Ïπò Í∞ÄÎä•', d:'ÏÑ†Í±∞ÏÇ¨Î¨¥ÏÜåÏóê Í∞ÑÌåê 1Í∞ú, ÌòÑÏàòÎßâ 1Í∞úÎ•º ÏÑ§ÏπòÌï† Ïàò ÏûàÏäµÎãàÎã§. ÏÑ±Î™Ö¬∑ÏÇ¨ÏßÑ¬∑Ï†ÑÌôîÎ≤àÌò∏¬∑ÌïôÎ†•¬∑Í≤ΩÎ†• Í∏∞Ïû¨ Í∞ÄÎä•.', law:'Ï†ú60Ï°∞Ïùò3‚ë†1Ìò∏', pen:'', ex:'‚úÖ ÏÑ†Í±∞ÏÇ¨Î¨¥ÏÜå Í±¥Î¨º Ïô∏Î≤ΩÏóê "ÏòàÎπÑÌõÑÎ≥¥ ‚óã‚óã‚óã ÏÑ†Í±∞ÏÇ¨Î¨¥ÏÜå" Í∞ÑÌåê + ÌòÑÏàòÎßâ 1Í∞ú ‚Üí Ï†ÅÎ≤ï\n‚ùå ÏÇ¨Î¨¥ÏÜå Ïô∏ ÎèÑÎ°úÎ≥ÄÏóê Ï∂îÍ∞Ä ÌòÑÏàòÎßâ ÏÑ§Ïπò ‚Üí ÏúÑÎ≤ï' },
      { s:'conditional', t:'Ïñ¥Íπ®Îù† Ï∞©Ïö© Í∞ÄÎä•', d:'ÏòàÎπÑÌõÑÎ≥¥Ïûê Î≥∏Ïù∏Ïù¥ Ïñ¥Íπ®Îù†Î•º Ï∞©Ïö©ÌïòÍ≥† Ïù∏ÏÇ¨Ìï† Ïàò ÏûàÏäµÎãàÎã§.', law:'Ï†ú60Ï°∞Ïùò3‚ë†4Ìò∏', pen:'', ex:'‚úÖ "ÏòàÎπÑÌõÑÎ≥¥ ‚óã‚óã‚óã" Ïñ¥Íπ®Îù†Î•º Ï∞©Ïö©ÌïòÍ≥† ÏãúÏû•ÏóêÏÑú Ïù∏ÏÇ¨ ‚Üí Ï†ÅÎ≤ï' },
      { s:'prohibited', t:'ÏÑ†Í±∞ÏÇ¨Î¨¥ÏÜå Ïô∏ ÌòÑÏàòÎßâ ÏÑ§Ïπò Í∏àÏßÄ', d:'ÏÑ†Í±∞ÏÇ¨Î¨¥ÏÜå Ïô∏Ïùò Ïû•ÏÜå(ÎèÑÎ°ú¬∑Í≥µÏõê¬∑Í±¥Î¨º Îì±)Ïóê ÌòÑÏàòÎßâÏùÑ ÏÑ§ÏπòÌï† Ïàò ÏóÜÏäµÎãàÎã§.', law:'Ï†ú90Ï°∞', pen:'2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'' }
    ],
    main: [
      { s:'conditional', t:'ÏÑ†Í±∞ÏÇ¨Î¨¥ÏÜå¬∑Ïó∞ÎùΩÏÜå Í∞ÑÌåê¬∑ÌòÑÏàòÎßâ Í∞ÄÎä•', d:'ÏÑ†Í±∞ÏÇ¨Î¨¥ÏÜå Î∞è ÏÑ†Í±∞Ïó∞ÎùΩÏÜåÏóê Î≤ïÏ†ï Í∑úÍ≤©Ïùò Í∞ÑÌåê¬∑ÌòÑÏàòÎßâÏùÑ ÏÑ§ÏπòÌï† Ïàò ÏûàÏäµÎãàÎã§.', law:'Ï†ú61Ï°∞(ÏÑ†Í±∞ÏÇ¨Î¨¥ÏÜå ÏÑ§Ïπò)¬∑Ï†ú67Ï°∞(ÏÑ†Í±∞Ïö¥ÎèôÍ∏∞Íµ¨¬∑Ïû•ÎπÑ)', pen:'', ex:'' },
      { s:'conditional', t:'Î≤ïÏ†ï ÏÑ†Í±∞Î≤ΩÎ≥¥ Í≤åÏãú', d:'ÏÑ†Í¥ÄÏúÑÍ∞Ä ÏßÄÏ†ïÌïú Í≤åÏãúÏû•ÏÜåÏóêÎßå Î≤ïÏ†ï Í∑úÍ≤©Ïùò ÏÑ†Í±∞Î≤ΩÎ≥¥Î•º Í≤åÏãúÌï©ÎãàÎã§.', law:'Ï†ú64Ï°∞', pen:'', ex:'' },
      { s:'conditional', t:'Ïñ¥Íπ®Îù†¬∑ÏÜåÌíà Ï∞©Ïö© Í∞ÄÎä•', d:'ÌõÑÎ≥¥Ïûê¬∑ÏÑ†Í±∞ÏÇ¨Î¨¥ÏõêÏù¥ Ïñ¥Íπ®Îù† Îì±ÏùÑ Ï∞©Ïö©ÌïòÍ≥† ÏÑ†Í±∞Ïö¥ÎèôÏùÑ Ìï† Ïàò ÏûàÏäµÎãàÎã§.', law:'Ï†ú68Ï°∞', pen:'', ex:'' },
      { s:'prohibited', t:'Î∂àÎ≤ï ÌòÑÏàòÎßâ¬∑ÌîåÎûòÏπ¥Îìú ÏÑ§Ïπò Í∏àÏßÄ', d:'Î≤ïÏ†ï Ïû•ÏÜå Ïô∏Ïóê ÌòÑÏàòÎßâ¬∑ÌîåÎûòÏπ¥Îìú¬∑Ïï†ÎìúÎ≤åÎ£¨ Îì±ÏùÑ ÏÑ§ÏπòÌï† Ïàò ÏóÜÏäµÎãàÎã§.', law:'Ï†ú90Ï°∞', pen:'2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'‚ùå ÏïÑÌååÌä∏ Îã®ÏßÄ ÎÇ¥Ïóê Î¨¥Îã®ÏúºÎ°ú ÌõÑÎ≥¥ ÌòÑÏàòÎßâ Í±∏Í∏∞ ‚Üí ÏúÑÎ≤ï' }
    ]
  },
  media: {
    normal: [
      { s:'prohibited', t:'ÏÑ†Í±∞ Í¥ÄÎ†® Î∞©ÏÜ°¬∑Ïã†Î¨∏ Í¥ëÍ≥† Í∏àÏßÄ', d:'ÌõÑÎ≥¥Ïûê¬∑Ï†ïÎãπÏùò TV¬∑ÎùºÎîîÏò§¬∑Ïã†Î¨∏ Í¥ëÍ≥†Îäî ÏùºÏ≤¥ Í∏àÏßÄÎê©ÎãàÎã§.', law:'Ï†ú69Ï°∞¬∑Ï†ú70Ï°∞', pen:'3ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 600ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'‚ùå TVÏóê "‚óã‚óã‚óãÎ•º ÏãúÏû•ÏúºÎ°ú!" Í¥ëÍ≥† Î∞©ÏòÅ ‚Üí ÏúÑÎ≤ï' },
      { s:'conditional', t:'Ïñ∏Î°† Ïù∏ÌÑ∞Î∑∞¬∑Î≥¥ÎèÑ Í∞ÄÎä•', d:'Ïñ∏Î°†ÏÇ¨Í∞Ä Î≥¥ÎèÑ Î™©Ï†ÅÏúºÎ°ú Ïù∏ÌÑ∞Î∑∞ÌïòÎäî Í≤ÉÏùÄ ÏÑ†Í±∞Ïö¥ÎèôÏúºÎ°ú Î≥¥ÏßÄ ÏïäÏäµÎãàÎã§.', law:'Ï†ú58Ï°∞‚ë°', pen:'', ex:'‚úÖ Ïñ∏Î°†ÏÇ¨Í∞Ä ÌòÑÏßÅ ÏùòÏõêÏùò ÏùòÏ†ïÌôúÎèôÏùÑ Ï∑®Ïû¨¬∑Î≥¥ÎèÑ ‚Üí Ï†ÅÎ≤ï' }
    ],
    pre: [
      { s:'prohibited', t:'Î∞©ÏÜ°¬∑Ïã†Î¨∏ Ïú†Î£å Í¥ëÍ≥† Í∏àÏßÄ', d:'ÏòàÎπÑÌõÑÎ≥¥ÏûêÎäî TV¬∑ÎùºÎîîÏò§¬∑Ïã†Î¨∏Ïóê Ïú†Î£å Í¥ëÍ≥†Î•º ÎÇº Ïàò ÏóÜÏäµÎãàÎã§.', law:'Ï†ú69Ï°∞¬∑Ï†ú70Ï°∞', pen:'3ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 600ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'' },
      { s:'conditional', t:'Ïñ∏Î°† Ïù∏ÌÑ∞Î∑∞¬∑Î≥¥ÎèÑ Í∞ÄÎä•', d:'Ïñ∏Î°†ÏÇ¨Ïùò ÏûêÏ≤¥ ÌåêÎã®Ïóê ÏùòÌïú Î≥¥ÎèÑ¬∑Ïù∏ÌÑ∞Î∑∞Îäî Í∞ÄÎä•Ìï©ÎãàÎã§.', law:'Ï†ú58Ï°∞‚ë°', pen:'', ex:'‚úÖ ÏßÄÏó≠ Ïñ∏Î°†ÏóêÏÑú ÏòàÎπÑÌõÑÎ≥¥ Ïù∏ÌÑ∞Î∑∞ Í∏∞ÏÇ¨ ÏûëÏÑ± ‚Üí Ï†ÅÎ≤ï' }
    ],
    main: [
      { s:'conditional', t:'Î≤ïÏ†ï Î∞©ÏÜ°Ïó∞ÏÑ§¬∑ÌÜ†Î°†Ìöå Ï∞∏Ïó¨', d:'ÏÑ†Í±∞Î∞©ÏÜ°ÌÜ†Î°†ÏúÑÏõêÌöåÍ∞Ä Ï£ºÍ¥ÄÌïòÎäî ÌõÑÎ≥¥Ïûê ÌÜ†Î°†ÌöåÏóê Ï∞∏Ïó¨Ìï† Ïàò ÏûàÏúºÎ©∞, Î∞©ÏÜ°Ïó∞ÏÑ§ ÏãúÍ∞ÑÏù¥ Î∞∞Ï†ïÎê©ÎãàÎã§.', law:'Ï†ú70Ï°∞¬∑Ï†ú82Ï°∞', pen:'', ex:'‚úÖ KBS ÌõÑÎ≥¥Ïûê ÌÜ†Î°†ÌöåÏóê Ï∂úÏó∞ ‚Üí Ï†ÅÎ≤ï' },
      { s:'conditional', t:'Ïã†Î¨∏ Í¥ëÍ≥† Í∞ÄÎä• (Î≤ïÏ†ï ÌöüÏàò Ïù¥ÎÇ¥)', d:'ÌõÑÎ≥¥Ïûê¬∑Ï†ïÎãπ Î™ÖÏùòÏùò Ïã†Î¨∏ Í¥ëÍ≥†Î•º Î≤ïÏ†ï ÌöüÏàò Ïù¥ÎÇ¥ÏóêÏÑú Í≤åÏû¨Ìï† Ïàò ÏûàÏäµÎãàÎã§.', law:'Ï†ú69Ï°∞', pen:'', ex:'' },
      { s:'prohibited', t:'Î≤ïÏ†ï Ïô∏ Î∞©ÏÜ° Í¥ëÍ≥† Í∏àÏßÄ', d:'Î≤ïÏóêÏÑú Ï†ïÌïú Î∞©Ïãù Ïô∏Ïùò TV¬∑ÎùºÎîîÏò§ Í¥ëÍ≥†Îäî Í∏àÏßÄÎê©ÎãàÎã§.', law:'Ï†ú69Ï°∞', pen:'3ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 600ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'' }
    ]
  },
  rally: {
    normal: [
      { s:'prohibited', t:'ÏÑ†Í±∞Ïö¥Îèô Î™©Ï†Å ÏßëÌöå¬∑Ïó∞ÏÑ§ Í∏àÏßÄ', d:'ÌäπÏ†ï ÌõÑÎ≥¥Ïûê ÏßÄÏßÄÎ•º ÏúÑÌïú ÏßëÌöåÎÇò Ïó∞ÏÑ§ÏùÄ Î∂àÍ∞ÄÌï©ÎãàÎã§.', law:'Ï†ú103Ï°∞', pen:'2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'‚ùå ÎßàÏùÑÌöåÍ¥ÄÏóêÏÑú "‚óã‚óã‚óãÎ•º ÏãúÏû•ÏúºÎ°ú!" Ï£ºÎØº Î™®ÏûÑ Í∞úÏµú ‚Üí ÏÇ¨Ï†ÑÏÑ†Í±∞Ïö¥Îèô' },
      { s:'conditional', t:'Ï†ïÎãπÏùò Ï†ïÍ∏∞ ÏßëÌöå¬∑ÌôúÎèô Í∞ÄÎä•', d:'Ï†ïÎãπÏùò ÌÜµÏÉÅÏ†ÅÏù∏ Îãπ ÌôúÎèôÏúºÎ°úÏÑúÏùò ÏßëÌöå, Ï†ïÏ±Ö ÌÜ†Î°†Ìöå Îì±ÏùÄ ÌóàÏö©Îê©ÎãàÎã§.', law:'Ï†ú58Ï°∞‚ë°', pen:'', ex:'‚úÖ Ï†ïÎãπ ÏßÄÍµ¨Îãπ Ï†ïÍ∏∞ ÎãπÏõê Î™®ÏûÑ ‚Üí Ï†ïÎãπ ÌôúÎèôÏúºÎ°ú Ï†ÅÎ≤ï' }
    ],
    pre: [
      { s:'prohibited', t:'Í≥µÍ∞ú ÏßëÌöå¬∑Ïó∞ÏÑ§ Í∏àÏßÄ', d:'ÏòàÎπÑÌõÑÎ≥¥ÏûêÎäî ÏßëÌöå¬∑Ïó∞ÏÑ§ ÌòïÏãùÏùò ÏÑ†Í±∞Ïö¥ÎèôÏùÑ Ìï† Ïàò ÏóÜÏäµÎãàÎã§.', law:'Ï†ú60Ï°∞Ïùò3¬∑Ï†ú103Ï°∞', pen:'2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'‚ùå Í≥µÏõêÏóêÏÑú ÌôïÏÑ±Í∏∞Î•º Ïù¥Ïö©Ìïú ÏßÄÏßÄ Ìò∏ÏÜå Ïó∞ÏÑ§ ‚Üí ÏúÑÎ≤ï\n‚ùå ÏÑ†Í±∞ÏÇ¨Î¨¥ÏÜåÏóêÏÑú Ï£ºÎØº Ï¥àÏ≤≠ ÏßëÌöå Í∞úÏµú ‚Üí ÏúÑÎ≤ï' },
      { s:'conditional', t:'Í∞úÎ≥Ñ Î©¥Îã¥¬∑Í∏∏Í±∞Î¶¨ Ïù∏ÏÇ¨ Í∞ÄÎä•', d:'ÏÑ†Í±∞ÏÇ¨Î¨¥ÏÜå Î∞©Î¨∏Í∞ù Ï†ëÍ≤¨, ÏãúÏû•¬∑Í≥µÏõê Îì±ÏóêÏÑú Í∞úÎ≥Ñ Ïù∏ÏÇ¨, Î™ÖÌï® Î∞∞Î∂Ä Îì±ÏùÄ Í∞ÄÎä•Ìï©ÎãàÎã§.', law:'Ï†ú60Ï°∞Ïùò3', pen:'', ex:'‚úÖ ÏãúÏû•ÏóêÏÑú Ï£ºÎØºÎì§ÏóêÍ≤å Ïù∏ÏÇ¨ÌïòÎ©∞ Î™ÖÌï® Î∞∞Î∂Ä ‚Üí Ï†ÅÎ≤ï\n‚úÖ ÏÑ†Í±∞ÏÇ¨Î¨¥ÏÜåÎ•º Î∞©Î¨∏Ìïú Ï£ºÎØºÍ≥º Î©¥Îã¥ ‚Üí Ï†ÅÎ≤ï' }
    ],
    main: [
      { s:'allowed', t:'Í≥µÍ∞úÏû•ÏÜå Ïó∞ÏÑ§¬∑ÎåÄÎã¥ Í∞ÄÎä•', d:'ÌõÑÎ≥¥Ïûê¬∑Ïó∞ÏÑ§ÏõêÏù¥ Í≥µÍ∞úÏû•ÏÜåÏóêÏÑú Ïó∞ÏÑ§¬∑ÎåÄÎã¥ÏùÑ Ìï† Ïàò ÏûàÏäµÎãàÎã§. ÏùºÏãú¬∑Ïû•ÏÜåÎ•º ÏÑ†Í¥ÄÏúÑÏóê Ïã†Í≥†Ìï¥Ïïº Ìï©ÎãàÎã§.', law:'Ï†ú79Ï°∞', pen:'', ex:'‚úÖ ÏãúÏû• Ïïû Í¥ëÏû•ÏóêÏÑú ÌõÑÎ≥¥Ïûê Ï†ïÍ≤¨ Î∞úÌëú Ïó∞ÏÑ§ (ÏÑ†Í¥ÄÏúÑ Ïã†Í≥† ÌõÑ) ‚Üí Ï†ÅÎ≤ï' },
      { s:'conditional', t:'ÏÑ†Í±∞Î∞©ÏÜ°ÌÜ†Î°†Ìöå Ï∞∏Ïó¨', d:'ÏÑ†Í±∞Î∞©ÏÜ°ÌÜ†Î°†ÏúÑÏõêÌöåÍ∞Ä Ï£ºÍ¥ÄÌïòÎäî Í≥µÏãù ÌõÑÎ≥¥Ïûê ÌÜ†Î°†ÌöåÏóê Ï∞∏Ïó¨Ìï† Ïàò ÏûàÏäµÎãàÎã§.', law:'Ï†ú82Ï°∞', pen:'', ex:'' },
      { s:'prohibited', t:'ÌïôÍµê¬∑Ï¢ÖÍµêÏãúÏÑ§ Îì±ÏóêÏÑú ÏÑ†Í±∞ÏßëÌöå Í∏àÏßÄ', d:'ÌïôÍµê, Ï¢ÖÍµêÏãúÏÑ§, Íµ≠Í∞Ä¬∑ÏßÄÏûêÏ≤¥ ÏãúÏÑ§ Îì±ÏóêÏÑú ÏÑ†Í±∞Ïö¥Îèô Î™©Ï†ÅÏùò ÏßëÌöåÎ•º Ïó¥ Ïàò ÏóÜÏäµÎãàÎã§.', law:'Ï†ú103Ï°∞', pen:'2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'‚ùå ÍµêÌöå ÏòàÎ∞∞ ÌõÑ ÌõÑÎ≥¥Ïûê Ïó∞ÏÑ§ ÏãúÍ∞Ñ ÎßàÎ†® ‚Üí Ï¢ÖÍµêÏãúÏÑ§ ÎÇ¥ ÏÑ†Í±∞Ïö¥ÎèôÏúºÎ°ú ÏúÑÎ≤ï' }
    ]
  },
  visit: {
    normal: [
      { s:'prohibited', t:'Ìò∏Î≥ÑÎ∞©Î¨∏ Ï†ÑÎ©¥ Í∏àÏßÄ (ÏÉÅÏãú)', d:'ÏÑ†Í±∞Ïö¥ÎèôÏùÑ ÏúÑÌïòÏó¨ Í∞ÄÍ∞ÄÌò∏Ìò∏(ÏßëÏßëÎßàÎã§) Î∞©Î¨∏ÌïòÎäî Í≤ÉÏùÄ Ïñ¥Îñ§ ÏãúÍ∏∞ÏóêÎèÑ Í∏àÏßÄÎê©ÎãàÎã§.', law:'Ï†ú106Ï°∞', pen:'2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'‚ùå ÏïÑÌååÌä∏Î•º ÎèåÎ©∞ Í∞Å ÏÑ∏ÎåÄ Ï¥àÏù∏Ï¢ÖÏùÑ ÎàåÎü¨ ÌõÑÎ≥¥ ÏßÄÏßÄ Ìò∏ÏÜå ‚Üí ÏúÑÎ≤ï' }
    ],
    pre: [
      { s:'prohibited', t:'Ìò∏Î≥ÑÎ∞©Î¨∏ Ï†ÑÎ©¥ Í∏àÏßÄ', d:'ÏòàÎπÑÌõÑÎ≥¥ÏûêÎèÑ Í∞ÄÍ∞ÄÌò∏Ìò∏ Î∞©Î¨∏ÌïòÏó¨ ÏÑ†Í±∞Ïö¥ÎèôÏùÑ Ìï† Ïàò ÏóÜÏäµÎãàÎã§.', law:'Ï†ú106Ï°∞', pen:'2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'‚ùå ÏòàÎπÑÌõÑÎ≥¥ÏûêÍ∞Ä ÏïÑÌååÌä∏ Í∞Å ÏÑ∏ÎåÄÎ•º ÎèåÎ©∞ Î™ÖÌï® Î∞∞Î∂Ä ‚Üí Ìò∏Î≥ÑÎ∞©Î¨∏ÏúºÎ°ú ÏúÑÎ≤ï' },
      { s:'conditional', t:'Í≥µÍ∞ú Ïû•ÏÜå(ÏãúÏû•¬∑ÏÉÅÍ∞Ä Îì±)ÏóêÏÑú Ïù∏ÏÇ¨ Í∞ÄÎä•', d:'Î∂àÌäπÏ†ï Îã§ÏàòÍ∞Ä ÏôïÎûòÌïòÎäî Í≥µÍ∞ú Ïû•ÏÜåÏóêÏÑúÏùò Ïù∏ÏÇ¨Îäî Ìò∏Î≥ÑÎ∞©Î¨∏Ïóê Ìï¥ÎãπÌïòÏßÄ ÏïäÏäµÎãàÎã§.', law:'Ï†ú106Ï°∞ Îã®ÏÑú', pen:'', ex:'‚úÖ ÏãúÏû•ÏóêÏÑú ÏßÄÎÇòÍ∞ÄÎäî ÏÇ¨ÎûåÎì§ÏóêÍ≤å Ïù∏ÏÇ¨ÌïòÎ©∞ Î™ÖÌï® Î∞∞Î∂Ä ‚Üí Í≥µÍ∞ú Ïû•ÏÜåÏù¥ÎØÄÎ°ú Ï†ÅÎ≤ï\n‚úÖ ÏÉÅÍ∞Ä Í±∞Î¶¨Î•º Í±∏ÏúºÎ©∞ ÏÉÅÏù∏ÏóêÍ≤å Ïù∏ÏÇ¨ ‚Üí Ï†ÅÎ≤ï' }
    ],
    main: [
      { s:'prohibited', t:'Ìò∏Î≥ÑÎ∞©Î¨∏ Ï†ÑÎ©¥ Í∏àÏßÄ', d:'Î≥∏ÏÑ†Í±∞ Í∏∞Í∞ÑÏóêÎèÑ Í∞ÄÍ∞ÄÌò∏Ìò∏ Î∞©Î¨∏ ÏÑ†Í±∞Ïö¥ÎèôÏùÄ Í∏àÏßÄÎê©ÎãàÎã§. Í≥µÍ∞úÏû•ÏÜåÏóêÏÑúÎßå ÏßÄÏßÄÎ•º Ìò∏ÏÜåÌï† Ïàò ÏûàÏäµÎãàÎã§.', law:'Ï†ú106Ï°∞', pen:'2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'‚ùå ÏÑ†Í±∞Ïö¥ÎèôÏõêÏù¥ ÎπåÎùºÎ•º ÎèåÎ©∞ Ï¥àÏù∏Ï¢ÖÏùÑ ÎàÑÎ•¥Í≥† Ìà¨Ìëú ÎèÖÎ†§ ‚Üí ÏúÑÎ≤ï\n‚úÖ Ïú†ÏÑ∏ Ï∞®ÎüâÏóêÏÑú ÎÇ¥Î†§ Í≥µÏõêÏóêÏÑú ÌñâÏù∏ÏóêÍ≤å Ïù∏ÏÇ¨ ‚Üí Í≥µÍ∞úÏû•ÏÜåÏù¥ÎØÄÎ°ú Ï†ÅÎ≤ï' }
    ]
  },
  donation: {
    normal: [
      { s:'prohibited', t:'Í∏∞Î∂ÄÌñâÏúÑ Ï†ÑÎ©¥ Í∏àÏßÄ (Ïó∞Ï§ë ÏÉÅÏãú)', d:'ÌõÑÎ≥¥ÏûêÍ∞Ä ÎêòÎ†§Îäî Ïûê, Í∑∏ Î∞∞Ïö∞Ïûê, ÏßÅÍ≥ÑÏ°¥ÎπÑÏÜçÏùÄ Ìï¥Îãπ ÏÑ†Í±∞Íµ¨ ÏïàÏóêÏÑú Í∏∞Î∂ÄÌñâÏúÑÎ•º Ìï† Ïàò ÏóÜÏäµÎãàÎã§. ÏùòÏ†ïÎ≥¥Í≥†ÏÑú Î∞∞Î∂Ä, Ï∂ïÏùòÍ∏à¬∑Ï°∞ÏùòÍ∏àÎèÑ Ï†úÌïúÎê©ÎãàÎã§.', law:'Ï†ú112Ï°∞¬∑Ï†ú113Ï°∞', pen:'5ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 3,000ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'‚ùå ÎßàÏùÑ Ï∂ïÏ†úÏóê ÌõÑÏõêÍ∏à Í∏∞Î∂Ä ‚Üí Í∏∞Î∂ÄÌñâÏúÑÎ°ú ÏúÑÎ≤ï\n‚ùå Í≤ΩÎ°úÏûîÏπòÏóê ÏùåÏãù Ï†úÍ≥µ ‚Üí Í∏∞Î∂ÄÌñâÏúÑÎ°ú ÏúÑÎ≤ï\n‚ùå Ï≤¥Ïú°ÎåÄÌöå ÏÉÅÍ∏à Í∏∞Î∂Ä ‚Üí ÏúÑÎ≤ï' },
      { s:'prohibited', t:'Í∏∞Î∂Ä Î∞õÎäî ÌñâÏúÑÎèÑ Í∏àÏßÄ', d:'ÏÑ†Í±∞Íµ¨ÎØºÏóêÍ≤å Í∏àÏ†Ñ¬∑Î¨ºÌíà¬∑Ìñ•Ïùë Îì±ÏùÑ ÏöîÍµ¨ÌïòÍ±∞ÎÇò Ï†úÍ≥µÎ∞õÎäî Í≤ÉÎèÑ Í∏àÏßÄÎê©ÎãàÎã§.', law:'Ï†ú112Ï°∞', pen:'5ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 3,000ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'' }
    ],
    pre: [
      { s:'prohibited', t:'Í∏∞Î∂ÄÌñâÏúÑ Ï†ÑÎ©¥ Í∏àÏßÄ (ÏÉÅÏãú)', d:'ÏòàÎπÑÌõÑÎ≥¥Ïûê Îì±Î°ù Ï†ÑÌõÑÎ•º Î∂àÎ¨∏ÌïòÍ≥† Í∏∞Î∂ÄÌñâÏúÑÍ∞Ä Í∏àÏßÄÎê©ÎãàÎã§.', law:'Ï†ú112Ï°∞¬∑Ï†ú113Ï°∞', pen:'5ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 3,000ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'‚ùå ÏòàÎπÑÌõÑÎ≥¥ÏûêÍ∞Ä Í≤ΩÎ°úÎãπÏóê ÏåÄ Í∏∞Î∂Ä ‚Üí ÏúÑÎ≤ï\n‚ùå ÏòàÎπÑÌõÑÎ≥¥ÏûêÏùò Î∞∞Ïö∞ÏûêÍ∞Ä Î¥âÏÇ¨ÌôúÎèô Î™ÖÎ™©ÏúºÎ°ú Î¨ºÌíà Ï†úÍ≥µ ‚Üí ÏúÑÎ≤ï' },
      { s:'conditional', t:'Ï†ïÏπòÏûêÍ∏àÎ≤ïÏóê Îî∞Î•∏ ÌõÑÏõêÌöå Î™®Í∏àÎßå Í∞ÄÎä•', d:'Ï†ïÏπòÏûêÍ∏àÎ≤ïÏóê Îî∞Îùº ÏßÄÏ†ïÎêú ÌõÑÏõêÌöåÎ•º ÌÜµÌïú ÌõÑÏõêÍ∏à Î™®Í∏àÎßå Ìï©Î≤ïÏûÖÎãàÎã§.', law:'Ï†ïÏπòÏûêÍ∏àÎ≤ï Ï†ú6Ï°∞', pen:'', ex:'‚úÖ ÌõÑÏõêÌöåÎ•º ÌÜµÌïú Ìï©Î≤ïÏ†Å ÌõÑÏõêÍ∏à Î™®Í∏à ‚Üí Ï†ÅÎ≤ï' }
    ],
    main: [
      { s:'prohibited', t:'Í∏∞Î∂ÄÌñâÏúÑ Ï†ÑÎ©¥ Í∏àÏßÄ (ÏÉÅÏãú)', d:'ÌõÑÎ≥¥Ïûê¬∑Î∞∞Ïö∞Ïûê¬∑Í∞ÄÏ°±Ïù¥ ÏÑ†Í±∞Íµ¨ÎØºÏóêÍ≤å Í∏àÏ†Ñ¬∑Î¨ºÌíà¬∑Ìñ•Ïùë Îì± ÏùºÏ≤¥Ïùò Í∏∞Î∂ÄÎ•º Ìï† Ïàò ÏóÜÏäµÎãàÎã§.', law:'Ï†ú112Ï°∞¬∑Ï†ú113Ï°∞', pen:'5ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 3,000ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'‚ùå Ïú†ÏÑ∏ ÌòÑÏû•ÏóêÏÑú Ïú†Í∂åÏûêÏóêÍ≤å ÏùåÎ£åÏàò Ï†úÍ≥µ ‚Üí Í∏∞Î∂ÄÌñâÏúÑÎ°ú ÏúÑÎ≤ï\n‚ùå ÎßàÏùÑ ÌñâÏÇ¨Ïóê ÌôîÌôò Î≥¥ÎÇ¥Í∏∞ ‚Üí ÏúÑÎ≤ï\n‚ö†Ô∏è Îã®, ÌÜµÏÉÅÏ†ÅÏù∏ ÏÑ†Í±∞ÏÇ¨Î¨¥ÏÜå Î∞©Î¨∏Í∞ùÏóêÍ≤å Îã§Í≥º(Ëå∂Ëèì) Ï†úÍ≥µÏùÄ ÏÇ¨Ìöå ÌÜµÎÖêÏÉÅ ÌóàÏö©' },
      { s:'prohibited', t:'ÎãπÏÑ† ÌõÑÏóêÎèÑ Í∏∞Î∂Ä Í∏àÏßÄ', d:'ÎãπÏÑ† Ï∂ïÌïòÏó∞¬∑ÎãµÎ°Ä Îì± Î™ÖÎ™©Ïùò Í∏∞Î∂ÄÌñâÏúÑÎèÑ Í∏àÏßÄÎê©ÎãàÎã§.', law:'Ï†ú113Ï°∞', pen:'5ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 3,000ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'‚ùå ÎãπÏÑ† ÌõÑ ÏßÄÏßÄÏûêÎì§ÏóêÍ≤å ÏãùÏÇ¨ ÎåÄÏ†ë ‚Üí ÏúÑÎ≤ï' }
    ]
  },
  poll: {
    normal: [
      { s:'allowed', t:'Ïó¨Î°†Ï°∞ÏÇ¨ Ïã§Ïãú¬∑Í≤∞Í≥º Í≥µÌëú ÏûêÏú†', d:'ÏÑ†Í±∞Ïóê Í¥ÄÌïú Ïó¨Î°†Ï°∞ÏÇ¨Î•º ÏûêÏú†Î°≠Í≤å Ïã§ÏãúÌïòÍ≥† Í≤∞Í≥ºÎ•º Í≥µÌëúÌï† Ïàò ÏûàÏäµÎãàÎã§.', law:'Ï†ú108Ï°∞', pen:'', ex:'‚úÖ ÏßÄÏó≠ Ïó¨Î°†Ï°∞ÏÇ¨ Í∏∞Í¥ÄÏù¥ ÏãúÏû• ÏÑ†Í±∞ ÏßÄÏßÄÎèÑ Ï°∞ÏÇ¨ ÌõÑ Í≤∞Í≥º Î∞úÌëú ‚Üí Ï†ÅÎ≤ï' },
      { s:'prohibited', t:'ÌóàÏúÑ Ïó¨Î°†Ï°∞ÏÇ¨ Í≤∞Í≥º Í≥µÌëú Í∏àÏßÄ', d:'ÏÇ¨Ïã§Í≥º Îã§Î•∏ Ïó¨Î°†Ï°∞ÏÇ¨ Í≤∞Í≥ºÎ•º Í≥µÌëúÌïòÍ±∞ÎÇò Î≥¥ÎèÑÌïòÎäî Í≤ÉÏùÄ Í∏àÏßÄÎê©ÎãàÎã§.', law:'Ï†ú108Ï°∞‚ë°', pen:'3ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 600ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'' }
    ],
    pre: [
      { s:'allowed', t:'Ïó¨Î°†Ï°∞ÏÇ¨ Ïã§Ïãú¬∑Í≤∞Í≥º Í≥µÌëú Í∞ÄÎä•', d:'ÏòàÎπÑÌõÑÎ≥¥Ïûê Í∏∞Í∞ÑÏóêÎèÑ Ïó¨Î°†Ï°∞ÏÇ¨ Ïã§Ïãú¬∑Í≥µÌëúÍ∞Ä Í∞ÄÎä•Ìï©ÎãàÎã§.', law:'Ï†ú108Ï°∞', pen:'', ex:'' },
      { s:'conditional', t:'Ïó¨Î°†Ï°∞ÏÇ¨ Í∏∞Ï§Ä Ï§ÄÏàò ÏùòÎ¨¥', d:'Ï§ëÏïôÏÑ†Í±∞Ïó¨Î°†Ï°∞ÏÇ¨Í≥µÏ†ïÏã¨ÏùòÏúÑÏõêÌöåÏùò Í∏∞Ï§Ä(ÌëúÎ≥∏ ÌÅ¨Í∏∞, Ï°∞ÏÇ¨ Î∞©Î≤ï Îì±)ÏùÑ Ï§ÄÏàòÌï¥Ïïº Ìï©ÎãàÎã§.', law:'Ï†ú108Ï°∞Ïùò2', pen:'', ex:'' }
    ],
    main: [
      { s:'conditional', t:'ÏÑ†Í±∞Ïùº Ï†Ñ 7ÏùºÍπåÏßÄ Í≤∞Í≥º Í≥µÌëú Í∞ÄÎä•', d:'ÏÑ†Í±∞Ïùº Ï†Ñ 7ÏùºÍπåÏßÄÎäî Ïó¨Î°†Ï°∞ÏÇ¨ Í≤∞Í≥ºÎ•º Í≥µÌëú¬∑Î≥¥ÎèÑÌï† Ïàò ÏûàÏäµÎãàÎã§. (ÏÑ†Í±∞Ïùº Ï†Ñ 6ÏùºÎ∂ÄÌÑ∞ Í∏àÏßÄ ÏãúÏûë)', law:'Ï†ú108Ï°∞‚ë†', pen:'', ex:'‚úÖ ÏÑ†Í±∞Ïùº 8Ïùº Ï†Ñ Ïó¨Î°†Ï°∞ÏÇ¨ Í≤∞Í≥º Î≥¥ÎèÑ ‚Üí Ï†ÅÎ≤ï\n‚úÖ ÏÑ†Í±∞Ïùº Ï†Ñ 7Ïùº Ïó¨Î°†Ï°∞ÏÇ¨ Í≤∞Í≥º Î≥¥ÎèÑ ‚Üí Ï†ÅÎ≤ï(Í≥µÌëú Í∞ÄÎä• ÎßàÏßÄÎßâ ÎÇ†)' },
      { s:'prohibited', t:'ÏÑ†Í±∞Ïùº Ï†Ñ 6ÏùºÎ∂ÄÌÑ∞~Ìà¨Ìëú ÎßàÍ∞ê Í≥µÌëú Í∏àÏßÄ', d:'ÏÑ†Í±∞Ïùº Ï†Ñ 6ÏùºÎ∂ÄÌÑ∞ ÏÑ†Í±∞ÏùºÏùò Ìà¨Ìëú ÎßàÍ∞ê ÏãúÍ∞ÅÍπåÏßÄ Ïó¨Î°†Ï°∞ÏÇ¨ Í≤∞Í≥ºÏùò Í≥µÌëú¬∑Ïù∏Ïö©¬∑Î≥¥ÎèÑÍ∞Ä Í∏àÏßÄÎê©ÎãàÎã§. Ï¶â, ÏÑ†Í±∞Ïùº Ï†Ñ 7ÏùºÍπåÏßÄÎßå Í≥µÌëú Í∞ÄÎä•Ìï©ÎãàÎã§.', law:'Ï†ú108Ï°∞‚ë†', pen:'3ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 600ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'‚ùå ÏÑ†Í±∞Ïùº 6Ïùº Ï†Ñ SNSÏóê Ïó¨Î°†Ï°∞ÏÇ¨ Í≤∞Í≥º Í≤åÏãú ‚Üí ÏúÑÎ≤ï(Í∏àÏßÄ ÏãúÏûëÏùº)\n‚ùå ÏÑ†Í±∞Ïùº 3Ïùº Ï†Ñ Ïó¨Î°†Ï°∞ÏÇ¨ Í≤∞Í≥º Ïù∏Ïö© Î≥¥ÎèÑ ‚Üí ÏúÑÎ≤ï\n‚ùå ÏÑ†Í±∞Ïùº ÎãπÏùº "Ï∂úÍµ¨Ï°∞ÏÇ¨ Í≤∞Í≥º ‚óã‚óã‚óã 1ÏúÑ" Ìà¨Ìëú ÎßàÍ∞ê Ï†Ñ Î≥¥ÎèÑ ‚Üí ÏúÑÎ≤ï' },
      { s:'prohibited', t:'Ìà¨ÌëúÏö©ÏßÄ Ïú†ÏÇ¨ Î™®Ìòï ÏÇ¨Ïö© Í∏àÏßÄ', d:'Ïó¨Î°†Ï°∞ÏÇ¨ Ïãú Ìà¨ÌëúÏö©ÏßÄÏôÄ Ïú†ÏÇ¨Ìïú Î™®ÌòïÏùÑ ÏÇ¨Ïö©ÌïòÏó¨ Ï°∞ÏÇ¨ÌïòÎäî Í≤ÉÏù¥ Í∏àÏßÄÎê©ÎãàÎã§.', law:'Ï†ú108Ï°∞‚ë£', pen:'2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à', ex:'' }
    ]
  }
};

// ÏÑ†Í±∞Î≥Ñ ÎÇ†Ïßú Ï†ïÎ≥¥
const regElections = {
  local9: { name:'Ï†ú9Ìöå Ï†ÑÍµ≠ÎèôÏãúÏßÄÎ∞©ÏÑ†Í±∞', date:'2026-06-03', period:14, preOffset:90 },
  assembly23: { name:'Ï†ú23ÎåÄ Íµ≠ÌöåÏùòÏõêÏÑ†Í±∞', date:'2028-04-12', period:14, preOffset:120 }
};

let currentRegPeriod = 'normal';
let currentRegCategory = 'sms';

function updateRegPage() {
  const sel = document.getElementById('regElection').value;
  const dateInput = document.getElementById('regElectionDate');
  if (sel !== 'custom' && regElections[sel]) {
    dateInput.value = regElections[sel].date;
  }
  renderRegPeriodInfo();
  renderRegDetail();
}

function showRegPeriod(period) {
  currentRegPeriod = period;
  document.querySelectorAll('.reg-tab').forEach(t => t.classList.remove('active'));
  event.target.closest('.reg-tab').classList.add('active');
  renderRegPeriodInfo();
  renderRegDetail();
}

function selectRegCategory(key) {
  currentRegCategory = key;
  document.querySelectorAll('.reg-menu-btn').forEach(b => b.classList.remove('active'));
  event.target.closest('.reg-menu-btn').classList.add('active');
  renderRegDetail();
}

function toggleRegItem(el) {
  el.classList.toggle('expanded');
}

function getRegDates() {
  const dateStr = document.getElementById('regElectionDate').value;
  if (!dateStr) return null;
  const eDate = new Date(dateStr);
  const sel = document.getElementById('regElection').value;
  const info = regElections[sel] || { period:14, preOffset:90 };
  const period = info.period;
  const preOffset = info.preOffset;
  const mainStart = new Date(eDate); mainStart.setDate(mainStart.getDate() - period + 1);
  const mainEnd = new Date(eDate); mainEnd.setDate(mainEnd.getDate() - 1);
  const preStart = new Date(eDate); preStart.setDate(preStart.getDate() - (period + preOffset));
  const preEnd = new Date(mainStart); preEnd.setDate(preEnd.getDate() - 1);
  const fmt = d => d.toLocaleDateString('ko-KR',{year:'numeric',month:'long',day:'numeric',weekday:'short'});
  return { eDate, mainStart, mainEnd, preStart, preEnd, period, fmt, eDateStr: fmt(eDate) };
}

function renderRegPeriodInfo() {
  const container = document.getElementById('regPeriodInfo');
  const d = getRegDates();
  if (!d) { container.innerHTML = ''; return; }

  let dateHtml = '', descHtml = '';
  const items = regData[currentRegCategory] ? regData[currentRegCategory][currentRegPeriod] || [] : [];

  if (currentRegPeriod === 'normal') {
    dateHtml = `<strong>~ ${d.fmt(d.preStart)}</strong> (ÏòàÎπÑÌõÑÎ≥¥ Îì±Î°ù Ï†ÑÍπåÏßÄ)`;
    descHtml = 'ÏÑ†Í±∞Í∞Ä Í≥µÍ≥†ÎêòÍ∏∞ Ï†Ñ, ÎòêÎäî ÏòàÎπÑÌõÑÎ≥¥Ïûê Îì±Î°ù Ïù¥Ï†ÑÏùò ÌèâÏÉÅÏãú Í∏∞Í∞ÑÏûÖÎãàÎã§. ÏÇ¨Ï†ÑÏÑ†Í±∞Ïö¥ÎèôÏù¥ ÏóÑÍ≤©Ìûà Í∏àÏßÄÎêòÎÇò, Ïù∏ÌÑ∞ÎÑ∑¬∑SNSÎ•º ÌÜµÌïú ÏùòÍ≤¨ ÌëúÏ∂ú Îì±ÏùÄ ÌóàÏö©Îê©ÎãàÎã§.';
  } else if (currentRegPeriod === 'pre') {
    dateHtml = `<strong>${d.fmt(d.preStart)} ~ ${d.fmt(d.preEnd)}</strong>`;
    descHtml = 'ÏòàÎπÑÌõÑÎ≥¥Ïûê Îì±Î°ù ÌõÑÎ∂ÄÌÑ∞ ÏÑ†Í±∞Í∏∞Í∞Ñ ÏãúÏûë Ï†ÑÍπåÏßÄÏùò Í∏∞Í∞ÑÏûÖÎãàÎã§. Ï†úÌïúÎêú Î≤îÏúÑÏùò ÏÑ†Í±∞Ïö¥ÎèôÏù¥ ÌóàÏö©Îê©ÎãàÎã§.';
  } else {
    dateHtml = `<strong>${d.fmt(d.mainStart)} ~ ${d.fmt(d.mainEnd)}</strong> (ÏÑ†Í±∞Ïùº: ${d.eDateStr})`;
    descHtml = `ÏÑ†Í±∞Í∏∞Í∞Ñ ÏãúÏûëÏùº(ÌõÑÎ≥¥ÏûêÎì±Î°ù ÎßàÍ∞êÏùº Îã§Ïùå ÎÇ†)Î∂ÄÌÑ∞ ÏÑ†Í±∞Ïùº Ï†ÑÏùºÍπåÏßÄ ${d.period}ÏùºÍ∞ÑÏûÖÎãàÎã§. Î≤ïÏ†ï Î∞©ÏãùÏùò Í≥µÏãù ÏÑ†Í±∞Ïö¥ÎèôÏù¥ ÌóàÏö©Îê©ÎãàÎã§.`;
  }

  // ÏöîÏïΩ ÏßëÍ≥Ñ
  let allowedList = [], condList = [], prohibList = [];
  regCategories.forEach(cat => {
    const catItems = regData[cat.key] ? regData[cat.key][currentRegPeriod] || [] : [];
    catItems.forEach(item => {
      const label = cat.icon + ' ' + item.t;
      if (item.s === 'allowed') allowedList.push(label);
      else if (item.s === 'conditional') condList.push(label);
      else prohibList.push(label);
    });
  });

  container.innerHTML = `
    <div class="reg-period-dates">üìÖ ${dateHtml}</div>
    <div style="font-size:13px; color:var(--gray-700); margin-bottom:10px;">${descHtml}</div>
    <div class="reg-summary-grid">
      <div class="reg-summary-box s-allowed"><h4>‚úÖ ÌóàÏö© (${allowedList.length}Í±¥)</h4><ul>${allowedList.slice(0,5).map(i=>'<li>'+i+'</li>').join('')}${allowedList.length>5?'<li style="color:var(--gray-500);">...Ïô∏ '+(allowedList.length-5)+'Í±¥</li>':''}</ul>${allowedList.length===0?'<span style="font-size:12px;color:var(--gray-500);">ÏóÜÏùå</span>':''}</div>
      <div class="reg-summary-box s-conditional"><h4>‚ö†Ô∏è Ï°∞Í±¥Î∂Ä ÌóàÏö© (${condList.length}Í±¥)</h4><ul>${condList.slice(0,5).map(i=>'<li>'+i+'</li>').join('')}${condList.length>5?'<li style="color:var(--gray-500);">...Ïô∏ '+(condList.length-5)+'Í±¥</li>':''}</ul>${condList.length===0?'<span style="font-size:12px;color:var(--gray-500);">ÏóÜÏùå</span>':''}</div>
      <div class="reg-summary-box s-prohibited"><h4>üö´ Í∏àÏßÄ (${prohibList.length}Í±¥)</h4><ul>${prohibList.slice(0,5).map(i=>'<li>'+i+'</li>').join('')}${prohibList.length>5?'<li style="color:var(--gray-500);">...Ïô∏ '+(prohibList.length-5)+'Í±¥</li>':''}</ul>${prohibList.length===0?'<span style="font-size:12px;color:var(--gray-500);">ÏóÜÏùå</span>':''}</div>
    </div>
  `;
}

function renderRegMenu() {
  const menu = document.getElementById('regMenu');
  menu.innerHTML = regCategories.map((cat, i) => {
    const items = regData[cat.key] ? regData[cat.key][currentRegPeriod] || [] : [];
    const ac = items.filter(x=>x.s==='allowed').length;
    const cc = items.filter(x=>x.s==='conditional').length;
    const pc = items.filter(x=>x.s==='prohibited').length;
    const activeClass = cat.key === currentRegCategory ? ' active' : '';
    return `<button class="reg-menu-btn${activeClass}" onclick="selectRegCategory('${cat.key}')">${cat.icon} ${cat.title} <span style="font-size:11px; opacity:0.7;">(${ac?'‚úÖ'+ac:''} ${cc?'‚ö†Ô∏è'+cc:''} ${pc?'üö´'+pc:''})</span></button>`;
  }).join('');
}

function renderRegDetail() {
  renderRegMenu();
  const panel = document.getElementById('regDetailPanel');
  const cat = regCategories.find(c => c.key === currentRegCategory);
  const items = regData[currentRegCategory] ? regData[currentRegCategory][currentRegPeriod] || [] : [];

  if (items.length === 0) {
    panel.innerHTML = `<div class="reg-detail-panel"><div class="reg-detail-header"><h3>${cat.icon} ${cat.title}</h3></div><div style="padding:24px;color:var(--gray-500);">Ïù¥ Í∏∞Í∞ÑÏóê Ìï¥ÎãπÌïòÎäî Í∑úÏ†ïÏù¥ ÏóÜÏäµÎãàÎã§.</div></div>`;
    return;
  }

  const badgeText = { allowed:'ÌóàÏö©', conditional:'Ï°∞Í±¥Î∂Ä', prohibited:'Í∏àÏßÄ' };
  let html = `<div class="reg-detail-panel"><div class="reg-detail-header"><h3>${cat.icon} ${cat.title}</h3></div><div class="reg-detail-body">`;

  items.forEach((item, idx) => {
    const exLines = item.ex ? item.ex.split('\n').filter(l=>l.trim()).map(l => `<div style="margin:3px 0;">${l}</div>`).join('') : '';
    html += `<div class="reg-item" onclick="toggleRegItem(this)">
      <span class="reg-badge ${item.s}">${badgeText[item.s]}</span>
      <div class="reg-item-content">
        <div class="reg-item-title">${item.t}</div>
        <div class="reg-item-expand">
          <div style="color:var(--gray-700); line-height:1.6; margin-bottom:8px;">${item.d} <span class="law-ref">${item.law}</span></div>
          ${item.pen ? `<div class="reg-penalty">‚öñÔ∏è ÏúÑÎ∞ò Ïãú: ${item.pen}</div>` : ''}
          ${exLines ? `<div class="reg-ex"><div class="reg-ex-title">üìå Íµ¨Ï≤¥Ï†Å ÏòàÏãú</div>${exLines}</div>` : ''}
        </div>
      </div>
      <span class="reg-item-arrow">‚ñ∂</span>
    </div>`;
  });

  html += '</div></div>';
  panel.innerHTML = html;
}

// Ï¥àÍ∏∞ Î†åÎçîÎßÅ
document.addEventListener('DOMContentLoaded', function() {
  setTimeout(function() { renderRegPeriodInfo(); renderRegDetail(); }, 100);
});

// ====== Ï†ÅÎ≤ïÏÑ± Î∂ÑÏÑùÍ∏∞ ======
let currentAnalyzerTab = 'text';

const analyzerExamples = [
  { text: 'Ïù¥Î≤à 6Ïõî 3Ïùº Ìà¨ÌëúÏùºÏûÖÎãàÎã§. ÏÜåÏ§ëÌïú Ìïú ÌëúÎ•º Íº≠ ÌñâÏÇ¨Ìï¥ Ï£ºÏÑ∏Ïöî! ÎåÄÌïúÎØºÍµ≠Ïùò ÎØ∏ÎûòÎäî Ïó¨Îü¨Î∂ÑÏùò ÏÑ†ÌÉùÏóê Îã¨Î†§ ÏûàÏäµÎãàÎã§.', desc: 'ÏÑ†Í±∞Ïùº Ìà¨ÌëúÎèÖÎ†§ Î¨∏Ïûê' },
  { text: 'ÏïàÎÖïÌïòÏÑ∏Ïöî! Í∏∞Ìò∏ 3Î≤à ÍπÄ‚óã‚óãÏûÖÎãàÎã§. Ïù¥Î≤à ÏßÄÎ∞©ÏÑ†Í±∞ÏóêÏÑú Ï†ÄÎ•º Íº≠ ÏßÄÏßÄÌï¥ Ï£ºÏã≠ÏãúÏò§. Íπ®ÎÅóÌïú Ï†ïÏπò, ÏùºÌïòÎäî ÏùòÌöåÎ•º ÎßåÎì§Í≤†ÏäµÎãàÎã§. ÍπÄ‚óã‚óã ÎìúÎ¶º', desc: 'ÌõÑÎ≥¥ ÏßÄÏßÄ ÏöîÏ≤≠ Î¨∏Ïûê' },
  { text: 'Ïö∞Î¶¨ ÏßÄÏó≠ÏùÑ Î∞îÍøÄ ÏßÑÏ†ïÌïú ÏùºÍæº! Í∏∞Ìò∏ 2Î≤à Î∞ï‚óã‚óã ÌõÑÎ≥¥Î•º ÏùëÏõêÌï©ÎãàÎã§. #ÏßÄÎ∞©ÏÑ†Í±∞ #Î∞ï‚óã‚óã #Î≥ÄÌôî #ÌòÅÏã† ‚úä Ìï®ÍªòÎùºÎ©¥ Ìï† Ïàò ÏûàÏäµÎãàÎã§! Í≥µÏú† Î∂ÄÌÉÅÎìúÎ†§Ïöî~', desc: 'SNS ÌõÑÎ≥¥ ÌôçÎ≥¥Í∏Ä' },
  { text: 'Í∏∞Ìò∏ 1Î≤à Ïù¥‚óã‚óã\nÍπ®ÎÅóÌïú ‚óã‚óãÏãúÎ•º ÎßåÎì§Í≤†ÏäµÎãàÎã§\n- ÍµêÌÜµ Î¨∏Ï†ú Ìï¥Í≤∞\n- Î≥µÏßÄ ÏòàÏÇ∞ ÌôïÎåÄ\n- Ï≤≠ÎÖÑ ÏùºÏûêÎ¶¨ Ï∞ΩÏ∂ú\n‚óã‚óãÎãπ ‚óã‚óãÏãúÏû• ÌõÑÎ≥¥ Ïù¥‚óã‚óã', desc: 'ÌòÑÏàòÎßâ Î¨∏Íµ¨' },
  { text: 'Ï∂ïÌïòÌï©ÎãàÎã§! ‚óã‚óã‚óã ÌõÑÎ≥¥ÎãòÏùò ÎãπÏÑ†ÏùÑ ÏßÑÏã¨ÏúºÎ°ú Ï∂ïÌïòÎìúÎ¶ΩÎãàÎã§. ÏûëÏùÄ ÏÑ±ÏùòÎ°ú Ï∂ïÌïò ÌôîÌôòÏùÑ Î≥¥ÎÇ¥ÎìúÎ¶ΩÎãàÎã§. ÏïûÏúºÎ°úÏùò ÏùòÏ†ïÌôúÎèôÏùÑ Í∏∞ÎåÄÌï©ÎãàÎã§.', desc: 'ÎãπÏÑ† Ï∂ïÌïò Î¨∏Ïûê' },
  { text: 'ÏïÑÏßÅ ÏÑ†Í±∞Í∞Ä Î©ÄÏóàÏßÄÎßå, Îã§Ïùå ÏÑ†Í±∞ÏóêÏÑúÎäî Íº≠ ÍπÄ‚óã‚óã ÏùòÏõêÎãòÏùÑ Ï∞çÏñ¥Ï£ºÏÑ∏Ïöî! Ïö∞Î¶¨ ÎèôÎÑ§Î•º ÏúÑÌï¥ ÏùºÌïòÎäî Î∂ÑÏùÄ ÍπÄ‚óã‚óã ÏùòÏõêÎãòÎøêÏûÖÎãàÎã§.', desc: 'ÏÇ¨Ï†ÑÏÑ†Í±∞Ïö¥Îèô Î¨∏Ïûê' },
  { text: '‚óã‚óãÎãπ ‚óã‚óãÏßÄÏó≠ ÎãπÏõê Ïó¨Îü¨Î∂Ñ! Ïù¥Î≤à Ï£º ÌÜ†ÏöîÏùº Ï†ïÍ∏∞ ÎãπÏõê Î™®ÏûÑÏù¥ ÏûàÏäµÎãàÎã§. Ïû•ÏÜå: ‚óã‚óãÍµ¨ ÎãπÏÇ¨ / ÏãúÍ∞Ñ: Ïò§ÌõÑ 2Ïãú. ÎßéÏùÄ Ï∞∏ÏÑù Î∞îÎûçÎãàÎã§.', desc: 'Ï†ïÎãπ ÌôúÎèô ÏïàÎÇ¥' },
  { text: 'Í∏¥Í∏â! Í∏∞Ìò∏ 2Î≤à ‚óã‚óã‚óã ÌõÑÎ≥¥Í∞Ä Ï†ÑÍ≥º 3Î≤îÏù¥ÎùºÎäî ÏÇ¨Ïã§ÏùÑ ÏïÑÏãúÎÇòÏöî? Ïù¥Îü∞ ÏÇ¨ÎûåÏù¥ ÏãúÏùòÏõêÏù¥ ÎêòÎ©¥ Ïïà Îê©ÎãàÎã§. ÎÑêÎ¶¨ ÏïåÎ†§Ï£ºÏÑ∏Ïöî!', desc: 'ÌóàÏúÑÏÇ¨Ïã§ Ïú†Ìè¨ ÏùòÏã¨' }
];

function switchAnalyzerTab(tab) {
  currentAnalyzerTab = tab;
  document.querySelectorAll('.analyzer-tab').forEach(t => t.classList.remove('active'));
  event.target.closest('.analyzer-tab').classList.add('active');
  document.getElementById('analyzerTextArea').style.display = tab === 'text' ? 'block' : 'none';
  document.getElementById('analyzerImageArea').style.display = tab === 'image' ? 'block' : 'none';
  document.getElementById('analyzerResult').classList.remove('show');
}

function setAnalyzerExample(idx) {
  const ex = analyzerExamples[idx];
  if (ex) {
    document.getElementById('analyzerText').value = ex.text;
  }
}

function handleAnalyzerImage(event) {
  const file = event.target.files[0];
  if (!file) return;
  const reader = new FileReader();
  reader.onload = function(e) {
    const img = document.getElementById('analyzerImgPreview');
    img.src = e.target.result;
    img.style.display = 'block';
    document.getElementById('analyzerImgPlaceholder').style.display = 'none';
    document.getElementById('analyzerImgDrop').classList.add('has-image');
  };
  reader.readAsDataURL(file);
}

// Î∂ÑÏÑù Í∑úÏπô Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§
const analysisRules = [
  // === ÏÇ¨Ï†ÑÏÑ†Í±∞Ïö¥Îèô ===
  { id:'pre_campaign', cat:'ÏÇ¨Ï†ÑÏÑ†Í±∞Ïö¥Îèô', severity:'danger',
    keywords: ['Îã§Ïùå ÏÑ†Í±∞','ÎÇ¥ÎÖÑ ÏÑ†Í±∞','Îã§Í∞ÄÏò§Îäî ÏÑ†Í±∞','Íº≠ Ï∞çÏñ¥','Íº≠ ÎΩëÏïÑ','ÏÑ†Í±∞ÏóêÏÑú ÏßÄÏßÄ','Ìà¨ÌëúÌï¥ Ï£º','Ìà¨ÌëúÌï¥Ï£º','Ìïú ÌëúÎ•º Ï£º','ÌïúÌëúÎ•º Ï£º'],
    condition: p => p === 'normal',
    title: 'ÏÇ¨Ï†ÑÏÑ†Í±∞Ïö¥Îèô Í∏àÏßÄ ÏúÑÎ∞ò Í∞ÄÎä•ÏÑ±',
    desc: 'ÎπÑÏÑ†Í±∞Í∏∞Í∞ÑÏóê ÌäπÏ†ï ÌõÑÎ≥¥Ïóê ÎåÄÌïú Ìà¨Ìëú ÎèÖÎ†§ ÎòêÎäî ÏßÄÏßÄ Ìò∏ÏÜåÎäî ÏÇ¨Ï†ÑÏÑ†Í±∞Ïö¥ÎèôÏóê Ìï¥ÎãπÌï† Ïàò ÏûàÏäµÎãàÎã§.',
    law: 'Ï†ú254Ï°∞(ÏÑ†Í±∞Ïö¥ÎèôÍ∏∞Í∞ÑÏúÑÎ∞òÏ£Ñ)', pen: '2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à',
    fix: 'ÎπÑÏÑ†Í±∞Í∏∞Í∞ÑÏóêÎäî ÌäπÏ†ï ÌõÑÎ≥¥¬∑Ï†ïÎãπÏóê ÎåÄÌïú Ìà¨Ìëú ÎèÖÎ†§Î•º ÌïòÏßÄ ÎßàÏÑ∏Ïöî. Ï†ïÏ±Ö ÌÜ†Î°†Ïù¥ÎÇò ÏùòÍ≤¨ ÌëúÏ∂úÏùÄ Í∞ÄÎä•Ìï©ÎãàÎã§.'
  },
  // === ÌäπÏ†ï ÌõÑÎ≥¥ ÏßÄÏßÄ ÌëúÌòÑ ===
  { id:'candidate_support', cat:'ÌõÑÎ≥¥ ÏßÄÏßÄ ÌëúÌòÑ', severity:'warning',
    keywords: ['Í∏∞Ìò∏','ÌõÑÎ≥¥','ÏßÄÏßÄ','ÏùëÏõê','Ï∞çÏñ¥','ÎΩëÏïÑ','Ìà¨ÌëúÌï¥','ÎãπÏÑ†'],
    condition: null,
    title: 'ÌäπÏ†ï ÌõÑÎ≥¥ ÏßÄÏßÄ ÌëúÌòÑ Ìè¨Ìï®',
    desc: 'Í∏∞Ìò∏ Î≤àÌò∏ÎÇò ÌõÑÎ≥¥ÏûêÎ™ÖÏùÑ Í±∞Î°†Ìïú ÏßÄÏßÄ Ìò∏ÏÜåÍ∞Ä Ìè¨Ìï®ÎêòÏñ¥ ÏûàÏäµÎãàÎã§. ÏãúÍ∏∞ÏôÄ Î∞©Î≤ïÏóê Îî∞Îùº Ï†ÅÎ≤ïÏÑ±Ïù¥ Îã¨ÎùºÏßëÎãàÎã§.',
    law: 'Ï†ú58Ï°∞(ÏÑ†Í±∞Ïö¥ÎèôÏùò Ï†ïÏùò)', pen: 'Î∞©Î≤ï¬∑ÏãúÍ∏∞Î≥Ñ ÏÉÅÏù¥',
    fix: 'Î≥∏ÏÑ†Í±∞ Í∏∞Í∞ÑÏóêÎäî Î≤ïÏ†ï Î∞©Ïãù(Î¨∏Ïûê, Ï†ÑÌôî, Ïù∏ÌÑ∞ÎÑ∑ Îì±)ÏúºÎ°ú Í∞ÄÎä•Ìï©ÎãàÎã§. ÏòàÎπÑÌõÑÎ≥¥ Í∏∞Í∞ÑÏóêÎäî Ï†úÌïúÏ†Å, ÎπÑÏÑ†Í±∞Í∏∞Í∞ÑÏóêÎäî Ïù∏ÌÑ∞ÎÑ∑ ÏùòÍ≤¨ ÌëúÏ∂ú Ïô∏ Í∏àÏßÄÎê©ÎãàÎã§.'
  },
  // === Î¨∏ÏûêÎ©îÏãúÏßÄ Í∑úÏ†ï ===
  { id:'sms_noid', cat:'Î¨∏ÏûêÎ©îÏãúÏßÄ', severity:'danger',
    keywords: ['Î¨∏Ïûê','SMS','MMS'],
    matchText: t => (t.includes('ÌõÑÎ≥¥') || t.includes('Í∏∞Ìò∏') || t.includes('ÏßÄÏßÄ')) && !t.includes('Ï†ÑÏÜ°Ïûê') && !t.includes('Î∞úÏã†'),
    condition: p => p === 'main' || p === 'pre',
    title: 'Î¨∏ÏûêÎ©îÏãúÏßÄ Ï†ÑÏÜ°Ïûê Ï†ïÎ≥¥ ÎØ∏ÌëúÍ∏∞',
    desc: 'ÏÑ†Í±∞Ïö¥Îèô Î¨∏ÏûêÎ©îÏãúÏßÄÏóêÎäî Ï†ÑÏÜ°ÏûêÏùò ÏÑ±Î™Ö¬∑Ï†ÑÌôîÎ≤àÌò∏Î•º Î∞òÎìúÏãú ÌëúÏãúÌï¥Ïïº Ìï©ÎãàÎã§.',
    law: 'Ï†ú82Ï°∞Ïùò5(Ï†ÑÌôî¬∑Î¨∏ÏûêÎ©îÏãúÏßÄÎ•º Ïù¥Ïö©Ìïú ÏÑ†Í±∞Ïö¥Îèô)', pen: '2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à',
    fix: 'Î¨∏Ïûê ÎßêÎØ∏Ïóê "Ï†ÑÏÜ°Ïûê: ‚óã‚óã‚óã (010-XXXX-XXXX)" ÌòïÌÉúÎ°ú Î∞úÏã†Ïûê Ï†ïÎ≥¥Î•º Î∞òÎìúÏãú Í∏∞Ïû¨ÌïòÏÑ∏Ïöî.'
  },
  { id:'sms_auto', cat:'Î¨∏ÏûêÎ©îÏãúÏßÄ', severity:'danger',
    keywords: ['ÏûêÎèôÎ∞úÏÜ°','ÎåÄÎüâÎ∞úÏÜ°','ÎåÄÎüâÎ¨∏Ïûê','ÏûêÎèôÏ†ÑÏÜ°','Î¨∏ÏûêÌè≠ÌÉÑ'],
    condition: null,
    title: 'ÏûêÎèô ÎåÄÎüâ Î¨∏Ïûê Ï†ÑÏÜ° Ïãú Ï£ºÏùò',
    desc: 'ÌõÑÎ≥¥Ïûê¬∑ÏòàÎπÑÌõÑÎ≥¥Ïûê Î≥∏Ïù∏ Î™ÖÏùòÏùò Ïã†Í≥†Îêú Î≤àÌò∏Î°úÎßå ÏûêÎèô ÎèôÎ≥¥ÌÜµÏã†(ÎåÄÎüâ Î¨∏Ïûê)ÏùÑ Ï†ÑÏÜ°Ìï† Ïàò ÏûàÏäµÎãàÎã§. Ï†ú3Ïûê Î™ÖÏùò¬∑ÎØ∏Ïã†Í≥† Î≤àÌò∏Î°ú ÏûêÎèô Î∞úÏÜ°ÌïòÎ©¥ ÏúÑÎ≤ïÏûÖÎãàÎã§.',
    law: 'Ï†ú82Ï°∞Ïùò5(Ï†ÑÌôî¬∑Î¨∏ÏûêÎ©îÏãúÏßÄÎ•º Ïù¥Ïö©Ìïú ÏÑ†Í±∞Ïö¥Îèô)', pen: '2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à',
    fix: 'ÎåÄÎüâ Î¨∏ÏûêÎäî Î∞òÎìúÏãú ÌõÑÎ≥¥Ïûê(ÏòàÎπÑÌõÑÎ≥¥Ïûê) Î≥∏Ïù∏ Î™ÖÏùò, ÏÑ†Í¥ÄÏúÑÏóê Ïã†Í≥†Îêú Ï†ÑÌôîÎ≤àÌò∏Î°úÎßå Î∞úÏÜ°ÌïòÏÑ∏Ïöî. ÏàòÏã†Í±∞Î∂Ä Ï¶âÏãú Ï§ëÎã® ÏùòÎ¨¥ÎèÑ ÏûàÏäµÎãàÎã§.'
  },
  // === Í∏∞Î∂ÄÌñâÏúÑ ===
  { id:'donation', cat:'Í∏∞Î∂ÄÌñâÏúÑ', severity:'danger',
    keywords: ['ÏÑ†Î¨º','ÏÉÅÌíà','Í≤ΩÌíà','ÏùåÏãù','ÏãùÏÇ¨','Ï†úÍ≥µ','Î¨¥Î£å','Í∏∞Î∂Ä','Í∏∞Ï¶ù','ÌôîÌôò','Ï∂ïÏùòÍ∏à','Î∂ÄÏùòÍ∏à','ÌõÑÏõê','Ï∞¨Ï°∞'],
    condition: null,
    title: 'Í∏∞Î∂ÄÌñâÏúÑ Í∏àÏßÄ ÏúÑÎ∞ò Í∞ÄÎä•ÏÑ±',
    desc: 'ÌõÑÎ≥¥Ïûê(ÏòàÎπÑÌõÑÎ≥¥Ïûê Ìè¨Ìï®)Í∞Ä ÏÑ†Í±∞Íµ¨ÎØºÏóêÍ≤å Í∏àÏ†Ñ¬∑Î¨ºÌíà¬∑Ìñ•Ïùë Îì±ÏùÑ Ï†úÍ≥µÌïòÎäî Í≤ÉÏùÄ ÏÉÅÏãú Í∏àÏßÄÎê©ÎãàÎã§.',
    law: 'Ï†ú112Ï°∞¬∑Ï†ú113Ï°∞(Í∏∞Î∂ÄÌñâÏúÑÏùò Í∏àÏßÄ)', pen: '5ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 3,000ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à',
    fix: 'ÏÑ†Í±∞Íµ¨ ÎÇ¥ÏóêÏÑú Ïñ¥Îñ†Ìïú Î™ÖÎ™©ÏúºÎ°úÎì† Í∏àÏ†Ñ¬∑Î¨ºÌíà¬∑ÏãùÏÇ¨ Îì±ÏùÑ Ï†úÍ≥µÌïòÏßÄ ÎßàÏÑ∏Ïöî. Í≤ΩÏ°∞ÏÇ¨ÎπÑÎèÑ Î≤ïÏ†ï ÌïúÎèÑ(5ÎßåÏõê)Î•º Ï¥àÍ≥ºÌïòÎ©¥ Ïïà Îê©ÎãàÎã§.'
  },
  // === ÌóàÏúÑÏÇ¨Ïã§ ===
  { id:'false_info', cat:'ÌóàÏúÑÏÇ¨Ïã§ Ïú†Ìè¨', severity:'danger',
    keywords: ['Ï†ÑÍ≥º','Î≤îÏ£Ñ','ÎπÑÎ¶¨','Î∂ÄÏ†ï','ÎáåÎ¨º','Ìö°Î†π','ÏÇ¨Í∏∞','Í±∞Ïßì','ÌóàÏúÑ','Í∞ÄÏßú'],
    matchText: t => (t.includes('ÌõÑÎ≥¥') || t.includes('Í∏∞Ìò∏')) && (t.includes('Ï†ÑÍ≥º') || t.includes('ÎπÑÎ¶¨') || t.includes('Î≤îÏ£Ñ') || t.includes('ÏÇ¨Ïã§ÏùÑ ÏïÑÏãú') || t.includes('Í±∞Ïßì')),
    condition: null,
    title: 'ÌóàÏúÑÏÇ¨Ïã§ Í≥µÌëú¬∑Ïú†Ìè¨ ÏùòÏã¨',
    desc: 'ÏÑ†Í±∞Ïóê Í¥ÄÌïòÏó¨ ÌõÑÎ≥¥ÏûêÏóêÍ≤å Î∂àÎ¶¨ÌïòÎèÑÎ°ù ÌóàÏúÑÏùò ÏÇ¨Ïã§ÏùÑ Í≥µÌëúÌïòÎäî Í≤ÉÏùÄ ÏóÑÍ≤©Ìûà Í∏àÏßÄÎê©ÎãàÎã§.',
    law: 'Ï†ú250Ï°∞(ÌóàÏúÑÏÇ¨Ïã§Í≥µÌëúÏ£Ñ)', pen: '5ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 3,000ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à',
    fix: 'ÏÇ¨Ïã§ Ïó¨Î∂ÄÍ∞Ä ÌôïÏù∏ÎêòÏßÄ ÏïäÏùÄ ÎÇ¥Ïö©ÏùÄ Ïú†Ìè¨ÌïòÏßÄ ÎßàÏÑ∏Ïöî. ÏßÑÏã§Ìïú ÏÇ¨Ïã§Ïù¥ÎùºÎèÑ Í≥µÏó∞Ìûà Î™ÖÏòàÎ•º ÌõºÏÜêÌïòÎ©¥ Ï≤òÎ≤å ÎåÄÏÉÅÏù¥ Îê† Ïàò ÏûàÏäµÎãàÎã§.'
  },
  // === ÎπÑÎ∞© ===
  { id:'defamation', cat:'ÌõÑÎ≥¥Ïûê ÎπÑÎ∞©', severity:'danger',
    keywords: ['Î¨¥Îä•','Î™ªÎÇú','Ïì∏Î™®ÏóÜ','ÏûêÍ≤©ÏóÜ','ÏûêÏßàÏóÜ','Ïã§Ìå®','ÏµúÏïÖ','ÏÇ¨Ìá¥','Î¨ºÎü¨ÎÇò','Ìá¥Ï∂ú'],
    matchText: t => (t.includes('ÌõÑÎ≥¥') || t.includes('Í∏∞Ìò∏') || t.includes('ÏùòÏõê')) && (t.includes('Î¨¥Îä•') || t.includes('ÏµúÏïÖ') || t.includes('ÏûêÍ≤©') || t.includes('ÏÇ¨Ìá¥')),
    condition: null,
    title: 'ÌõÑÎ≥¥Ïûê ÎπÑÎ∞© Í∏àÏßÄ ÏúÑÎ∞ò Í∞ÄÎä•ÏÑ±',
    desc: 'ÎãπÏÑ†ÎêòÍ±∞ÎÇò ÎêòÍ≤å ÌïòÍ±∞ÎÇò ÎêòÏßÄ Î™ªÌïòÍ≤å Ìï† Î™©Ï†ÅÏúºÎ°ú ÌõÑÎ≥¥ÏûêÎ•º ÎπÑÎ∞©ÌïòÎäî Í≤ÉÏùÄ Í∏àÏßÄÎê©ÎãàÎã§.',
    law: 'Ï†ú251Ï°∞(ÌõÑÎ≥¥ÏûêÎπÑÎ∞©Ï£Ñ)', pen: '3ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 500ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à',
    fix: 'ÏÉÅÎåÄ ÌõÑÎ≥¥Ïóê ÎåÄÌïú Î∂ÄÏ†ïÏ†Å ÌëúÌòÑÏùÑ ÌîºÌïòÍ≥†, Ï†ïÏ±Ö ÎπÑÍµêÎÇò ÏûêÏã†Ïùò Í≥µÏïΩÏóê ÏßëÏ§ëÌïòÏÑ∏Ïöî.'
  },
  // === Ìò∏Î≥ÑÎ∞©Î¨∏ ===
  { id:'door_to_door', cat:'Ìò∏Î≥ÑÎ∞©Î¨∏', severity:'danger',
    keywords: ['ÏßëÏßëÎßàÎã§','Ìò∏Î≥ÑÎ∞©Î¨∏','ÏÑ∏ÎåÄÎ∞©Î¨∏','ÏïÑÌååÌä∏ Î∞©Î¨∏','Ïßë Î∞©Î¨∏','Ï¥àÏù∏Ï¢Ö','Í∞ÄÍ∞ÄÌò∏Ìò∏','Ìò∏Î≥Ñ Î∞©Î¨∏','ÏßëÏßëÏù¥'],
    condition: null,
    title: 'Ìò∏Î≥ÑÎ∞©Î¨∏ Í∏àÏßÄ ÏúÑÎ∞ò Í∞ÄÎä•ÏÑ±',
    desc: 'ÏÑ†Í±∞Ïö¥ÎèôÏùÑ ÏúÑÌïú Ìò∏Î≥ÑÎ∞©Î¨∏(Í∞ÄÍ∞ÄÌò∏Ìò∏ Î∞©Î¨∏)ÏùÄ Ïñ¥Îñ§ ÏãúÍ∏∞ÏóêÎèÑ Ï†ÑÎ©¥ Í∏àÏßÄÎê©ÎãàÎã§.',
    law: 'Ï†ú106Ï°∞(Ìò∏Î≥ÑÎ∞©Î¨∏Ïùò Ï†úÌïú)', pen: '2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à',
    fix: 'ÏßëÏßëÎßàÎã§ Î∞©Î¨∏ÌïòÎäî ÌòïÌÉúÏùò ÏÑ†Í±∞Ïö¥ÎèôÏùÄ Ï†àÎåÄ ÌïòÏßÄ ÎßàÏÑ∏Ïöî. Í≥µÍ∞ú Ïû•ÏÜåÏóêÏÑúÏùò Ïù∏ÏÇ¨¬∑Î™ÖÌï® Î∞∞Î∂ÄÎäî Í∞ÄÎä•Ìï©ÎãàÎã§.'
  },
  // === Ïó¨Î°†Ï°∞ÏÇ¨ ===
  { id:'poll_pub', cat:'Ïó¨Î°†Ï°∞ÏÇ¨', severity:'warning',
    keywords: ['Ïó¨Î°†Ï°∞ÏÇ¨','ÏßÄÏßÄÏú®','ÏßÄÏßÄÎèÑ','Ï°∞ÏÇ¨Í≤∞Í≥º','ÏÑ§Î¨∏Ï°∞ÏÇ¨','Ï∂úÍµ¨Ï°∞ÏÇ¨'],
    condition: p => p === 'main',
    title: 'Ïó¨Î°†Ï°∞ÏÇ¨ Í≤∞Í≥º Í≥µÌëú ÏãúÍ∏∞ ÌôïÏù∏ ÌïÑÏöî',
    desc: 'ÏÑ†Í±∞Ïùº Ï†Ñ 6ÏùºÎ∂ÄÌÑ∞ Ìà¨Ìëú ÎßàÍ∞êÍπåÏßÄ Ïó¨Î°†Ï°∞ÏÇ¨ Í≤∞Í≥ºÏùò Í≥µÌëú¬∑Ïù∏Ïö©¬∑Î≥¥ÎèÑÍ∞Ä Í∏àÏßÄÎê©ÎãàÎã§. ÏÑ†Í±∞Ïùº Ï†Ñ 7ÏùºÍπåÏßÄÎßå Í≥µÌëú Í∞ÄÎä•Ìï©ÎãàÎã§.',
    law: 'Ï†ú108Ï°∞‚ë†(Ïó¨Î°†Ï°∞ÏÇ¨Ïùò Í≤∞Í≥ºÍ≥µÌëúÍ∏àÏßÄ)', pen: '3ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 600ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à',
    fix: 'Ïó¨Î°†Ï°∞ÏÇ¨ Í≤∞Í≥ºÎäî ÏÑ†Í±∞Ïùº Ï†Ñ 7ÏùºÍπåÏßÄÎßå Í≥µÌëúÌï† Ïàò ÏûàÏäµÎãàÎã§. ÏÑ†Í±∞Ïùº Ï†Ñ 6ÏùºÎ∂ÄÌÑ∞Îäî ÏùºÏ≤¥ Í≥µÌëú¬∑Ïù∏Ïö©¬∑Î≥¥ÎèÑÍ∞Ä Í∏àÏßÄÎêòÎãà Ï£ºÏùòÌïòÏÑ∏Ïöî.'
  },
  // === Ïù∏ÏáÑÎ¨º Í∑úÍ≤© ===
  { id:'print_rule', cat:'Ïù∏ÏáÑÎ¨º', severity:'warning',
    keywords: ['Ï†ÑÎã®','Î¶¨ÌîåÎ†õ','Ïù∏ÏáÑÎ¨º','ÌôçÎ≥¥Î¨º','Ìå∏ÌîåÎ¶ø','Ïú†Ïù∏Î¨º'],
    condition: p => p === 'main',
    title: 'Ïù∏ÏáÑÎ¨º Í∑úÍ≤©¬∑ÏàòÎüâ ÌôïÏù∏ ÌïÑÏöî',
    desc: 'ÏÑ†Í±∞Ïö¥ÎèôÏö© Ïù∏ÏáÑÎ¨ºÏùÄ Ï¢ÖÎ•òÎ≥ÑÎ°ú Í∑úÍ≤©¬∑ÏàòÎüâ¬∑Î∞∞Î∂Ä Î∞©Î≤ïÏù¥ Î≤ïÏúºÎ°ú Ï†úÌïúÎê©ÎãàÎã§.',
    law: 'Ï†ú65Ï°∞(ÏÑ†Í±∞Í≥µÎ≥¥)¬∑Ï†ú64Ï°∞(ÏÑ†Í±∞Î≤ΩÎ≥¥)', pen: '2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à',
    fix: 'Ïù∏ÏáÑÎ¨ºÏùÄ ÏÑ†Í¥ÄÏúÑÏóê 2Î∂Ä Ï†úÏ∂úÌï¥Ïïº ÌïòÎ©∞, Í∑úÍ≤©(Í∞ÄÎ°ú√óÏÑ∏Î°ú)Í≥º Îß§ÏàòÍ∞Ä Î≤ïÏ†ï ÌïúÎèÑ Ïù¥ÎÇ¥Ïó¨Ïïº Ìï©ÎãàÎã§.'
  },
  // === ÌòÑÏàòÎßâ ===
  { id:'banner', cat:'ÌòÑÏàòÎßâ¬∑Î≤ΩÎ≥¥', severity:'warning',
    keywords: ['ÌòÑÏàòÎßâ','ÌîåÎûòÏπ¥Îìú','Î≤ΩÎ≥¥','Î∞∞ÎÑà','Í∞ÑÌåê','Í±∏Í∞ú'],
    condition: null,
    title: 'ÌòÑÏàòÎßâ¬∑Î≤ΩÎ≥¥ Í≤åÏãú Í∑úÏ†ï ÌôïÏù∏ ÌïÑÏöî',
    desc: 'ÌòÑÏàòÎßâ¬∑Î≤ΩÎ≥¥Îäî Î≤ïÏ†ï Í∑úÍ≤©¬∑ÏàòÎüâ¬∑Ïû•ÏÜåÎ•º Ï§ÄÏàòÌï¥Ïïº ÌïòÎ©∞, ÎπÑÏÑ†Í±∞Í∏∞Í∞ÑÏóêÎäî ÏÑ§ÏπòÍ∞Ä Í∏àÏßÄÎê©ÎãàÎã§.',
    law: 'Ï†ú64Ï°∞(ÏÑ†Í±∞Î≤ΩÎ≥¥)¬∑Ï†ú90Ï°∞(ÏãúÏÑ§Î¨ºÏÑ§Ïπò Îì±Ïùò Í∏àÏßÄ)', pen: '2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à',
    fix: 'Î≥∏ÏÑ†Í±∞ Í∏∞Í∞ÑÏóêÎßå ÏÑ†Í¥ÄÏúÑÍ∞Ä ÏßÄÏ†ïÌïú Ïû•ÏÜåÏóê Î≤ïÏ†ï Í∑úÍ≤©¬∑ÏàòÎüâÏúºÎ°ú Í≤åÏãúÌïòÏÑ∏Ïöî. ÏòàÎπÑÌõÑÎ≥¥ Í∏∞Í∞ÑÏóêÎäî ÏÑ†Í±∞ÏÇ¨Î¨¥ÏÜå Í∞ÑÌåê¬∑ÌòÑÌåêÎßå Í∞ÄÎä•Ìï©ÎãàÎã§.'
  },
  // === Ïù∏ÌÑ∞ÎÑ∑¬∑SNS ===
  { id:'sns_rule', cat:'Ïù∏ÌÑ∞ÎÑ∑¬∑SNS', severity:'info',
    keywords: ['SNS','ÌéòÏù¥Ïä§Î∂Å','Ïù∏Ïä§ÌÉÄ','Ïú†ÌäúÎ∏å','Î∏îÎ°úÍ∑∏','Ïπ¥Ìéò','Ìä∏ÏúÑÌÑ∞','Ìã±ÌÜ°','ÎÑ§Ïù¥Î≤Ñ','Ïπ¥Ïπ¥Ïò§','Î∞¥Îìú','Í≥µÏú†','Ìï¥ÏãúÌÉúÍ∑∏','#'],
    condition: null,
    title: 'SNS¬∑Ïù∏ÌÑ∞ÎÑ∑ Í≤åÏãú Ïãú Ïú†ÏùòÏÇ¨Ìï≠',
    desc: 'Ïù∏ÌÑ∞ÎÑ∑(SNS¬∑Î∏îÎ°úÍ∑∏ Îì±)ÏùÑ ÌÜµÌïú ÏÑ†Í±∞Ïö¥ÎèôÏùÄ ÏÉÅÏãú ÌóàÏö©ÎêòÎÇò, Ïã§Î™Ö ÌôïÏù∏ ÏùòÎ¨¥ÏôÄ Í∑úÏ†ïÏù¥ ÏûàÏäµÎãàÎã§.',
    law: 'Ï†ú82Ï°∞Ïùò4~7(Ïù∏ÌÑ∞ÎÑ∑ÏÑ†Í±∞Ïö¥Îèô)', pen: 'Î∞©Î≤ïÎ≥Ñ ÏÉÅÏù¥',
    fix: 'Ïù∏ÌÑ∞ÎÑ∑ Í≤åÏãúÎ¨ºÏóêÎäî Ïã§Î™Ö(ÎãâÎÑ§ÏûÑÏù¥ ÏïÑÎãå Ïã§Î™Ö)ÏùÑ ÌëúÏãúÌïòÏÑ∏Ïöî. ÌóàÏúÑÏÇ¨Ïã§ Ïú†Ìè¨, ÎπÑÎ∞©ÏùÄ Ïò®ÎùºÏù∏ÏóêÏÑúÎèÑ Ï≤òÎ≤å ÎåÄÏÉÅÏûÖÎãàÎã§.'
  },
  // === Ï†ÑÌôî ===
  { id:'phone_auto', cat:'Ï†ÑÌôî', severity:'danger',
    keywords: ['ÏûêÎèôÏùåÏÑ±','ARS','Î°úÎ≥¥ÏΩú','ÎÖπÏùåÏ†ÑÌôî','ÏûêÎèôÏ†ÑÌôî'],
    condition: p => p !== 'main',
    title: 'ÏûêÎèôÏùåÏÑ±(ARS) Ï†ÑÌôî ÏÇ¨Ïö© Ï†úÌïú',
    desc: 'ÏûêÎèô ÏùåÏÑ± Ï†ÑÌôî(ARS)Îäî Î≥∏ÏÑ†Í±∞ Í∏∞Í∞ÑÏóêÎßå Í∞ÄÎä•ÌïòÎ©∞, ÎπÑÏÑ†Í±∞Í∏∞Í∞Ñ¬∑ÏòàÎπÑÌõÑÎ≥¥ Í∏∞Í∞ÑÏóêÎäî Í∏àÏßÄÎê©ÎãàÎã§.',
    law: 'Ï†ú82Ï°∞Ïùò5‚ë°(Ïù∏ÌÑ∞ÎÑ∑ Í¥ëÍ≥†¬∑ÏûêÎèô ÏÜ°Ï∂ú Ï†úÌïú)', pen: '2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à',
    fix: 'ARS Ï†ÑÌôîÎäî Î≥∏ÏÑ†Í±∞ Í∏∞Í∞ÑÏóêÎßå ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî. ÏòàÎπÑÌõÑÎ≥¥ Í∏∞Í∞ÑÏóêÎäî ÏßÅÏ†ë ÌÜµÌôîÎßå Í∞ÄÎä•Ìï©ÎãàÎã§.'
  },
  // === Ìà¨ÌëúÏùº ÏÑ†Í±∞Ïö¥Îèô Í∏àÏßÄ ===
  { id:'eday_campaign', cat:'ÏÑ†Í±∞Ïùº ÌôúÎèô', severity:'danger',
    keywords: ['Ìà¨ÌëúÏùº','ÏÑ†Í±∞Ïùº','D-day','Ìà¨ÌëúÎãπÏùº','ÏÑ†Í±∞ ÎãπÏùº'],
    matchText: t => (t.includes('Ìà¨ÌëúÏùº') || t.includes('ÏÑ†Í±∞Ïùº') || t.includes('D-day')) && (t.includes('ÌõÑÎ≥¥') || t.includes('Í∏∞Ìò∏') || t.includes('ÏßÄÏßÄ') || t.includes('Ï∞ç')),
    condition: null,
    title: 'ÏÑ†Í±∞Ïùº ÎãπÏùº ÏÑ†Í±∞Ïö¥Îèô Í∏àÏßÄ',
    desc: 'ÏÑ†Í±∞Ïùº ÎãπÏùºÏóêÎäî ÏùºÏ≤¥Ïùò ÏÑ†Í±∞Ïö¥ÎèôÏù¥ Í∏àÏßÄÎê©ÎãàÎã§. Îã®Ïàú Ìà¨Ìëú Ï∞∏Ïó¨ ÎèÖÎ†§Îßå Í∞ÄÎä•Ìï©ÎãàÎã§.',
    law: 'Ï†ú59Ï°∞(ÏÑ†Í±∞Ïö¥ÎèôÍ∏∞Í∞Ñ)¬∑Ï†ú254Ï°∞(ÏÑ†Í±∞Ïö¥ÎèôÍ∏∞Í∞ÑÏúÑÎ∞òÏ£Ñ)', pen: '3ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 600ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à',
    fix: 'ÏÑ†Í±∞Ïùº ÎãπÏùºÏóêÎäî ÌäπÏ†ï ÌõÑÎ≥¥¬∑Ï†ïÎãπÏùÑ Í±∞Î°†ÌïòÏßÄ ÏïäÎäî Îã®Ïàú Ìà¨Ìëú ÎèÖÎ†§Îßå Í∞ÄÎä•Ìï©ÎãàÎã§. "Íº≠ Ìà¨ÌëúÌïòÏÑ∏Ïöî!"Îäî Ï†ÅÎ≤ï, "Í∏∞Ìò∏ ‚óãÎ≤à Ï∞çÏñ¥Ï£ºÏÑ∏Ïöî"Îäî ÏúÑÎ≤ïÏûÖÎãàÎã§.'
  },
  // === Í≥µÎ¨¥Ïõê¬∑ÍµêÏÇ¨ Îì± ===
  { id:'public_officer', cat:'Í≥µÎ¨¥Ïõê¬∑ÍµêÏÇ¨', severity:'warning',
    keywords: ['Í≥µÎ¨¥Ïõê','ÍµêÏÇ¨','ÍµêÏàò','ÍµêÏõê','Íµ∞Ïù∏','Í≤ΩÏ∞∞','ÏÜåÎ∞©Í¥Ä'],
    matchText: t => (t.includes('Í≥µÎ¨¥Ïõê') || t.includes('ÍµêÏÇ¨') || t.includes('ÍµêÏàò') || t.includes('Íµ∞Ïù∏')) && (t.includes('ÌõÑÎ≥¥') || t.includes('ÏÑ†Í±∞') || t.includes('ÏßÄÏßÄ') || t.includes('Ìà¨Ìëú')),
    condition: null,
    title: 'Í≥µÎ¨¥Ïõê¬∑ÍµêÏõê Îì±Ïùò ÏÑ†Í±∞Ïö¥Îèô Ï†úÌïú',
    desc: 'Í≥µÎ¨¥Ïõê, ÍµêÏÇ¨, Íµ∞Ïù∏ Îì±ÏùÄ ÏÑ†Í±∞Ïóê ÏòÅÌñ•ÏùÑ ÎØ∏ÏπòÎäî ÌñâÏúÑÍ∞Ä Í∏àÏßÄÎê©ÎãàÎã§.',
    law: 'Ï†ú60Ï°∞(ÏÑ†Í±∞Ïö¥ÎèôÏùÑ Ìï† Ïàò ÏóÜÎäî Ïûê)¬∑Ï†ú85Ï°∞', pen: '3ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 600ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à',
    fix: 'Í≥µÎ¨¥Ïõê¬∑ÍµêÏõê¬∑Íµ∞Ïù∏ Îì± ÌäπÏ†ï ÏßÅÏóÖÍµ∞ÏùÄ ÏÑ†Í±∞Ïö¥ÎèôÏù¥ Í∏àÏßÄÎê©ÎãàÎã§. Îã®Ïàú Ìà¨Ìëú ÌñâÏÇ¨ Î∞è ÏùòÍ≤¨ ÌëúÏ∂ú Ï†ïÎèÑÎßå Í∞ÄÎä•Ìï©ÎãàÎã§.'
  },
  // === Í∏àÏ†Ñ Ï†úÍ≥µ ===
  { id:'money', cat:'Í∏àÌíà Ï†úÍ≥µ', severity:'danger',
    keywords: ['Îèà','ÌòÑÍ∏à','Ïö©Îèà','ÏàòÎãπ','ÏùºÎãπ','ÍµêÌÜµÎπÑ','ÏãùÎåÄ','Ï∞®ÎπÑ','ÏÇ¨Î°Ä','Î≥¥ÏÉÅ','ÎåÄÍ∞Ä','Ïù∏ÏÑºÌã∞Î∏å'],
    matchText: t => (t.includes('Îèà') || t.includes('ÌòÑÍ∏à') || t.includes('ÏàòÎãπ') || t.includes('ÎåÄÍ∞Ä')) && (t.includes('Ìà¨Ìëú') || t.includes('ÏÑ†Í±∞') || t.includes('ÌõÑÎ≥¥') || t.includes('ÏßÄÏßÄ')),
    condition: null,
    title: 'Îß§Ïàò Î∞è Ïù¥Ìï¥Ïú†ÎèÑ Í∏àÏßÄ ÏúÑÎ∞ò',
    desc: 'ÏÑ†Í±∞ÏôÄ Í¥ÄÎ†®ÌïòÏó¨ Í∏àÌíàÏùÑ Ï£ºÍ±∞ÎÇò Î∞õÎäî ÌñâÏúÑÎäî Îß§ÏàòÏ£ÑÏóê Ìï¥ÎãπÌï©ÎãàÎã§.',
    law: 'Ï†ú230Ï°∞(Îß§Ïàò Î∞è Ïù¥Ìï¥Ïú†ÎèÑÏ£Ñ)', pen: '5ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 3,000ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à',
    fix: 'ÏÑ†Í±∞ÏôÄ Í¥ÄÎ†®Îêú Ïñ¥Îñ†Ìïú Í∏àÏ†ÑÏ†Å ÎåÄÍ∞Ä Ï†úÍ≥µÎèÑ ÌïòÏßÄ ÎßàÏÑ∏Ïöî. ÏÑ†Í±∞Ïö¥ÎèôÏõê ÏàòÎãπÎèÑ Î≤ïÏ†ï Í∏∞Ï§Ä ÎÇ¥ÏóêÏÑúÎßå ÌóàÏö©Îê©ÎãàÎã§.'
  }
];

function runAnalysis() {
  // ÏöîÍ∏àÏ†úÎ≥Ñ ÏÇ¨Ïö© ÌöüÏàò Ï≤¥ÌÅ¨
  const usage = getAnalyzerUsage();
  if (usage.used >= usage.limit) {
    alert(`Ïò§ÎäòÏùò Î∂ÑÏÑù ÌöüÏàò(${usage.limit}Ìöå)Î•º Î™®Îëê ÏÇ¨Ïö©ÌñàÏäµÎãàÎã§.\nÎ¨¥Î£å Ï≤¥ÌóòÏù¥ Ï¢ÖÎ£åÎêú ÌõÑÏóêÎäî ÌîÑÎ°ú(Pro) Ïù¥ÏÉÅ ÏöîÍ∏àÏ†úÎ°ú ÏóÖÍ∑∏Î†àÏù¥ÎìúÌïòÎ©¥ Î¨¥Ï†úÌïúÏúºÎ°ú ÏÇ¨Ïö©Ìï† Ïàò ÏûàÏäµÎãàÎã§.`);
    showPage('pricing');
    return;
  }

  let text = '';
  let mediaType = 'text';

  if (currentAnalyzerTab === 'text') {
    text = document.getElementById('analyzerText').value.trim();
  } else {
    text = document.getElementById('analyzerImgText').value.trim();
    mediaType = document.getElementById('analyzerImgType').value;
  }

  if (!text) {
    alert('Î∂ÑÏÑùÌï† ÎÇ¥Ïö©ÏùÑ ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî.');
    return;
  }

  const periodSel = document.getElementById('analyzerPeriod').value;
  const period = periodSel === 'auto' ? currentRegPeriod : periodSel;
  const elecType = document.getElementById('analyzerElecType').value;

  const issues = [];
  const textLower = text.toLowerCase();

  analysisRules.forEach(rule => {
    let matched = false;

    // ÌÇ§ÏõåÎìú Îß§Ïπ≠
    if (rule.keywords) {
      matched = rule.keywords.some(kw => text.includes(kw));
    }

    // Í≥†Í∏â ÌÖçÏä§Ìä∏ Îß§Ïπ≠
    if (rule.matchText && rule.matchText(text)) {
      matched = true;
    }

    // Í∏∞Í∞Ñ Ï°∞Í±¥
    if (matched && rule.condition && !rule.condition(period)) {
      matched = false;
    }

    if (matched) {
      issues.push(rule);
    }
  });

  // Ïù¥ÎØ∏ÏßÄ Ïú†ÌòïÎ≥Ñ Ï∂îÍ∞Ä Î∂ÑÏÑù
  if (currentAnalyzerTab === 'image') {
    if (mediaType === 'poster' || mediaType === 'flyer') {
      const hasSizeInfo = text.includes('Í∑úÍ≤©') || text.includes('cm') || text.includes('mm');
      if (!hasSizeInfo && period === 'main') {
        issues.push({
          id: 'img_size', cat: 'Ïù∏ÏáÑÎ¨º Í∑úÍ≤©', severity: 'warning',
          title: 'Ïù∏ÏáÑÎ¨º Í∑úÍ≤© ÌôïÏù∏ ÌïÑÏöî',
          desc: 'ÏÑ†Í±∞Ïö¥ÎèôÏö© Ïù∏ÏáÑÎ¨º(Ï†ÑÎã®¬∑Î≤ΩÎ≥¥)ÏùÄ Î≤ïÏ†ï Í∑úÍ≤©ÏùÑ Ï§ÄÏàòÌï¥Ïïº Ìï©ÎãàÎã§.',
          law: 'Ï†ú64Ï°∞¬∑Ï†ú65Ï°∞', pen: '2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à',
          fix: 'ÏÑ†Í±∞Î≤ΩÎ≥¥: Í∞ÄÎ°ú 28cm Ïù¥ÎÇ¥ √ó ÏÑ∏Î°ú 38cm Ïù¥ÎÇ¥. ÏÑ†Í±∞Í≥µÎ≥¥: Í∑úÍ≤© Ï†úÌïú ÏûàÏùå. Î∞òÎìúÏãú ÏÑ†Í¥ÄÏúÑÏóê 2Î∂Ä Ï†úÏ∂úÌïòÏÑ∏Ïöî.'
        });
      }
    }
    if (mediaType === 'namecard') {
      if (period === 'normal') {
        issues.push({
          id: 'img_namecard', cat: 'Î™ÖÌï® Î∞∞Î∂Ä', severity: 'danger',
          title: 'ÎπÑÏÑ†Í±∞Í∏∞Í∞Ñ Î™ÖÌï® Î∞∞Î∂Ä Ï†úÌïú',
          desc: 'ÎπÑÏÑ†Í±∞Í∏∞Í∞ÑÏóê ÏÑ†Í±∞Ïö¥Îèô Î™©Ï†ÅÏùò Î™ÖÌï®ÏùÑ Î∞∞Î∂ÄÌïòÎ©¥ ÏÇ¨Ï†ÑÏÑ†Í±∞Ïö¥ÎèôÏóê Ìï¥ÎãπÌï©ÎãàÎã§.',
          law: 'Ï†ú254Ï°∞', pen: '2ÎÖÑ Ïù¥Ìïò ÏßïÏó≠ ÎòêÎäî 400ÎßåÏõê Ïù¥Ìïò Î≤åÍ∏à',
          fix: 'Î™ÖÌï®Ìòï ÌôçÎ≥¥Î¨ºÏùÄ ÏòàÎπÑÌõÑÎ≥¥Ïûê Îì±Î°ù ÌõÑÎ∂ÄÌÑ∞ Î∞∞Î∂Ä Í∞ÄÎä•Ìï©ÎãàÎã§.'
        });
      }
    }
  }

  // Î¨∏Ïûê Í∏∏Ïù¥ Ï≤¥ÌÅ¨ (SMS vs MMS)
  if (currentAnalyzerTab === 'text' && text.length > 80) {
    const charCount = text.length;
    issues.push({
      id: 'sms_length', cat: 'Î¨∏Ïûê ÌòïÏãù', severity: 'info',
      title: `Î¨∏Ïûê Í∏∏Ïù¥ ${charCount}Ïûê ‚Äî MMS ÌòïÏãù ÌïÑÏöî`,
      desc: `ÏûÖÎ†•Îêú Î¨∏ÏûêÍ∞Ä ${charCount}ÏûêÎ°ú ÏùºÎ∞ò SMS(80Ïûê) ÌïúÎèÑÎ•º Ï¥àÍ≥ºÌï©ÎãàÎã§. MMS ÎòêÎäî Ïû•Î¨∏Î©îÏãúÏßÄ(LMS)Î°ú Î∞úÏÜ°Ìï¥Ïïº Ìï©ÎãàÎã§.`,
      law: 'Ï∞∏Í≥†ÏÇ¨Ìï≠', pen: '',
      fix: '80Ïûê Ïù¥ÎÇ¥Î°ú Ï§ÑÏù¥Î©¥ SMSÎ°ú Î∞úÏÜ° Í∞ÄÎä•Ìï©ÎãàÎã§. Ïû•Î¨∏ Î©îÏãúÏßÄÎäî MMS/LMSÎ°ú Î∞úÏÜ°ÌïòÎêò, Î∞úÏã†Ïûê Ï†ïÎ≥¥Î•º Î∞òÎìúÏãú Ìè¨Ìï®ÌïòÏÑ∏Ïöî.'
    });
  }

  recordAnalyzerUsage();
  const usageAfter = getAnalyzerUsage();
  renderAnalysisResult(text, issues, period, usageAfter);
}

function renderAnalysisResult(text, issues, period, usageInfo) {
  const container = document.getElementById('analyzerResult');
  const periodNames = { normal:'ÎπÑÏÑ†Í±∞Í∏∞Í∞Ñ', pre:'ÏòàÎπÑÌõÑÎ≥¥Ïûê Í∏∞Í∞Ñ', main:'Î≥∏ÏÑ†Í±∞ Í∏∞Í∞Ñ' };

  const dangers = issues.filter(i => i.severity === 'danger');
  const warnings = issues.filter(i => i.severity === 'warning');
  const infos = issues.filter(i => i.severity === 'info');

  let verdict, verdictClass, verdictIcon, verdictDesc;
  if (dangers.length > 0) {
    verdictClass = 'danger';
    verdictIcon = 'üö®';
    verdict = `ÏúÑÎ∞ò Í∞ÄÎä•ÏÑ± ${dangers.length}Í±¥ Î∞úÍ≤¨`;
    verdictDesc = `Í≥µÏßÅÏÑ†Í±∞Î≤ï ÏúÑÎ∞òÏù¥ ÏùòÏã¨ÎêòÎäî Ìï≠Î™©Ïù¥ ${dangers.length}Í±¥ ÏûàÏäµÎãàÎã§. ÏïÑÎûò ÏÉÅÏÑ∏ ÎÇ¥Ïö©ÏùÑ ÌôïÏù∏ÌïòÍ≥† Î∞òÎìúÏãú ÏàòÏ†ïÌïòÏÑ∏Ïöî.`;
  } else if (warnings.length > 0) {
    verdictClass = 'warning';
    verdictIcon = '‚ö†Ô∏è';
    verdict = `Ï£ºÏùòÏÇ¨Ìï≠ ${warnings.length}Í±¥`;
    verdictDesc = 'Î™ÖÌôïÌïú ÏúÑÎ∞òÏùÄ ÏïÑÎãàÏßÄÎßå, ÌôïÏù∏Ïù¥ ÌïÑÏöîÌïú ÏÇ¨Ìï≠Ïù¥ ÏûàÏäµÎãàÎã§. Í¥ÄÌï† ÏÑ†Í¥ÄÏúÑÏóê Î¨∏ÏùòÌïòÎäî Í≤ÉÏùÑ Í∂åÏû•Ìï©ÎãàÎã§.';
  } else if (infos.length > 0) {
    verdictClass = 'safe';
    verdictIcon = '‚úÖ';
    verdict = 'ÌÅ∞ Î¨∏Ï†ú ÏóÜÏùå (Ï∞∏Í≥†ÏÇ¨Ìï≠ ÏûàÏùå)';
    verdictDesc = 'Î™ÖÌôïÌïú Î≤ï ÏúÑÎ∞ò ÏÇ¨Ìï≠ÏùÄ Î∞úÍ≤¨ÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§. ÏïÑÎûò Ï∞∏Í≥†ÏÇ¨Ìï≠ÏùÑ ÌôïÏù∏ÌïòÏÑ∏Ïöî.';
  } else {
    verdictClass = 'safe';
    verdictIcon = '‚úÖ';
    verdict = 'Î¨∏Ï†úÏóÜÏùå';
    verdictDesc = 'ÏûÖÎ†•Îêú ÎÇ¥Ïö©ÏóêÏÑú Í≥µÏßÅÏÑ†Í±∞Î≤ï ÏúÑÎ∞òÏù¥ ÏùòÏã¨ÎêòÎäî Ìï≠Î™©Ïù¥ Î∞úÍ≤¨ÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§. Îã§Îßå Ïù¥Îäî ÏûêÎèô Î∂ÑÏÑù Í≤∞Í≥ºÏù¥ÎØÄÎ°ú, Ï§ëÏöîÌïú ÏÇ¨ÏïàÏùÄ Í¥ÄÌï† ÏÑ†Í¥ÄÏúÑ(‚òé1390)Ïóê ÌôïÏù∏ÌïòÏÑ∏Ïöî.';
  }

  let html = `
    <div class="result-verdict ${verdictClass}">
      <span class="verdict-icon">${verdictIcon}</span>
      <div class="verdict-text">
        <h4>${verdict}</h4>
        <p>${verdictDesc}</p>
        <p style="font-size:12px; margin-top:4px; opacity:0.7;">Î∂ÑÏÑù Í∏∞Ï§Ä: ${periodNames[period]} | Ï¥ù ${issues.length}Í∞ú Ìï≠Î™© Í≤ÄÏ∂ú</p>
      </div>
    </div>
  `;

  if (issues.length > 0) {
    html += '<div class="result-summary-bar">';
    if (dangers.length > 0) html += `<span class="result-summary-chip danger-chip">üö® ÏúÑÎ∞ò ÏùòÏã¨ ${dangers.length}Í±¥</span>`;
    if (warnings.length > 0) html += `<span class="result-summary-chip warning-chip">‚ö†Ô∏è Ï£ºÏùò ${warnings.length}Í±¥</span>`;
    if (infos.length > 0) html += `<span class="result-summary-chip safe-chip">‚ÑπÔ∏è Ï∞∏Í≥† ${infos.length}Í±¥</span>`;
    html += '</div>';

    html += '<div class="result-issues">';
    const allIssues = [...dangers, ...warnings, ...infos];
    allIssues.forEach(issue => {
      const icon = issue.severity === 'danger' ? 'üö®' : issue.severity === 'warning' ? '‚ö†Ô∏è' : '‚ÑπÔ∏è';
      html += `
        <div class="result-issue">
          <span class="issue-icon">${icon}</span>
          <div class="issue-content">
            <div class="issue-title">[${issue.cat}] ${issue.title}</div>
            <div class="issue-desc">${issue.desc}</div>
            ${issue.law ? `<span class="issue-law">üìú ${issue.law}</span>` : ''}
            ${issue.pen ? `<div style="font-size:12px; color:var(--danger); margin-top:4px;">‚öñÔ∏è ${issue.pen}</div>` : ''}
            ${issue.fix ? `<div class="issue-fix">üí° <strong>ÏàòÏ†ï Ï†úÏïà:</strong> ${issue.fix}</div>` : ''}
          </div>
        </div>
      `;
    });
    html += '</div>';
  }

  // ÏÇ¨Ïö©Îüâ ÌëúÏãú
  if (usageInfo) {
    const remaining = usageInfo.limit - usageInfo.used;
    const isUnlimited = usageInfo.limit >= 999;
    html += `<div style="font-size:12px;color:var(--gray-500);margin-top:10px;text-align:right;">
      üìä Ïò§Îäò Î∂ÑÏÑù ${usageInfo.used}Ìöå ÏÇ¨Ïö©${isUnlimited ? '' : ` / ${usageInfo.limit}Ìöå Ï§ë ${remaining}Ìöå ÎÇ®Ïùå`}
      ${!isUnlimited && remaining <= 1 ? ' ¬∑ <a style="color:var(--primary);cursor:pointer;" onclick="showPage(\'pricing\')">ÏóÖÍ∑∏Î†àÏù¥Îìú</a>' : ''}
    </div>`;
  }

  html += `
    <div class="law-note" style="margin-top:16px;">
      <strong>‚ö†Ô∏è ÏûêÎèô Î∂ÑÏÑù ÌïúÍ≥Ñ ÏïàÎÇ¥</strong> ‚Äî Î≥∏ Î∂ÑÏÑùÏùÄ ÌÇ§ÏõåÎìú Í∏∞Î∞òÏùò ÏûêÎèô Î∂ÑÏÑùÏúºÎ°ú, Î™®Îì† Î≤ï ÏúÑÎ∞ò ÏÇ¨Ìï≠ÏùÑ Í∞êÏßÄÌïòÏßÄ Î™ªÌï† Ïàò ÏûàÏäµÎãàÎã§.
      Íµ¨Ï≤¥Ï†ÅÏù∏ ÌåêÎã®ÏùÄ Î∞òÎìúÏãú Í¥ÄÌï† ÏÑ†Í±∞Í¥ÄÎ¶¨ÏúÑÏõêÌöå(‚òé 1390)Ïóê Î¨∏ÏùòÌïòÏãúÍ∏∞ Î∞îÎûçÎãàÎã§.
    </div>
  `;

  container.innerHTML = html;
  container.classList.add('show');
  container.scrollIntoView({ behavior:'smooth', block:'nearest' });
}

// ÎìúÎûòÍ∑∏ Ïï§ ÎìúÎ°≠ Ïù¥ÎØ∏ÏßÄ ÏßÄÏõê
document.addEventListener('DOMContentLoaded', function() {
  setTimeout(function() {
    const dropArea = document.getElementById('analyzerImgDrop');
    if (dropArea) {
      ['dragenter','dragover','dragleave','drop'].forEach(ev => {
        dropArea.addEventListener(ev, e => { e.preventDefault(); e.stopPropagation(); });
      });
      dropArea.addEventListener('dragover', () => dropArea.style.borderColor = 'var(--primary)');
      dropArea.addEventListener('dragleave', () => dropArea.style.borderColor = '');
      dropArea.addEventListener('drop', e => {
        dropArea.style.borderColor = '';
        const file = e.dataTransfer.files[0];
        if (file && file.type.startsWith('image/')) {
          const reader = new FileReader();
          reader.onload = ev => {
            document.getElementById('analyzerImgPreview').src = ev.target.result;
            document.getElementById('analyzerImgPreview').style.display = 'block';
            document.getElementById('analyzerImgPlaceholder').style.display = 'none';
            dropArea.classList.add('has-image');
          };
          reader.readAsDataURL(file);
        }
      });
    }
  }, 200);
});

// ====== Ìôà ÌÉÄÏûÑÎùºÏù∏ + Í∏∞Í∞ÑÎ≥Ñ Í∑úÏ†ï ÏöîÏïΩ ======
const homeElections = {
  local9: { name:'Ï†ú9Ìöå Ï†ÑÍµ≠ÎèôÏãúÏßÄÎ∞©ÏÑ†Í±∞', date:'2026-06-03', period:14, preOffset:90, type:'ÏßÄÎ∞©ÏÑ†Í±∞' },
  assembly23: { name:'Ï†ú23ÎåÄ Íµ≠ÌöåÏùòÏõêÏÑ†Í±∞', date:'2028-04-12', period:14, preOffset:120, type:'Íµ≠ÌöåÏùòÏõêÏÑ†Í±∞' }
};
let currentHomeElection = 'local9';

function selectHomeElection(key) {
  currentHomeElection = key;
  document.querySelectorAll('.home-elec-btn').forEach(b => b.classList.remove('active'));
  event.target.closest('.home-elec-btn').classList.add('active');
  renderHome();
}

function renderHome() {
  const info = homeElections[currentHomeElection];
  if (!info) return;
  const eDate = new Date(info.date);
  const today = new Date(); today.setHours(0,0,0,0);
  const diffMs = eDate - today;
  const dday = Math.ceil(diffMs / (1000*60*60*24));
  const fmt = d => d.toLocaleDateString('ko-KR',{year:'numeric',month:'long',day:'numeric',weekday:'short'});

  // Ï£ºÏöî ÏùºÏ†ï Í≥ÑÏÇ∞
  const mainStart = new Date(eDate); mainStart.setDate(mainStart.getDate() - info.period + 1);
  const mainEnd = new Date(eDate); mainEnd.setDate(mainEnd.getDate() - 1);
  const preStart = new Date(eDate); preStart.setDate(preStart.getDate() - (info.period + info.preOffset));
  const preEnd = new Date(mainStart); preEnd.setDate(preEnd.getDate() - 1);
  const regStart = new Date(mainStart); regStart.setDate(regStart.getDate() - 2);
  const regEnd = new Date(mainStart); regEnd.setDate(regEnd.getDate() - 1);
  const voterStart = new Date(eDate); voterStart.setDate(voterStart.getDate() - 28);
  const voterEnd = new Date(eDate); voterEnd.setDate(voterEnd.getDate() - 22);
  const earlyVoteStart = new Date(eDate); earlyVoteStart.setDate(earlyVoteStart.getDate() - 6);
  const earlyVoteEnd = new Date(eDate); earlyVoteEnd.setDate(earlyVoteEnd.getDate() - 5);

  // ÌòÑÏû¨ Í∏∞Í∞Ñ ÌåêÏ†ï
  let currentPeriod = 'normal';
  if (today >= mainStart && today <= eDate) currentPeriod = 'main';
  else if (today >= preStart && today < mainStart) currentPeriod = 'pre';

  // Ïπ¥Ïö¥Ìä∏Îã§Ïö¥
  const absDday = Math.abs(dday);
  const days = absDday;
  const months = Math.floor(days / 30);
  const weeks = Math.floor((days % 30) / 7);
  const remainDays = days % 7;
  let ddayText = dday > 0 ? `D-${dday}` : dday === 0 ? 'D-Day' : `D+${absDday}`;
  let ddayDesc = dday > 0 ? 'ÏÑ†Í±∞ÏùºÍπåÏßÄ' : dday === 0 ? 'Ïò§ÎäòÏù¥ ÏÑ†Í±∞ÏùºÏûÖÎãàÎã§!' : 'ÏÑ†Í±∞Í∞Ä Ï¢ÖÎ£åÎêòÏóàÏäµÎãàÎã§';

  const periodNames = { normal:'ÎπÑÏÑ†Í±∞Í∏∞Í∞Ñ', pre:'ÏòàÎπÑÌõÑÎ≥¥Ïûê Í∏∞Í∞Ñ', main:'Î≥∏ÏÑ†Í±∞ Í∏∞Í∞Ñ' };
  const periodBadge = currentPeriod === 'main' ? 'bp-main' : currentPeriod === 'pre' ? 'bp-pre' : 'bp-normal';

  document.getElementById('homeCountdown').innerHTML = `
    <div class="countdown-left">
      <h2>${info.name}</h2>
      <p>${fmt(eDate)} ¬∑ ${ddayDesc}</p>
      <span class="home-period-badge ${periodBadge}" style="margin-top:8px; display:inline-block;">ÌòÑÏû¨: ${periodNames[currentPeriod]}</span>
    </div>
    <div class="countdown-numbers">
      <div class="countdown-box"><span class="num">${months}</span><span class="label">Í∞úÏõî</span></div>
      <div class="countdown-box"><span class="num">${weeks}</span><span class="label">Ï£º</span></div>
      <div class="countdown-box"><span class="num">${remainDays}</span><span class="label">Ïùº</span></div>
      <div class="countdown-box" style="background:rgba(255,255,255,0.25);"><span class="num">${ddayText}</span><span class="label">Ï¥ù ${days}Ïùº</span></div>
    </div>
  `;

  // ÌÉÄÏûÑÎùºÏù∏ Î†åÎçîÎßÅ
  const events = [
    { date: preStart, title:'ÏòàÎπÑÌõÑÎ≥¥Ïûê Îì±Î°ù ÏãúÏûë', desc:'ÏòàÎπÑÌõÑÎ≥¥Ïûê Îì±Î°ù¬∑ÏÑ†Í±∞ÏÇ¨Î¨¥ÏÜå ÏÑ§Ïπò¬∑Î™ÖÌï® Î∞∞Î∂Ä Í∞ÄÎä•', icon:'üìã' },
    { date: voterStart, title:'ÏÑ†Í±∞Ïù∏Î™ÖÎ∂Ä ÏûëÏÑ±', desc:`${fmt(voterStart)} ~ ${fmt(voterEnd)}`, icon:'üìù' },
    { date: regStart, title:'ÌõÑÎ≥¥Ïûê Îì±Î°ù', desc:`${fmt(regStart)} ~ ${fmt(regEnd)}`, icon:'‚úçÔ∏è' },
    { date: mainStart, title:'ÏÑ†Í±∞Ïö¥Îèô Í∏∞Í∞Ñ ÏãúÏûë', desc:'Í≥µÏãù ÏÑ†Í±∞Ïö¥Îèô Í∞úÏãú (ÏÑ†Í±∞Í∏∞Í∞Ñ Í∞úÏãúÏùº)', icon:'üì¢' },
    { date: earlyVoteStart, title:'ÏÇ¨Ï†ÑÌà¨Ìëú', desc:`${fmt(earlyVoteStart)} ~ ${fmt(earlyVoteEnd)}`, icon:'üó≥Ô∏è' },
    { date: mainEnd, title:'ÏÑ†Í±∞Ïö¥Îèô ÎßàÍ∞ê', desc:'ÏÑ†Í±∞Ïùº Ï†ÑÏùº ÏûêÏ†ïÍπåÏßÄ ÏÑ†Í±∞Ïö¥Îèô Í∞ÄÎä•', icon:'üîî' },
    { date: eDate, title:'ÏÑ†Í±∞Ïùº (Ìà¨ÌëúÏùº)', desc:'06:00 ~ 18:00 Ìà¨Ìëú, ÎãπÏùº ÏÑ†Í±∞Ïö¥Îèô Í∏àÏßÄ', icon:'üó≥Ô∏è' }
  ];

  let tlHtml = '';
  events.forEach(ev => {
    let status = 'future';
    if (today > ev.date) status = 'past';
    else if (today.toDateString() === ev.date.toDateString()) status = 'current';
    else {
      // ÌòÑÏû¨ ÏãúÏ†êÏóê Í∞ÄÏû• Í∞ÄÍπåÏö¥ ÎØ∏Îûò Ïù¥Î≤§Ìä∏ ÌåêÎ≥Ñ
      const isNextEvent = events.filter(e => e.date > today)[0]?.date.toDateString() === ev.date.toDateString();
      if (isNextEvent) status = 'current';
    }

    tlHtml += `
      <div class="home-tl-item ${status}">
        <div class="home-tl-dot"></div>
        <div class="home-tl-card">
          <div class="home-tl-date">${fmt(ev.date)} ${status==='current'?'<span class="home-current-indicator">Îã§Ïùå ÏùºÏ†ï</span>':status==='past'?'<span style="color:var(--gray-400);font-size:11px;">ÏôÑÎ£å</span>':''}</div>
          <div class="home-tl-title">${ev.icon} ${ev.title}</div>
          <div class="home-tl-desc">${ev.desc}</div>
        </div>
      </div>
    `;
  });
  document.getElementById('homeTimeline').innerHTML = tlHtml;

  // Í∏∞Í∞ÑÎ≥Ñ Í∑úÏ†ï ÏöîÏïΩ
  renderHomeRegSummary(info, preStart, preEnd, mainStart, mainEnd, eDate, fmt, currentPeriod);
}

function renderHomeRegSummary(info, preStart, preEnd, mainStart, mainEnd, eDate, fmt, currentPeriod) {
  const periods = [
    { key:'normal', label:'‚ë† ÎπÑÏÑ†Í±∞Í∏∞Í∞Ñ', badge:'bp-normal', dates:`~ ${fmt(preStart)} (ÏòàÎπÑÌõÑÎ≥¥ Îì±Î°ù Ï†Ñ)` },
    { key:'pre', label:'‚ë° ÏòàÎπÑÌõÑÎ≥¥Ïûê Í∏∞Í∞Ñ', badge:'bp-pre', dates:`${fmt(preStart)} ~ ${fmt(preEnd)}` },
    { key:'main', label:'‚ë¢ Î≥∏ÏÑ†Í±∞ Í∏∞Í∞Ñ', badge:'bp-main', dates:`${fmt(mainStart)} ~ ${fmt(mainEnd)} (ÏÑ†Í±∞Ïùº: ${fmt(eDate)})` }
  ];

  let html = '';
  periods.forEach(period => {
    const isCurrent = period.key === currentPeriod;
    html += `<div class="home-period-section">
      <div class="home-period-header">
        <span class="home-period-badge ${period.badge}">${period.label}</span>
        ${isCurrent ? '<span class="home-current-indicator">ÌòÑÏû¨</span>' : ''}
        <span class="period-dates">${period.dates}</span>
      </div>
      <div class="home-reg-grid">`;

    regCategories.forEach(cat => {
      const items = regData[cat.key] ? regData[cat.key][period.key] || [] : [];
      if (items.length === 0) return;

      html += `<div class="home-reg-card">
        <div class="home-reg-card-header">
          <span class="cat-icon">${cat.icon}</span>
          <span class="cat-title">${cat.title}</span>
        </div>
        <div class="home-reg-items">`;

      items.forEach(item => {
        const statusIcon = item.s === 'allowed' ? '‚úÖ' : item.s === 'conditional' ? '‚ö†Ô∏è' : 'üö´';
        html += `<div class="reg-line"><span class="reg-status">${statusIcon}</span><span>${item.t}</span></div>`;
      });

      html += '</div></div>';
    });

    html += '</div></div>';
  });

  document.getElementById('homeRegSummary').innerHTML = html;
}

// Ìôà Ï¥àÍ∏∞Ìôî
document.addEventListener('DOMContentLoaded', function() {
  setTimeout(renderHome, 150);
});

function setElection(dateStr, type, subType) {
  document.getElementById('electionDate').value = dateStr;
  document.getElementById('timelineType').value = type;
  document.getElementById('timelineSubType').value = subType;
  buildTimeline();
}

function buildTimeline() {
  const dateStr = document.getElementById('electionDate').value;
  if (!dateStr) return;
  const eDate = new Date(dateStr);
  const today = new Date(); today.setHours(0,0,0,0);
  const type = document.getElementById('timelineType').value;
  const subType = document.getElementById('timelineSubType').value;

  // Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú33Ï°∞: ÎåÄÌÜµÎ†π 23Ïùº, Í∑∏ Ïô∏ 14Ïùº
  const electionPeriod = type === 'presidential' ? 23 : 14;
  // ÌõÑÎ≥¥ÏûêÎì±Î°ù: ÏÑ†Í±∞Í∏∞Í∞ÑÍ∞úÏãúÏùº Ï†Ñ 2ÏùºÍ∞Ñ (Ï†ú49Ï°∞)
  const regStartOffset = -(electionPeriod + 1); // Îì±Î°ù ÏãúÏûë
  const regEndOffset = -(electionPeriod); // Îì±Î°ù ÎßàÍ∞ê
  const campaignStartOffset = -(electionPeriod - 1); // ÏÑ†Í±∞Ïö¥Îèô ÏãúÏûë
  const campaignEndOffset = -1;

  // ÏòàÎπÑÌõÑÎ≥¥ Îì±Î°ù ÏãúÏ†ê (Ï†ú60Ï°∞Ïùò2)
  let preRegOffset;
  if (type === 'presidential') preRegOffset = -240;
  else if (type === 'general') preRegOffset = -120;
  else if (type === 'local_metro') preRegOffset = -120;
  else if (subType === 'gun') preRegOffset = -(electionPeriod + 60);
  else preRegOffset = -(electionPeriod + 90);

  // ÏÑ†Í±∞Ïù∏Î™ÖÎ∂Ä ÏûëÏÑ± Í∏∞Í∞Ñ (Ï†ú37Ï°∞): ÏÑ†Í±∞Ïùº Ï†Ñ 28Ïùº~ÏÑ†Í±∞Ïùº Ï†Ñ 22Ïùº
  const voterListStart = -28;
  const voterListEnd = -22;
  // ÏÑ†Í±∞Ïù∏Î™ÖÎ∂Ä Ïó¥Îûå Í∏∞Í∞Ñ (Ï†ú38Ï°∞): ÏûëÏÑ± Ï¢ÖÎ£å Îã§ÏùåÎÇ†~ÏÑ†Í±∞Ïùº Ï†Ñ 19Ïùº
  const voterListViewEnd = -19;

  // ÏÑ†Í±∞Î≤ΩÎ≥¥¬∑Í≥µÎ≥¥ (Ï†ú64Ï°∞¬∑Ï†ú65Ï°∞)
  const posterOffset = campaignStartOffset; // ÏÑ†Í±∞Í∏∞Í∞Ñ ÏãúÏûëÏùºÎ∂ÄÌÑ∞

  const events = [
    { offset: preRegOffset, title: 'ÏòàÎπÑÌõÑÎ≥¥Ïûê Îì±Î°ù ÏãúÏûë', desc: type==='presidential'?'ÏÑ†Í±∞Ïùº Ï†Ñ 240ÏùºÎ∂ÄÌÑ∞ Îì±Î°ù Í∞ÄÎä•':type==='general'||type==='local_metro'?'ÏÑ†Í±∞Ïùº Ï†Ñ 120ÏùºÎ∂ÄÌÑ∞ Îì±Î°ù Í∞ÄÎä•':subType==='gun'?'ÏÑ†Í±∞Í∏∞Í∞ÑÍ∞úÏãúÏùº Ï†Ñ 60ÏùºÎ∂ÄÌÑ∞ Îì±Î°ù Í∞ÄÎä•':'ÏÑ†Í±∞Í∏∞Í∞ÑÍ∞úÏãúÏùº Ï†Ñ 90ÏùºÎ∂ÄÌÑ∞ Îì±Î°ù Í∞ÄÎä•', law: 'Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú60Ï°∞Ïùò2‚ë†', cat: 'reg' },
    { offset: preRegOffset, title: 'ÌõÑÏõêÌöå ÏßÄÏ†ï Ïã†Ï≤≠ Í∞ÄÎä•', desc: 'ÏòàÎπÑÌõÑÎ≥¥ÏûêÎäî ÌõÑÏõêÌöåÎ•º ÏßÄÏ†ïÌïòÏó¨ ÌõÑÏõêÍ∏àÏùÑ Î™®Í∏àÌï† Ïàò ÏûàÏùå', law: 'Ï†ïÏπòÏûêÍ∏àÎ≤ï Ï†ú6Ï°∞', cat: 'fund' },
    { offset: preRegOffset, title: 'ÏòàÎπÑÌõÑÎ≥¥Ïûê ÌôçÎ≥¥Î¨º Î∞∞Î∂Ä Í∞ÄÎä•', desc: 'ÏòàÎπÑÌõÑÎ≥¥ÏûêÎäî ÏÑ†Í±∞Íµ¨ ÏïàÏùò ÏÑ∏ÎåÄÏàòÏùò 10% Ïù¥ÌïòÏùò ÌôçÎ≥¥Î¨ºÏùÑ Î∞∞Î∂ÄÌï† Ïàò ÏûàÏùå', law: 'Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú60Ï°∞Ïùò3‚ë°', cat: 'campaign' },
    { offset: preRegOffset + 1, title: 'ÏòàÎπÑÌõÑÎ≥¥Ïûê ÏÑ†Í±∞ÏÇ¨Î¨¥ÏÜå ÏÑ§Ïπò', desc: 'ÏòàÎπÑÌõÑÎ≥¥ÏûêÎäî ÏÑ†Í±∞ÏÇ¨Î¨¥ÏÜå 1Í∞úÏÜåÎ•º ÏÑ§ÏπòÌï† Ïàò ÏûàÏùå', law: 'Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú60Ï°∞Ïùò3‚ë†1Ìò∏', cat: 'admin' },
    { offset: preRegOffset + 1, title: 'Î™ÖÌï®Ìòï ÌôçÎ≥¥Î¨º Î∞∞Î∂Ä Í∞ÄÎä•', desc: 'ÏòàÎπÑÌõÑÎ≥¥ÏûêÎäî Î™ÖÌï®Ìòï Ïù∏ÏáÑÎ¨ºÏùÑ ÏßÅÏ†ë Î∞∞Î∂ÄÌï† Ïàò ÏûàÏùå', law: 'Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú60Ï°∞Ïùò3‚ë†2Ìò∏', cat: 'campaign' },
    { offset: voterListStart, title: 'ÏÑ†Í±∞Ïù∏Î™ÖÎ∂Ä ÏûëÏÑ± ÏãúÏûë', desc: 'Í¥ÄÌï† Íµ¨¬∑Ïãú¬∑Íµ∞Ïùò Ïû•Ïù¥ ÏÑ†Í±∞Ïù∏Î™ÖÎ∂Ä ÏûëÏÑ± (ÏÑ†Í±∞Ïùº Ï†Ñ 28Ïùº~22Ïùº)', law: 'Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú37Ï°∞‚ë†', cat: 'admin' },
    { offset: voterListEnd, title: 'ÏÑ†Í±∞Ïù∏Î™ÖÎ∂Ä ÏûëÏÑ± ÎßàÍ∞ê', desc: 'ÏÑ†Í±∞Ïù∏Î™ÖÎ∂Ä ÏûëÏÑ± ÏôÑÎ£å', law: 'Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú37Ï°∞‚ë†', cat: 'admin' },
    { offset: voterListEnd + 1, title: 'ÏÑ†Í±∞Ïù∏Î™ÖÎ∂Ä Ïó¥Îûå ÏãúÏûë', desc: 'ÏÑ†Í±∞Ïù∏Î™ÖÎ∂Ä Ïó¥Îûå Í∏∞Í∞Ñ ÏãúÏûë (Ïù¥ÏùòÏã†Ï≤≠ Í∞ÄÎä•)', law: 'Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú38Ï°∞', cat: 'admin' },
    { offset: voterListViewEnd, title: 'ÏÑ†Í±∞Ïù∏Î™ÖÎ∂Ä Ïó¥Îûå ÎßàÍ∞ê', desc: 'ÏÑ†Í±∞Ïù∏Î™ÖÎ∂Ä Ïó¥Îûå Î∞è Ïù¥ÏùòÏã†Ï≤≠ ÎßàÍ∞ê', law: 'Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú38Ï°∞', cat: 'admin' },
    { offset: regStartOffset, title: 'ÌõÑÎ≥¥Ïûê Îì±Î°ù ÏãúÏûë', desc: 'Í¥ÄÌï† ÏÑ†Í±∞Íµ¨ÏÑ†Í±∞Í¥ÄÎ¶¨ÏúÑÏõêÌöåÏóê ÌõÑÎ≥¥Ïûê Îì±Î°ù Ïã†Ï≤≠ (Í∏∞ÌÉÅÍ∏à ÎÇ©Î∂Ä)', law: 'Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú49Ï°∞¬∑Ï†ú56Ï°∞', cat: 'reg' },
    { offset: regEndOffset, title: '‚ö†Ô∏è ÌõÑÎ≥¥Ïûê Îì±Î°ù ÎßàÍ∞ê', desc: 'ÌõÑÎ≥¥Ïûê Îì±Î°ù ÎßàÍ∞ê (Ïò§ÌõÑ 6ÏãúÍπåÏßÄ). Í∏∞ÌÉÅÍ∏àÏùÑ Î∞òÎìúÏãú Ìï®Íªò ÎÇ©Î∂ÄÌï¥Ïïº Ìï®', law: 'Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú49Ï°∞‚ë†¬∑Ï†ú56Ï°∞', cat: 'reg' },
    { offset: campaignStartOffset, title: 'üî• ÏÑ†Í±∞Ïö¥Îèô Í∞úÏãú / ÏÑ†Í±∞Í∏∞Í∞Ñ ÏãúÏûë', desc: `ÌõÑÎ≥¥ÏûêÎì±Î°ù ÎßàÍ∞êÏùº Îã§ÏùåÎÇ†Î∂ÄÌÑ∞ ÏÑ†Í±∞Ïö¥Îèô Í∞ÄÎä• (ÏÑ†Í±∞Í∏∞Í∞Ñ: ${electionPeriod}ÏùºÍ∞Ñ)`, law: 'Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú33Ï°∞¬∑Ï†ú59Ï°∞', cat: 'campaign' },
    { offset: campaignStartOffset, title: 'ÏÑ†Í±∞Î≤ΩÎ≥¥¬∑ÏÑ†Í±∞Í≥µÎ≥¥ Î∞úÌñâ', desc: 'ÌõÑÎ≥¥ÏûêÏùò ÏÑ†Í±∞Î≤ΩÎ≥¥Î•º Ïùç¬∑Î©¥¬∑ÎèôÎßàÎã§ Í≤åÏãú, ÏÑ†Í±∞Í≥µÎ≥¥Î•º ÏÑ∏ÎåÄÏóê Î∞úÏÜ°', law: 'Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú64Ï°∞¬∑Ï†ú65Ï°∞', cat: 'campaign' },
    { offset: campaignStartOffset, title: 'ÏÑ†Í±∞ÏÇ¨Î¨¥ÏÜå¬∑ÏÑ†Í±∞Ïó∞ÎùΩÏÜå ÏÑ§Ïπò', desc: 'ÌõÑÎ≥¥ÏûêÎäî ÏÑ†Í±∞ÏÇ¨Î¨¥ÏÜå 1Í∞úÏÜå Î∞è ÏÑ†Í±∞Ïó∞ÎùΩÏÜå(ÏùçÎ©¥Îèô 1Í∞úÏÜå)Î•º ÏÑ§ÏπòÌï† Ïàò ÏûàÏùå', law: 'Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú61Ï°∞', cat: 'admin' },
    { offset: campaignStartOffset + 1, title: 'Í≥µÍ∞úÏû•ÏÜå Ïó∞ÏÑ§¬∑ÎåÄÎã¥ Í∞ÄÎä•', desc: 'ÌõÑÎ≥¥Ïûê Î∞è Ïó∞ÏÑ§ÏõêÏù¥ Í≥µÍ∞úÏû•ÏÜåÏóêÏÑú Ïó∞ÏÑ§¬∑ÎåÄÎã¥ Í∞ÄÎä•', law: 'Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú79Ï°∞', cat: 'campaign' },
    { offset: campaignStartOffset + 1, title: 'Î∞©ÏÜ°Ïó∞ÏÑ§¬∑ÌÜ†Î°†Ìöå Í∞úÏµú', desc: 'ÏÑ†Í±∞Î∞©ÏÜ°ÌÜ†Î°†ÏúÑÏõêÌöå Ï£ºÍ¥Ä ÌõÑÎ≥¥Ïûê ÌÜ†Î°†Ìöå Í∞úÏµú', law: 'Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú82Ï°∞', cat: 'campaign' },
    { offset: -6, title: 'üìÆ ÏÇ¨Ï†ÑÌà¨Ìëú (Ï≤´Ïß∏ ÎÇ†)', desc: 'Ï†ÑÍµ≠ Ïùç¬∑Î©¥¬∑Îèô ÏÇ¨Ï†ÑÌà¨ÌëúÏÜåÏóêÏÑú Ìà¨Ìëú (Ïò§Ï†Ñ 6Ïãú ~ Ïò§ÌõÑ 6Ïãú)', law: 'Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú148Ï°∞', cat: 'vote' },
    { offset: -5, title: 'üìÆ ÏÇ¨Ï†ÑÌà¨Ìëú (ÎëòÏß∏ ÎÇ†)', desc: 'ÏÇ¨Ï†ÑÌà¨Ìëú 2ÏùºÏ∞® (Ïò§Ï†Ñ 6Ïãú ~ Ïò§ÌõÑ 6Ïãú)', law: 'Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú148Ï°∞', cat: 'vote' },
    { offset: campaignEndOffset, title: '‚õî ÏÑ†Í±∞Ïö¥Îèô Ï¢ÖÎ£å', desc: 'ÏÑ†Í±∞Ïùº Ï†ÑÏùº ÏûêÏ†ïÍπåÏßÄÎßå ÏÑ†Í±∞Ïö¥Îèô Í∞ÄÎä•. Ïù¥ÌõÑ ÏùºÏ≤¥Ïùò ÏÑ†Í±∞Ïö¥Îèô Í∏àÏßÄ', law: 'Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú59Ï°∞', cat: 'campaign' },
    { offset: 0, title: 'üó≥Ô∏è ÏÑ†Í±∞Ïùº (Ìà¨ÌëúÏùº)', desc: 'Ìà¨ÌëúÏãúÍ∞Ñ: Ïò§Ï†Ñ 6Ïãú ~ Ïò§ÌõÑ 6Ïãú. Ìà¨ÌëúÏÜåÏóêÏÑú Î≥∏Ïù∏ ÌôïÏù∏ ÌõÑ Ìà¨Ìëú', law: 'Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú155Ï°∞¬∑Ï†ú161Ï°∞', cat: 'vote' },
    { offset: 0, title: 'Í∞úÌëú ÏãúÏûë', desc: 'Ìà¨Ìëú Ï¢ÖÎ£å ÌõÑ Ï¶âÏãú Í∞úÌëú ÏãúÏûë', law: 'Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú181Ï°∞', cat: 'vote' },
    { offset: 1, title: 'ÏÑ†Í±∞ ÌôçÎ≥¥Î¨º Ï≤†Í±∞ ÏùòÎ¨¥', desc: 'ÏÑ†Í±∞Î≤ΩÎ≥¥¬∑ÌòÑÏàòÎßâ Îì± ÏÑ†Í±∞ ÌôçÎ≥¥Î¨ºÏùÑ Ï¶âÏãú Ï≤†Í±∞Ìï¥Ïïº Ìï®', law: 'Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú67Ï°∞', cat: 'admin' },
    { offset: 15, title: 'ÎãπÏÑ†Ïù∏ Í≤∞Ï†ï Ïù¥ÏùòÏã†Ï≤≠ Í∏∞Ìïú', desc: 'ÎåÄÎ≤ïÏõê(ÎåÄÌÜµÎ†π¬∑Íµ≠ÌöåÏùòÏõê) ÎòêÎäî Í≥†Îì±Î≤ïÏõê(ÏßÄÎ∞©)Ïóê ÏÜå Ï†úÍ∏∞ Í∞ÄÎä•', law: 'Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú222Ï°∞¬∑Ï†ú223Ï°∞', cat: 'legal' },
    { offset: 30, title: 'ÏÑ†Í±∞ÎπÑÏö© Î≥¥Ï†Ñ Ï≤≠Íµ¨ Í∏∞Ìïú', desc: 'ÏÑ†Í±∞ÎπÑÏö© Î≥¥Ï†ÑÏùÑ Í¥ÄÌï† ÏÑ†Í±∞Íµ¨ÏÑ†Í±∞Í¥ÄÎ¶¨ÏúÑÏõêÌöåÏóê Ï≤≠Íµ¨', law: 'Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú122Ï°∞Ïùò2', cat: 'fund' },
    { offset: 90, title: 'ÏÑ†Í±∞ÎπÑÏö© ÌöåÍ≥ÑÎ≥¥Í≥† Í∏∞Ìïú', desc: 'ÏÑ†Í±∞ÎπÑÏö© ÏàòÏûÖ¬∑ÏßÄÏ∂ú Î≥¥Í≥†ÏÑúÎ•º Í¥ÄÌï† ÏÑ†Í¥ÄÏúÑÏóê Ï†úÏ∂ú (ÏÑ†Í±∞Ïùº ÌõÑ 90Ïùº Ïù¥ÎÇ¥)', law: 'Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï†ú134Ï°∞¬∑Ï†ú135Ï°∞', cat: 'fund' },
  ];

  // Sort by offset, then by title
  events.sort((a,b) => a.offset - b.offset || a.title.localeCompare(b.title));

  // Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ ÏÉâÏÉÅ
  const catColors = { reg: '#3b82f6', campaign: '#f59e0b', admin: '#6b7280', vote: '#10b981', fund: '#8b5cf6', legal: '#ef4444' };
  const catLabels = { reg: 'Îì±Î°ù', campaign: 'ÏÑ†Í±∞Ïö¥Îèô', admin: 'ÌñâÏ†ï', vote: 'Ìà¨Ìëú', fund: 'ÎπÑÏö©', legal: 'Î≤ïÏ†ÅÏ†àÏ∞®' };

  let completed = 0, upcoming = 0;
  const container = document.getElementById('timelineContainer');
  container.innerHTML = events.map(ev => {
    const evDate = new Date(eDate);
    evDate.setDate(evDate.getDate() + ev.offset);
    const diff = Math.ceil((evDate - today) / (1000*60*60*24));
    const isPast = diff < 0;
    if (isPast) completed++; else upcoming++;
    let badge = '';
    if (isPast) badge = '<span class="d-day-badge past">ÏôÑÎ£å</span>';
    else if (diff === 0) badge = '<span class="d-day-badge soon">Ïò§Îäò!</span>';
    else if (diff <= 7) badge = `<span class="d-day-badge soon">D-${diff}</span>`;
    else if (diff <= 30) badge = `<span class="d-day-badge soon">D-${diff}</span>`;
    else badge = `<span class="d-day-badge far">D-${diff}</span>`;
    const catBadge = ev.cat ? `<span style="display:inline-block;background:${catColors[ev.cat]||'#6b7280'};color:#fff;font-size:11px;padding:1px 8px;border-radius:10px;margin-left:6px;">${catLabels[ev.cat]||''}</span>` : '';
    return `<div class="timeline-item ${isPast?'completed':'upcoming'}">
      <div class="timeline-date">${evDate.toLocaleDateString('ko-KR',{year:'numeric',month:'long',day:'numeric',weekday:'short'})} ${badge}</div>
      <div class="timeline-title">${ev.title}${catBadge}</div>
      <div class="timeline-desc">${ev.desc}</div>
      <div class="timeline-law">${ev.law}</div>
    </div>`;
  }).join('');

  const dDay = Math.ceil((eDate - today) / (1000*60*60*24));
  document.getElementById('dDayStat').textContent = dDay > 0 ? 'D-'+dDay : dDay === 0 ? 'D-Day' : 'D+'+Math.abs(dDay);
  document.getElementById('campaignDays').textContent = electionPeriod + 'Ïùº';
  document.getElementById('completedEvents').textContent = completed;
  document.getElementById('upcomingEvents').textContent = upcoming;
}

// ========== PLEDGE ==========
let pledges = [];
let currentFilter = 'all';

function addPledge() {
  const title = document.getElementById('pledgeTitle').value.trim();
  if (!title) { alert('Í≥µÏïΩ Ï†úÎ™©ÏùÑ ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî.'); return; }
  pledges.push({
    id: Date.now(),
    category: document.getElementById('pledgeCategory').value,
    priority: document.getElementById('pledgePriority').value,
    title, detail: document.getElementById('pledgeDetail').value.trim(),
    budget: parseInt(document.getElementById('pledgeBudgetInput').value) || 0,
    timeline: document.getElementById('pledgeTimeline').value
  });
  document.getElementById('pledgeTitle').value = '';
  document.getElementById('pledgeDetail').value = '';
  document.getElementById('pledgeBudgetInput').value = '';
  renderPledges();
}

function deletePledge(id) { pledges = pledges.filter(p => p.id !== id); renderPledges(); }

function filterPledges(cat, btn) {
  currentFilter = cat;
  document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
  if(btn) btn.classList.add('active');
  renderPledges();
}

function renderPledges() {
  const filtered = currentFilter === 'all' ? pledges : pledges.filter(p => p.category === currentFilter);
  const list = document.getElementById('pledgeList');
  if (!filtered.length) {
    list.innerHTML = '<p style="color:var(--gray-500);text-align:center;padding:40px;">Ìï¥Îãπ Î∂ÑÏïºÏùò Í≥µÏïΩÏù¥ ÏóÜÏäµÎãàÎã§.</p>';
  } else {
    const pc = {'ÎÜíÏùå':'#ef4444','Ï§ëÍ∞Ñ':'#f59e0b','ÎÇÆÏùå':'#6b7280'};
    list.innerHTML = filtered.map(p => `<li class="pledge-item"><div class="pledge-header"><div><span class="pledge-category">${escapeHTML(p.category)}</span><span style="margin-left:8px;font-size:12px;color:${pc[p.priority]};font-weight:600;">‚óè ${escapeHTML(p.priority)}</span></div><button class="btn btn-sm btn-danger no-print" onclick="deletePledge(${parseInt(p.id)||0})">ÏÇ≠Ï†ú</button></div><div class="pledge-title">${escapeHTML(p.title)}</div>${p.detail?`<div class="pledge-detail">${escapeHTML(p.detail)}</div>`:''}<div class="pledge-meta">${p.budget?`<span>ÏòàÏÇ∞: ${parseInt(p.budget).toLocaleString()}ÎßåÏõê</span>`:''}<span>${escapeHTML(p.timeline||'')}</span></div></li>`).join('');
  }
  document.getElementById('totalPledges').textContent = pledges.length;
  const tb = pledges.reduce((s,p)=>s+p.budget,0);
  document.getElementById('totalBudget').textContent = tb>0?tb.toLocaleString()+'ÎßåÏõê':'0Ïõê';
  document.getElementById('categoryCount').textContent = new Set(pledges.map(p=>p.category)).size;
}

function exportPledges() {
  if (!pledges.length) { alert('ÎÇ¥Î≥¥ÎÇº Í≥µÏïΩÏù¥ ÏóÜÏäµÎãàÎã§.'); return; }
  let text = '=== Í≥µÏïΩ Î™©Î°ù ===\n\n';
  [...new Set(pledges.map(p=>p.category))].forEach(cat => {
    text += `„Äê ${cat} „Äë\n`;
    pledges.filter(p=>p.category===cat).forEach((p,i)=>{
      text += `${i+1}. [${p.priority}] ${p.title}\n`;
      if(p.detail) text += `   ${p.detail}\n`;
      if(p.budget) text += `   ÏòàÏÇ∞: ${p.budget.toLocaleString()}ÎßåÏõê | ÏãúÍ∏∞: ${p.timeline}\n`;
      text += '\n';
    });
  });
  const a = document.createElement('a');
  a.href = URL.createObjectURL(new Blob([text],{type:'text/plain;charset=utf-8'}));
  a.download = 'Í≥µÏïΩÎ™©Î°ù.txt'; a.click();
}

// ========== CHECKLIST ==========
const checklistData = [
  { section: '1Îã®Í≥Ñ: Ï∂úÎßà Ï§ÄÎπÑ', items: [
    { text: 'Ï∂úÎßà ÏßÄÏó≠ Î∞è ÏÑ†Í±∞Íµ¨ ÌôïÏ†ï', law: 'Ï†ú20~26Ï°∞', desc: 'ÏÑ†Í±∞Íµ¨ ÌöçÏ†ïÏúÑÏõêÌöåÍ∞Ä ÌôïÏ†ïÌïú ÏµúÏã† ÏÑ†Í±∞Íµ¨ Í≤ΩÍ≥ÑÎ•º ÌôïÏù∏ÌïòÍ≥†, Î≥∏Ïù∏Ïùò Í±∞Ï£ºÏßÄ¬∑ÌôúÎèô Í∏∞Î∞òÍ≥º ÏùºÏπòÌïòÎäîÏßÄ Ï†êÍ≤ÄÌï©ÎãàÎã§. ÏÑ†Í±∞Íµ¨Î≥Ñ Ïú†Í∂åÏûê Ïàò, ÏßÄÏó≠ ÌäπÏÑ±, Í≤ΩÏüÅ Íµ¨ÎèÑÎ•º ÏÇ¨Ï†Ñ Î∂ÑÏÑùÌïòÏÑ∏Ïöî.' },
    { text: 'ÌîºÏÑ†Í±∞Í∂å ÏöîÍ±¥ ÌôïÏù∏ (Ïó∞Î†π, Í±∞Ï£º ÏöîÍ±¥ Îì±)', law: 'Ï†ú16Ï°∞¬∑Ï†ú19Ï°∞', desc: 'ÏÑ†Í±∞Ïùº Í∏∞Ï§Ä Îßå 25ÏÑ∏ Ïù¥ÏÉÅ(ÎåÄÌÜµÎ†πÏùÄ 40ÏÑ∏), Ìï¥Îãπ ÏßÄÏó≠ 60Ïùº Ïù¥ÏÉÅ Í±∞Ï£º ÏöîÍ±¥ÏùÑ Ï∂©Ï°±ÌïòÎäîÏßÄ ÌôïÏù∏Ìï©ÎãàÎã§. Í≤∞Í≤©ÏÇ¨Ïú†(Í∏àÍ≥† Ïù¥ÏÉÅ Ìòï, ÏÑ†Í±∞Î≤ï ÏúÑÎ∞ò Îì±) Ìï¥Îãπ Ïó¨Î∂ÄÎèÑ Î∞òÎìúÏãú Ï†êÍ≤ÄÌïòÏÑ∏Ïöî.' },
    { text: 'Í≥µÏßÅÏÑ†Í±∞Î≤ï Ï£ºÏöî Ï°∞Ìï≠ ÏàôÏßÄ (ÌäπÌûà Ï†ú8Ïû• ÏÑ†Í±∞ÎπÑÏö©)', law: 'Í≥µÏßÅÏÑ†Í±∞Î≤ï', desc: 'ÏÑ†Í±∞ÎπÑÏö©Ïùò Ï†ïÏùò¬∑Î≤îÏúÑ, ÏàòÏûÖ¬∑ÏßÄÏ∂ú Ï†àÏ∞®, Í∏∞Î∂ÄÌñâÏúÑ Ï†úÌïú, ÌöåÍ≥ÑÎ≥¥Í≥† ÏùòÎ¨¥ Îì± Ï†ú8Ïû• Ï†ÑÏ≤¥Î•º Ï†ïÎèÖÌï©ÎãàÎã§. ÏúÑÎ∞ò Ïãú ÎãπÏÑ†Î¨¥Ìö®¬∑ÌòïÏÇ¨Ï≤òÎ≤å ÎåÄÏÉÅÏù¥ÎØÄÎ°ú ÍººÍººÌûà ÏàôÏßÄÌïòÏÑ∏Ïöî.' },
    { text: 'ÏÑ†Í±∞ÎπÑÏö© Ï†úÌïúÏï° ÌôïÏù∏ (Ïù∏Íµ¨Ïàò Í∏∞Î∞ò ÏÇ∞Ï∂ú)', law: 'Ï†ú121Ï°∞', desc: 'Ï§ëÏïôÏÑ†Í¥ÄÏúÑÍ∞Ä Í≥µÍ≥†ÌïòÎäî ÏÑ†Í±∞ÎπÑÏö© Ï†úÌïúÏï°ÏùÑ ÌôïÏù∏Ìï©ÎãàÎã§. ÏÑ†Í±∞Íµ¨ Ïù∏Íµ¨Ïàò √ó Îã®Í∞ÄÎ°ú ÏÇ∞Ï∂úÎêòÎ©∞, Ï¥àÍ≥º ÏßÄÏ∂ú Ïãú ÎãπÏÑ†Î¨¥Ìö® ÏÇ¨Ïú†Ïóê Ìï¥ÎãπÌï©ÎãàÎã§. ÎπÑÏö© Í≥ÑÏÇ∞Í∏∞ ÌéòÏù¥ÏßÄÏóêÏÑú ÏòàÏÉÅÏï°ÏùÑ ÏÇ∞Ï∂úÌï¥Î≥¥ÏÑ∏Ïöî.' },
    { text: 'ÌõÑÏõêÌöå ÏßÄÏ†ï Ïã†Ï≤≠ Ïó¨Î∂Ä Í≤∞Ï†ï', law: 'Ï†ïÏπòÏûêÍ∏àÎ≤ï Ï†ú6Ï°∞', desc: 'ÏòàÎπÑÌõÑÎ≥¥Ïûê Îì±Î°ù Ï†Ñ ÌõÑÏõêÌöåÎ•º ÏßÄÏ†ïÌïòÎ©¥ Ìï©Î≤ïÏ†ÅÏúºÎ°ú ÏÑ†Í±∞ÏûêÍ∏àÏùÑ Î™®Í∏àÌï† Ïàò ÏûàÏäµÎãàÎã§. ÌõÑÏõêÍ∏àÏùÄ Ïó∞Í∞Ñ Í∞úÏù∏ 500ÎßåÏõê, Î≤ïÏù∏ Î∂àÍ∞ÄÏù¥Î©∞, ÏÑ†Í¥ÄÏúÑÏóê ÌõÑÏõêÌöå ÏßÄÏ†ï Ïã†Ï≤≠ÏÑúÎ•º Ï†úÏ∂úÌï¥Ïïº Ìï©ÎãàÎã§.' },
    { text: 'ÏÑ†Í±∞ÏÇ¨Î¨¥ÏÜå ÌõÑÎ≥¥ÏßÄ Î¨ºÏÉâ', law: 'Ï†ú61Ï°∞', desc: 'ÏÑ†Í±∞Íµ¨ ÎÇ¥ Ï†ëÍ∑ºÏÑ± Ï¢ãÏùÄ ÏúÑÏπòÏóê ÏÑ†Í±∞ÏÇ¨Î¨¥ÏÜå 1Í∞úÏÜåÎ•º ÏÑ§ÏπòÌï† Ïàò ÏûàÏäµÎãàÎã§. ÏûÑÎåÄ ÎπÑÏö©, Ï£ºÏ∞®, Ïú†ÎèôÏù∏Íµ¨ Îì±ÏùÑ Í≥†Î†§ÌïòÏó¨ ÌõÑÎ≥¥ÏßÄÎ•º ÏÇ¨Ï†ÑÏóê Î¨ºÏÉâÌïòÏÑ∏Ïöî. Îì±Î°ù Ï¶âÏãú ÏÇ¨Ïö©Ìï† Ïàò ÏûàÎèÑÎ°ù Ï§ÄÎπÑÌï©ÎãàÎã§.' },
    { text: 'ÏÑ†Í±∞ Ï†ÑÎûµ Í∏∞Î≥∏ Î∞©Ìñ• ÏàòÎ¶Ω', law: '-', desc: 'ÏßÄÏó≠ Ïó¨Î°†Ï°∞ÏÇ¨, Ïú†Í∂åÏûê ÏÑ±Ìñ•, Í≤ΩÏüÅ ÌõÑÎ≥¥ Î∂ÑÏÑùÏùÑ Î∞îÌÉïÏúºÎ°ú Ï∫†ÌéòÏù∏ ÌïµÏã¨ Î©îÏãúÏßÄÏôÄ ÌÉÄÍ≤ü Ïú†Í∂åÏûêÏ∏µÏùÑ ÏÑ§Ï†ïÌï©ÎãàÎã§. Ïò®ÎùºÏù∏/Ïò§ÌîÑÎùºÏù∏ Ï±ÑÎÑê ÎπÑÏ§ëÍ≥º ÏùºÏ†ïÎ≥Ñ Ï†ÑÎûµ Î°úÎìúÎßµÏùÑ ÏûëÏÑ±ÌïòÏÑ∏Ïöî.' },
    { text: 'ÌïµÏã¨ Í≥µÏïΩ Ï¥àÏïà ÏûëÏÑ±', law: '-', desc: 'ÏßÄÏó≠ Ï£ºÎØºÏù¥ Ï≤¥Í∞êÌïòÎäî ÌòÑÏïà 3~5Í∞úÎ•º ÏÑ†Ï†ïÌïòÍ≥†, Íµ¨Ï≤¥Ï†Å Ïã§Ìñâ Î∞©Ïïà¬∑ÏòàÏÇ∞¬∑ÏùºÏ†ïÏùÑ Ìè¨Ìï®Ìïú Í≥µÏïΩ Ï¥àÏïàÏùÑ ÏûëÏÑ±Ìï©ÎãàÎã§. Í≥µÏïΩ ÏûëÏÑ± ÌéòÏù¥ÏßÄÎ•º ÌôúÏö©ÌïòÏó¨ Ï≤¥Í≥ÑÏ†ÅÏúºÎ°ú Ï†ïÎ¶¨ÌïòÏÑ∏Ïöî.' },
    { text: 'ÏßÄÏó≠ ÌòÑÏïà Ï°∞ÏÇ¨ Î∞è Î∂ÑÏÑù', law: '-', desc: 'ÏßÄÎ∞©ÏùòÌöå ÌöåÏùòÎ°ù, Ï£ºÎØº ÎØºÏõê Îç∞Ïù¥ÌÑ∞, ÏßÄÏó≠ Ïñ∏Î°† Î≥¥ÎèÑÎ•º Î∂ÑÏÑùÌïòÏó¨ Ï£ºÏöî ÌòÑÏïàÏùÑ ÌååÏïÖÌï©ÎãàÎã§. Ï£ºÎØº Í∞ÑÎã¥ÌöåÎÇò ÏÑ§Î¨∏Ï°∞ÏÇ¨Î•º ÌÜµÌï¥ ÏÉùÏÉùÌïú Ïó¨Î°†ÏùÑ ÏàòÏßëÌïòÎ©¥ Í≥µÏïΩ ÏÑ§ÎìùÎ†•Ïù¥ ÎÜíÏïÑÏßëÎãàÎã§.' },
  ]},
  { section: '2Îã®Í≥Ñ: ÏòàÎπÑÌõÑÎ≥¥Ïûê Îì±Î°ù', items: [
    { text: 'ÏòàÎπÑÌõÑÎ≥¥Ïûê Îì±Î°ù Ïã†Ï≤≠ÏÑú ÏûëÏÑ±', law: 'Ï†ú60Ï°∞Ïùò2‚ë†', desc: 'ÏÑ†Í¥ÄÏúÑ ÏÜåÏ†ï ÏñëÏãùÏóê ÏÑ±Î™Ö¬∑Ï£ºÏÜå¬∑ÌïôÎ†•¬∑Í≤ΩÎ†• Îì±ÏùÑ Í∏∞Ïû¨Ìï©ÎãàÎã§. ÌïôÎ†•¬∑Í≤ΩÎ†•ÏùÄ ÌóàÏúÑ Í∏∞Ïû¨ Ïãú Ï≤òÎ≤å ÎåÄÏÉÅÏù¥ÎØÄÎ°ú Ï¶ùÎπôÏÑúÎ•òÏôÄ Ï†ïÌôïÌûà ÏùºÏπòÌïòÎèÑÎ°ù ÏûëÏÑ±ÌïòÏÑ∏Ïöî.' },
    { text: 'ÏòàÎπÑÌõÑÎ≥¥Ïûê Í∏∞ÌÉÅÍ∏à ÎÇ©Î∂Ä (Î≥∏ Í∏∞ÌÉÅÍ∏àÏùò 20%)', law: 'Ï†ú60Ï°∞Ïùò2‚ë§¬∑Ï†ú56Ï°∞', desc: 'Í∏∞Ï¥àÏùòÏõêÏùÄ Í∏∞ÌÉÅÍ∏à 200ÎßåÏõêÏùò 20%(40ÎßåÏõê), Í¥ëÏó≠ÏùòÏõêÏùÄ 300ÎßåÏõêÏùò 20%(60ÎßåÏõê)ÏûÖÎãàÎã§. ÏÑ†Í¥ÄÏúÑ ÏßÄÏ†ï Í≥ÑÏ¢åÎ°ú ÎÇ©Î∂ÄÌïòÎ©∞, ÏùºÏ†ï ÎìùÌëúÏú® Ïù¥ÏÉÅÏù¥Î©¥ ÏÑ†Í±∞ ÌõÑ Î∞òÌôòÎê©ÎãàÎã§.' },
    { text: 'Í¥ÄÌï† ÏÑ†Í±∞Í¥ÄÎ¶¨ÏúÑÏõêÌöåÏóê ÏòàÎπÑÌõÑÎ≥¥Ïûê Îì±Î°ù', law: 'Ï†ú60Ï°∞Ïùò2', desc: 'ÏÑ†Í±∞Ïùº Ï†Ñ 120Ïùº(Ïãú¬∑ÎèÑÏßÄÏÇ¨Îäî 180Ïùº)Î∂ÄÌÑ∞ Îì±Î°ù Í∞ÄÎä•Ìï©ÎãàÎã§. Îì±Î°ù Ïã†Ï≤≠ÏÑú, Í∏∞ÌÉÅÍ∏à ÏòÅÏàòÏ¶ù, ÏÇ¨ÏßÑ, Ï¶ùÎπôÏÑúÎ•òÎ•º Íµ¨ÎπÑÌïòÏó¨ Í¥ÄÌï† Íµ¨¬∑Ïãú¬∑Íµ∞ ÏÑ†Í¥ÄÏúÑÏóê Î∞©Î¨∏ Ï†ëÏàòÌï©ÎãàÎã§.' },
    { text: 'ÏòàÎπÑÌõÑÎ≥¥Ïûê ÌôçÎ≥¥Î¨º Ï†úÏûë (1Ï¢Ö, A4 8Î©¥ Ïù¥ÎÇ¥)', law: 'Ï†ú60Ï°∞Ïùò3‚ë†3Ìò∏', desc: 'ÏÑ±Î™Ö¬∑ÏÇ¨ÏßÑ¬∑ÌïôÎ†•¬∑Í≤ΩÎ†•¬∑Ï†ïÍ≤¨ Îì±ÏùÑ Ìè¨Ìï®Ìïú ÌôçÎ≥¥Î¨º 1Ï¢ÖÏùÑ Ï†úÏûëÌïòÏó¨ ÏÑ∏ÎåÄÎ≥ÑÎ°ú Î∞úÏÜ°Ìï† Ïàò ÏûàÏäµÎãàÎã§. A4 ÌÅ¨Í∏∞ 8Î©¥(ÏïûÎí§ 4Ïû•) Ïù¥ÎÇ¥Î°ú, ÏÑ†Í¥ÄÏúÑ ÌôïÏù∏ ÌõÑ Ïö∞Ìé∏ Î∞úÏÜ°Ïù¥ Í∞ÄÎä•Ìï©ÎãàÎã§.' },
    { text: 'ÏòàÎπÑÌõÑÎ≥¥Ïûê Î™ÖÌï® Ï†úÏûë (Í∏∏Ïù¥ 9cm √ó Ìè≠ 5cm Ïù¥ÎÇ¥)', law: 'Ï†ú60Ï°∞Ïùò3‚ë†2Ìò∏', desc: 'Í∑úÍ≤©(9cm√ó5cm) Ïù¥ÎÇ¥Ïùò Î™ÖÌï®ÏùÑ Ï†úÏûëÌïòÏó¨ ÏßÅÏ†ë ÎßåÎÇòÎäî ÏÇ¨ÎûåÏóêÍ≤å Î∞∞Î∂ÄÌï† Ïàò ÏûàÏäµÎãàÎã§. ÏÑ±Î™Ö¬∑ÏÇ¨ÏßÑ¬∑Ïó∞ÎùΩÏ≤ò¬∑Í≤ΩÎ†• Îì±ÏùÑ Ïù∏ÏáÑÌïòÎ©∞, Ïö∞Ìé∏ Î∞úÏÜ°Ïù¥ÎÇò Î¨¥ÏûëÏúÑ Î∞∞Ìè¨Îäî Í∏àÏßÄÎê©ÎãàÎã§.' },
    { text: 'Ïñ¥Íπ®Îù† ÎòêÎäî ÌëúÏßÄÎ¨º Ï§ÄÎπÑ', law: 'Ï†ú60Ï°∞Ïùò3‚ë†5Ìò∏', desc: 'ÏòàÎπÑÌõÑÎ≥¥ÏûêÏûÑÏùÑ ÏïåÎ¶¨Îäî Ïñ¥Íπ®Îù†¬∑Î™®Ïûê¬∑ÏÉÅÏùò Îì± ÌëúÏßÄÎ¨ºÏùÑ Ï∞©Ïö©ÌïòÍ≥† Ïù∏ÏÇ¨Î•º Îã§Îãê Ïàò ÏûàÏäµÎãàÎã§. "ÏòàÎπÑÌõÑÎ≥¥ OOO"ÏôÄ Í∞ôÏù¥ ÌëúÍ∏∞ÌïòÎ©∞, Í≥ºÎèÑÌïú Í∑úÍ≤©Ïù¥ÎÇò ÌòÑÏàòÎßâ ÌòïÌÉúÎäî ÏúÑÎ∞òÏûÖÎãàÎã§.' },
    { text: 'ÏÑ†Í±∞ÏÇ¨Î¨¥ÏÜå 1Í∞úÏÜå ÏÑ§Ïπò¬∑Ïã†Í≥†', law: 'Ï†ú60Ï°∞Ïùò3‚ë†1Ìò∏', desc: 'ÏÑ†Í±∞Íµ¨ ÎÇ¥ 1Í∞úÏÜåÏóê ÏÑ†Í±∞ÏÇ¨Î¨¥ÏÜåÎ•º ÏÑ§ÏπòÌïòÍ≥† Í¥ÄÌï† ÏÑ†Í¥ÄÏúÑÏóê Ïã†Í≥†Ìï©ÎãàÎã§. Í∞ÑÌåê Í∑úÍ≤©(Í∞ÄÎ°ú 400cm√óÏÑ∏Î°ú 70cm Ïù¥ÎÇ¥)ÏùÑ Ï§ÄÏàòÌïòÍ≥†, ÏÇ¨Î¨¥ÏÜå Ïô∏Î≤Ω ÌòÑÏàòÎßâÏùÄ 2Îß§ Ïù¥ÎÇ¥Î°ú ÏÑ§Ïπò Í∞ÄÎä•Ìï©ÎãàÎã§.' },
  ]},
  { section: '3Îã®Í≥Ñ: Í≥µÏãù ÌõÑÎ≥¥ Îì±Î°ù Ï§ÄÎπÑ', items: [
    { text: 'ÌõÑÎ≥¥Ïûê Îì±Î°ùÏã†Ï≤≠ÏÑú ÏûëÏÑ±', law: 'Ï†ú49Ï°∞', desc: 'ÏÑ†Í¥ÄÏúÑ ÏÜåÏ†ï ÏñëÏãùÏóê Îî∞Îùº ÌõÑÎ≥¥ Îì±Î°ù Ïã†Ï≤≠ÏÑúÎ•º ÏûëÏÑ±Ìï©ÎãàÎã§. Ïû¨ÏÇ∞Ïã†Í≥†ÏÑú, Î≥ëÏó≠Ïã†Í≥†ÏÑú, ÏÑ∏Í∏àÎÇ©Î∂Ä¬∑Ï≤¥ÎÇ© Ïã§Ï†Å Îì± Ï≤®Î∂ÄÏÑúÎ•òÍ∞Ä ÌïÑÏöîÌïòÎ©∞, ÌõÑÎ≥¥ Îì±Î°ùÍ∏∞Í∞Ñ ÎÇ¥Ïóê Ï†úÏ∂úÌï¥Ïïº Ìï©ÎãàÎã§.' },
    { text: 'Í∏∞ÌÉÅÍ∏à ÏûîÏï° ÎÇ©Î∂Ä (Î≥∏ Í∏∞ÌÉÅÍ∏àÏùò 80%)', law: 'Ï†ú56Ï°∞', desc: 'ÏòàÎπÑÌõÑÎ≥¥ Ïãú 20%Î•º ÎÇ©Î∂ÄÌñàÏúºÎØÄÎ°ú ÎÇòÎ®∏ÏßÄ 80%Î•º ÎÇ©Î∂ÄÌï©ÎãàÎã§. Í∏∞Ï¥àÏùòÏõê 160ÎßåÏõê, Í¥ëÏó≠ÏùòÏõê 240ÎßåÏõêÏùÑ ÏÑ†Í¥ÄÏúÑ ÏßÄÏ†ï Í≥ÑÏ¢åÎ°ú ÎÇ©Î∂ÄÌïòÎ©¥ ÌõÑÎ≥¥ Îì±Î°ù ÏöîÍ±¥Ïù¥ Ï∂©Ï°±Îê©ÎãàÎã§.' },
    { text: 'Ï†ïÎãπ Ï∂îÏ≤úÏÑú ÎòêÎäî ÏÑ†Í±∞Í∂åÏûê Ï∂îÏ≤úÏû• ÌôïÎ≥¥', law: 'Ï†ú47~48Ï°∞', desc: 'Ï†ïÎãπ ÌõÑÎ≥¥Îäî Îãπ Ï∂îÏ≤úÏÑúÎ•º, Î¨¥ÏÜåÏÜç ÌõÑÎ≥¥Îäî ÏÑ†Í±∞Í∂åÏûê Ï∂îÏ≤úÏû•(Í∏∞Ï¥àÏùòÏõê 50~100Ïù∏, Í¥ëÏó≠ÏùòÏõê 100~200Ïù∏)ÏùÑ ÌôïÎ≥¥Ìï¥Ïïº Ìï©ÎãàÎã§. Ï∂îÏ≤úÏù∏ Î™ÖÎ∂ÄÏôÄ ÏÑúÎ™ÖÎ∂ÄÎ•º ÏÇ¨Ï†ÑÏóê Ï§ÄÎπÑÌïòÏÑ∏Ïöî.' },
    { text: 'ÏÑ†Í±∞Ïö¥ÎèôÏõê Î™®Ïßë (ÏÑ†Í±∞ÏÇ¨Î¨¥Ïû• 1Ïù∏, ÏÑ†Í±∞Ïó∞ÎùΩÏÜåÏû•, ÏÑ†Í±∞ÏÇ¨Î¨¥Ïõê, ÌôúÎèôÎ≥¥Ï°∞Ïù∏)', law: 'Ï†ú62Ï°∞¬∑Ï†ú62Ï°∞Ïùò2', desc: 'ÏÑ†Í±∞ÏÇ¨Î¨¥Ïû• 1Ïù∏ÏùÄ ÌïÑÏàòÏù¥Î©∞, ÏÑ†Í±∞ÏÇ¨Î¨¥ÏõêÏùÄ ÏÑ†Í±∞Íµ¨ Í∑úÎ™®Ïóê Îî∞Îùº Ï†ïÏõêÏù¥ Îã§Î¶ÖÎãàÎã§. ÏàòÎãπ ÏßÄÍ∏â Í∞ÄÎä• Ïù∏ÏõêÏùÄ Î≤ïÏ†ï ÌïúÎèÑ ÎÇ¥Î°ú Ï†úÌïúÎêòÎ©∞, ÏÑ†Í¥ÄÏúÑÏóê ÏÑ†ÏûÑ Ïã†Í≥†Î•º Ìï¥Ïïº Ìï©ÎãàÎã§.' },
    { text: 'ÏÑ†Í±∞ Î≤ΩÎ≥¥ ÏõêÍ≥† ÏûëÏÑ± (Í∞ÄÎ°ú 28cm √ó ÏÑ∏Î°ú 38cm Ïù¥ÎÇ¥)', law: 'Ï†ú64Ï°∞', desc: 'ÏÑ†Í¥ÄÏúÑÍ∞Ä ÏßÄÏ†ïÌïú Í≤åÏãúÏû•ÏÜåÏóê Î∂ÄÏ∞©ÎêòÎäî Í≥µÏãù ÏÑ†Í±∞Î≤ΩÎ≥¥ÏûÖÎãàÎã§. ÏÇ¨ÏßÑ¬∑ÏÑ±Î™Ö¬∑Í∏∞Ìò∏¬∑ÌïôÎ†•¬∑Í≤ΩÎ†•¬∑Ï†ïÍ≤¨ÏùÑ Ìè¨Ìï®ÌïòÏó¨ Í∑úÍ≤© ÎÇ¥ÏóêÏÑú ÏûëÏÑ±ÌïòÍ≥†, ÏÑ†Í¥ÄÏúÑÏóê ÏõêÍ≥†Î•º Ï†úÏ∂úÌïòÎ©¥ ÏùºÍ¥Ñ Ï†úÏûë¬∑Î∂ÄÏ∞©Îê©ÎãàÎã§.' },
    { text: 'ÏÑ†Í±∞Í≥µÎ≥¥ ÏõêÍ≥† ÏûëÏÑ± (Ï±ÖÏûêÌòï 16Î©¥ Ïù¥ÎÇ¥)', law: 'Ï†ú65Ï°∞', desc: 'Ïú†Í∂åÏûê Í∞ÄÍµ¨Ïóê Ïö∞Ìé∏ Î∞úÏÜ°ÎêòÎäî Í≥µÏãù ÌôçÎ≥¥ Ï±ÖÏûêÏûÖÎãàÎã§. 16Î©¥(8Ïû•) Ïù¥ÎÇ¥Î°ú Ï†ïÏ±Ö¬∑Í≥µÏïΩ¬∑ÏïΩÎ†• Îì±ÏùÑ Îã¥ÏïÑ Ï†úÏûëÌïòÎ©∞, ÏãúÍ∞ÅÏû•Ïï†Ïù∏Ïö© Ï†êÏûêÌòï Í≥µÎ≥¥ÎèÑ Î≥ÑÎèÑ Ï†úÏûëÌï¥Ïïº Ìï©ÎãàÎã§.' },
    { text: 'ÏÑ†Í±∞Í≥µÏïΩÏÑú ÏûëÏÑ±', law: 'Ï†ú66Ï°∞', desc: 'Í≥µÏïΩÏùò Î™©Ìëú¬∑Ïù¥Ìñâ Ï†àÏ∞®¬∑Ïù¥Ìñâ Í∏∞Ìïú¬∑Ïû¨Ïõê Ï°∞Îã¨ Î∞©ÏïàÏùÑ Íµ¨Ï≤¥Ï†ÅÏúºÎ°ú Î™ÖÏãúÌï¥Ïïº Ìï©ÎãàÎã§. ÏÑ†Í¥ÄÏúÑÏóê Ï†úÏ∂úÌïòÎ©¥ ÌôàÌéòÏù¥ÏßÄÏóê Í≥µÍ∞úÎêòÎ©∞, ÎãπÏÑ† ÌõÑ Ïù¥Ìñâ Ïó¨Î∂ÄÍ∞Ä Í≥µÏãù ÌèâÍ∞ÄÎê©ÎãàÎã§.' },
    { text: 'Ïú†ÏÑ∏ ÏùºÏ†ï Î∞è ÎèôÏÑ† Í≥ÑÌöç ÏàòÎ¶Ω', law: '-', desc: 'ÏÑ†Í±∞Í∏∞Í∞Ñ ÎèôÏïàÏùò ÏùºÎ≥Ñ Ïú†ÏÑ∏ Ïû•ÏÜå, Ïù¥Îèô ÎèôÏÑ†, Ïó∞ÏÑ§ ÏãúÍ∞ÑÎåÄÎ•º Í≥ÑÌöçÌï©ÎãàÎã§. Ï∂úÌá¥Í∑º ÏãúÍ∞ÑÎåÄ Ï£ºÏöî ÍµêÏ∞®Î°ú, Ï†ÑÌÜµÏãúÏû•, ÏïÑÌååÌä∏ Îã®ÏßÄ Îì± Ïú†ÎèôÏù∏Íµ¨ Î∞ÄÏßë ÏßÄÏó≠ÏùÑ Ïö∞ÏÑ† Î∞∞ÏπòÌïòÏÑ∏Ïöî.' },
    { text: 'SNS Í≥ÑÏ†ï Î∞è Ïò®ÎùºÏù∏ ÌôçÎ≥¥ Ï§ÄÎπÑ', law: 'Ï†ú82Ï°∞Ïùò7', desc: 'Ïù∏ÌÑ∞ÎÑ∑ ÌôàÌéòÏù¥ÏßÄ, Î∏îÎ°úÍ∑∏, SNSÎ•º ÌÜµÌïú ÏÑ†Í±∞Ïö¥ÎèôÏù¥ ÌóàÏö©Îê©ÎãàÎã§. Ïã§Î™Ö ÌôïÏù∏ Ï†àÏ∞®Î•º Í±∞Ïπú Í≤åÏãúÌåê Ïö¥ÏòÅÏù¥ ÏõêÏπôÏù¥Î©∞, ÌóàÏúÑÏÇ¨Ïã§ Ïú†Ìè¨¬∑ÎπÑÎ∞©ÏùÄ Ï≤òÎ≤å ÎåÄÏÉÅÏûÖÎãàÎã§. ÏΩòÌÖêÏ∏†Î•º ÏÇ¨Ï†Ñ Ï†úÏûëÌï¥ÎëêÏÑ∏Ïöî.' },
  ]},
  { section: '4Îã®Í≥Ñ: Í≥µÏãù ÏÑ†Í±∞Ïö¥Îèô', items: [
    { text: 'Í¥ÄÌï† ÏÑ†Í±∞Í¥ÄÎ¶¨ÏúÑÏõêÌöåÏóê ÌõÑÎ≥¥Ïûê Îì±Î°ù ÏôÑÎ£å', law: 'Ï†ú49Ï°∞', desc: 'ÌõÑÎ≥¥ Îì±Î°ù Í∏∞Í∞Ñ ÎÇ¥Ïóê Ïã†Ï≤≠ÏÑú, Í∏∞ÌÉÅÍ∏à ÎÇ©Î∂Ä ÌôïÏù∏ÏÑú, Ï∂îÏ≤úÏÑú, Ï≤®Î∂ÄÏÑúÎ•ò ÏùºÏ≤¥Î•º Íµ¨ÎπÑÌïòÏó¨ Í¥ÄÌï† ÏÑ†Í¥ÄÏúÑÏóê Ï†ëÏàòÌï©ÎãàÎã§. Îì±Î°ù ÎßàÍ∞êÏùºÏùÑ Î∞òÎìúÏãú ÌôïÏù∏ÌïòÍ≥† Ïó¨Ïú† ÏûàÍ≤å Ï†úÏ∂úÌïòÏÑ∏Ïöî.' },
    { text: 'ÏÑ†Í±∞Í∏∞Í∞Ñ ÌôïÏù∏ (ÎåÄÌÜµÎ†π 23Ïùº, Í∑∏ Ïô∏ 14Ïùº)', law: 'Ï†ú33Ï°∞', desc: 'ÏßÄÎ∞©ÏÑ†Í±∞ ÏÑ†Í±∞Í∏∞Í∞ÑÏùÄ Ìà¨ÌëúÏùº Ï†Ñ 14ÏùºÍ∞ÑÏûÖÎãàÎã§. Ïù¥ Í∏∞Í∞ÑÏóêÎßå Í∞ÄÎä•Ìïú ÏÑ†Í±∞Ïö¥Îèô(ÌôïÏÑ±Í∏∞ ÏÇ¨Ïö©, ÌòÑÏàòÎßâ Í≤åÏãú Îì±)Ïù¥ ÏûàÏúºÎØÄÎ°ú Í∏∞Í∞Ñ ÏãúÏûëÏùºÍ≥º Ï¢ÖÎ£åÏùºÏùÑ Ï†ïÌôïÌûà ÌååÏïÖÌïòÏÑ∏Ïöî.' },
    { text: 'ÏÑ†Í±∞Î≤ΩÎ≥¥¬∑Ï†ÑÎã® Î∞∞Ìè¨', law: 'Ï†ú64Ï°∞¬∑Ï†ú65Ï°∞', desc: 'ÏÑ†Í¥ÄÏúÑÍ∞Ä Ï†úÏûëÌïú Î≤ΩÎ≥¥Îäî ÏßÄÏ†ï Í≤åÏãúÏû•ÏÜåÏóê Î∂ÄÏ∞©ÎêòÍ≥†, ÏÑ†Í±∞Í≥µÎ≥¥Îäî Ïö∞Ìé∏ Î∞úÏÜ°Îê©ÎãàÎã§. Î≥ÑÎèÑÎ°ú ÌõÑÎ≥¥Ïûê Ï†ÑÎã®(Í∑úÍ≤© Ïù¥ÎÇ¥)ÏùÑ Î∞∞Ìè¨Ìï† Ïàò ÏûàÏúºÎ©∞, Î∞∞Ìè¨ Ïû•ÏÜåÏôÄ ÏàòÎüâ Í≥ÑÌöçÏùÑ ÏàòÎ¶ΩÌïòÏÑ∏Ïöî.' },
    { text: 'Í±∞Î¶¨Ïú†ÏÑ∏ Î∞è Í∞ÄÎëêÏó∞ÏÑ§ (ÌôïÏÑ±Ïû•Ïπò ÏÇ¨Ïö© Ïãú Ïã†Í≥†)', law: 'Ï†ú79Ï°∞¬∑Ï†ú91Ï°∞', desc: 'ÏÑ†Í±∞Í∏∞Í∞Ñ Ï§ë Í±∞Î¶¨ÏóêÏÑú Ïú†ÏÑ∏ÏôÄ Ïó∞ÏÑ§Ïù¥ Í∞ÄÎä•Ìï©ÎãàÎã§. ÌôïÏÑ±Ïû•Ïπò(ÎßàÏù¥ÌÅ¨¬∑Ïï∞ÌîÑ)Î•º ÏÇ¨Ïö©Ìï† Í≤ΩÏö∞ ÏÑ†Í¥ÄÏúÑÏóê ÏÇ¨Ï†Ñ Ïã†Í≥†Í∞Ä ÌïÑÏöîÌïòÎ©∞, ÏïºÍ∞Ñ(22Ïãú~06Ïãú) ÏÇ¨Ïö©ÏùÄ Í∏àÏßÄÎê©ÎãàÎã§.' },
    { text: 'Ìï©ÎèôÏó∞ÏÑ§Ìöå¬∑ÌÜ†Î°†Ìöå Ï∞∏ÏÑù', law: 'Ï†ú82Ï°∞', desc: 'ÏÑ†Í¥ÄÏúÑ ÎòêÎäî Ïñ∏Î°†ÏÇ¨ Ï£ºÍ¥Ä Ìï©Îèô ÌÜ†Î°†ÌöåÏóê Ï†ÅÍ∑π Ï∞∏ÏÑùÌï©ÎãàÎã§. Ï†ïÏ±Ö ÌÜ†Î°† Ï§ÄÎπÑ, ÏòàÏÉÅ ÏßàÎ¨∏ ÎåÄÎπÑ, ÌÉÄ ÌõÑÎ≥¥ Í≥µÏïΩ Î∂ÑÏÑù Îì± ÏÇ¨Ï†Ñ Ï§ÄÎπÑÍ∞Ä Ï§ëÏöîÌï©ÎãàÎã§. Î∂àÏ∞∏ Ïãú Ïú†Í∂åÏûêÏóêÍ≤å Î∂ÄÏ†ïÏ†Å Ïù∏ÏÉÅÏùÑ Ï§Ñ Ïàò ÏûàÏäµÎãàÎã§.' },
    { text: 'ÏûêÎèô ÎèôÎ≥¥ÌÜµÏã† Î¨∏ÏûêÎ©îÏãúÏßÄ Î∞úÏÜ° (8Ìöå Ïù¥ÎÇ¥)', law: 'Ï†ú59Ï°∞‚ë°2Ìò∏', desc: 'ÏÑ†Í±∞Í∏∞Í∞Ñ Ï§ë Î¨∏ÏûêÎ©îÏãúÏßÄÎ•º 8ÌöåÍπåÏßÄ Ï†ÑÏÜ°Ìï† Ïàò ÏûàÏäµÎãàÎã§. Ï†ÑÏÜ° Ïãú Î∞úÏã†Ïûê Î™ÖÏπ≠, Ï†ÑÌôîÎ≤àÌò∏Î•º Î∞òÎìúÏãú ÌëúÏãúÌï¥Ïïº ÌïòÎ©∞, ÏàòÏã† Í±∞Î∂Ä Î∞©Î≤ïÎèÑ ÏïàÎÇ¥Ìï¥Ïïº Ìï©ÎãàÎã§. Î∞úÏÜ° ÏãúÏ†êÍ≥º ÎÇ¥Ïö©ÏùÑ Ï†ÑÎûµÏ†ÅÏúºÎ°ú ÏÑ§Í≥ÑÌïòÏÑ∏Ïöî.' },
    { text: 'ÏÇ¨Ï†ÑÌà¨Ìëú Ï∞∏Í¥ÄÏù∏ Î∞∞Ïπò', law: 'Ï†ú161Ï°∞Ïùò2', desc: 'ÏÇ¨Ï†ÑÌà¨Ìëú(ÏÑ†Í±∞Ïùº Ï†Ñ 5~4Ïùº) Í∏∞Í∞ÑÏóê Ìà¨ÌëúÏÜåÎ≥Ñ Ï∞∏Í¥ÄÏù∏ÏùÑ Î∞∞ÏπòÌï©ÎãàÎã§. ÌõÑÎ≥¥Ïûê Ï∂îÏ≤úÏúºÎ°ú 2Î™Ö Ïù¥ÎÇ¥ ÏÑ†ÏûÑ Í∞ÄÎä•ÌïòÎ©∞, Ìà¨Ìëú ÏßÑÌñâÏùò Í≥µÏ†ïÏÑ±ÏùÑ Í∞êÏãúÌïòÎäî Ïó≠Ìï†ÏùÑ Ìï©ÎãàÎã§.' },
    { text: 'Ìà¨ÌëúÏùº Ï∞∏Í¥ÄÏù∏ Î∞∞Ïπò', law: 'Ï†ú161Ï°∞', desc: 'ÏÑ†Í±∞ ÎãπÏùº Í∞Å Ìà¨ÌëúÏÜåÏóê Ï∞∏Í¥ÄÏù∏ÏùÑ Î∞∞ÏπòÌï©ÎãàÎã§. ÌõÑÎ≥¥Ïûê Ï∂îÏ≤úÏúºÎ°ú Ìà¨ÌëúÏÜåÎãπ 2Î™Ö Ïù¥ÎÇ¥ ÏÑ†ÏûÑÌïòÎ©∞, Ïú†Í∂åÏûê Î≥∏Ïù∏ ÌôïÏù∏, Ìà¨ÌëúÏö©ÏßÄ ÍµêÎ∂Ä Ï†àÏ∞® Îì±ÏùÑ Í∞êÏãúÌï©ÎãàÎã§.' },
    { text: 'Í∞úÌëú Ï∞∏Í¥ÄÏù∏ Î∞∞Ïπò', law: 'Ï†ú181Ï°∞', desc: 'Í∞úÌëúÏÜåÏóê Ï∞∏Í¥ÄÏù∏ÏùÑ Î∞∞ÏπòÌïòÏó¨ Í∞úÌëú Í≥ºÏ†ïÏùò Í≥µÏ†ïÏÑ±ÏùÑ Í∞êÏãúÌï©ÎãàÎã§. ÌõÑÎ≥¥Ïûê Ï∂îÏ≤úÏúºÎ°ú Í∞úÌëúÏÜåÎãπ 2Î™Ö Ïù¥ÎÇ¥ ÏÑ†ÏûÑÌïòÎ©∞, Î¨¥Ìö®Ìëú ÌåêÏ†ï, ÏßëÍ≥Ñ Í≥ºÏ†ï Îì±ÏùÑ Î©¥Î∞ÄÌûà ÌôïÏù∏Ìï©ÎãàÎã§.' },
  ]},
  { section: '5Îã®Í≥Ñ: ÏÑ†Í±∞ ÌõÑ', items: [
    { text: 'ÏÑ†Í±∞ÎπÑÏö© ÏàòÏûÖ¬∑ÏßÄÏ∂ú Î≥¥Í≥†ÏÑú Ï†úÏ∂ú (ÏÑ†Í±∞Ïùº ÌõÑ 90Ïùº Ïù¥ÎÇ¥)', law: 'Ï†ú134Ï°∞', desc: 'ÌöåÍ≥ÑÏ±ÖÏûÑÏûêÍ∞Ä ÏÑ†Í±∞ÎπÑÏö©Ïùò Î™®Îì† ÏàòÏûÖ¬∑ÏßÄÏ∂ú ÎÇ¥Ïó≠ÏùÑ Ï†ïÎ¶¨ÌïòÏó¨ Í¥ÄÌï† ÏÑ†Í¥ÄÏúÑÏóê Ï†úÏ∂úÌï©ÎãàÎã§. ÏòÅÏàòÏ¶ù¬∑Ï¶ùÎπôÏÑúÎ•òÎ•º Îπ†ÏßêÏóÜÏù¥ Ï≤®Î∂ÄÌï¥Ïïº ÌïòÎ©∞, ÌóàÏúÑ Î≥¥Í≥† Ïãú Ï≤òÎ≤å ÎåÄÏÉÅÏûÖÎãàÎã§.' },
    { text: 'ÏÑ†Í±∞ÎπÑÏö© Î≥¥Ï†Ñ Ï≤≠Íµ¨ (15% Ïù¥ÏÉÅ ÎìùÌëú Ïãú Ï†ÑÏï°, 10~15% Ïãú 50%)', law: 'Ï†ú122Ï°∞Ïùò2', desc: 'Ïú†Ìö®Ìà¨Ìëú Ï¥ùÏàòÏùò 15% Ïù¥ÏÉÅ ÎìùÌëúÌïòÎ©¥ ÏÑ†Í±∞ÎπÑÏö© Ï†ÑÏï°ÏùÑ, 10~15% ÎìùÌëúÌïòÎ©¥ 50%Î•º Íµ≠Í∞ÄÎ°úÎ∂ÄÌÑ∞ Î≥¥Ï†ÑÎ∞õÏùÑ Ïàò ÏûàÏäµÎãàÎã§. ÎπÑÏö©Î≥¥Ï†Ñ Ï≤≠Íµ¨ÏÑúÎ•º ÏÑ†Í¥ÄÏúÑÏóê Ï†úÏ∂úÌïòÏÑ∏Ïöî.' },
    { text: 'Í∏∞ÌÉÅÍ∏à Î∞òÌôò Ïã†Ï≤≠ (15% Ïù¥ÏÉÅ ÎìùÌëú Ïãú Ï†ÑÏï°, 10~15% Ïãú 50%)', law: 'Ï†ú57Ï°∞', desc: 'Ïú†Ìö®Ìà¨Ìëú Ï¥ùÏàòÏùò 15% Ïù¥ÏÉÅ ÎìùÌëú Ïãú Í∏∞ÌÉÅÍ∏à Ï†ÑÏï°, 10~15% Ïãú 50%Í∞Ä Î∞òÌôòÎê©ÎãàÎã§. ÎØ∏Îã¨ Ïãú Í∏∞ÌÉÅÍ∏àÏùÄ Íµ≠Í≥†Ïóê Í∑ÄÏÜçÎêòÎØÄÎ°ú, Î∞òÌôò ÏöîÍ±¥ Îã¨ÏÑ± Ïó¨Î∂ÄÎ•º ÌôïÏù∏ ÌõÑ Ïã†Ï≤≠ÌïòÏÑ∏Ïöî.' },
    { text: 'ÏÑ†Í±∞ÏÇ¨Î¨¥ÏÜå Ï†ïÎ¶¨ Î∞è Î∞òÌôò', law: 'Ï†ú61Ï°∞', desc: 'ÏÑ†Í±∞ Ï¢ÖÎ£å ÌõÑ ÏÑ†Í±∞ÏÇ¨Î¨¥ÏÜåÎ•º Ïã†ÏÜçÌûà Ï†ïÎ¶¨ÌïòÍ≥† ÏõêÏÉÅÎ≥µÍµ¨Ìï©ÎãàÎã§. ÏûÑÎåÄ Í≥ÑÏïΩ Ìï¥ÏßÄ, ÏßëÍ∏∞ Î∞òÌôò, ÏãúÏÑ§ Î≥µÏõê Îì±ÏùÑ Ï≤òÎ¶¨ÌïòÍ≥†, ÏÑ†Í¥ÄÏúÑÏóê ÌèêÏáÑ Ïã†Í≥†Î•º Ìï©ÎãàÎã§.' },
    { text: 'ÏÑ†Í±∞ ÌôçÎ≥¥Î¨º Ï≤†Í±∞ (ÏÑ†Í±∞Ïùº ÌõÑ Ï¶âÏãú)', law: 'Ï†ú67Ï°∞', desc: 'ÏÑ†Í±∞Ïùº Ïù¥ÌõÑ ÌòÑÏàòÎßâ, Î≤ΩÎ≥¥, Í∞ÑÌåê Îì± Î™®Îì† ÏÑ†Í±∞ ÌôçÎ≥¥Î¨ºÏùÑ Ï¶âÏãú Ï≤†Í±∞Ìï¥Ïïº Ìï©ÎãàÎã§. ÎØ∏Ï≤†Í±∞ Ïãú Í≥ºÌÉúÎ£å Î∂ÄÍ≥º ÎåÄÏÉÅÏù¥Î©∞, Íπ®ÎÅóÌïú Ï†ïÎ¶¨Îäî ÏßÄÏó≠ÏÇ¨ÌöåÏóê Ï¢ãÏùÄ Ïù∏ÏÉÅÏùÑ ÎÇ®ÍπÅÎãàÎã§.' },
    { text: 'Ï†ïÏπòÏûêÍ∏à ÌöåÍ≥ÑÎ≥¥Í≥†', law: 'Ï†ïÏπòÏûêÍ∏àÎ≤ï Ï†ú40Ï°∞', desc: 'ÌõÑÏõêÌöåÎ•º ÌÜµÌï¥ Î™®Í∏àÌïú Ï†ïÏπòÏûêÍ∏àÏùò ÏàòÏûÖ¬∑ÏßÄÏ∂ú ÎÇ¥Ïó≠ÏùÑ ÌöåÍ≥ÑÎ≥¥Í≥†ÏÑúÎ°ú ÏûëÏÑ±ÌïòÏó¨ ÏÑ†Í¥ÄÏúÑÏóê Ï†úÏ∂úÌï©ÎãàÎã§. Ï†ïÏπòÏûêÍ∏à ÏÇ¨Ïö© ÎÇ¥Ïó≠Ïùò Ìà¨Î™ÖÏÑ±Ïù¥ Ï§ëÏöîÌïòÎ©∞, ÌöåÍ≥ÑÏû•Î∂ÄÏôÄ Ï¶ùÎπôÏÑúÎ•òÎ•º 5ÎÖÑÍ∞Ñ Î≥¥Í¥ÄÌï¥Ïïº Ìï©ÎãàÎã§.' },
  ]},
];

function buildChecklist() {
  const container = document.getElementById('checklistContainer');
  container.innerHTML = checklistData.map((section, si) => `
    <div class="card checklist-section">
      <h3>${section.section}</h3>
      ${section.items.map((item, ii) => `
        <div class="check-item" id="chk-${si}-${ii}">
          <input type="checkbox" id="cb-${si}-${ii}" onchange="toggleCheck(${si},${ii})">
          <label for="cb-${si}-${ii}">${item.text}</label>
          ${item.law !== '-' ? `<span class="check-law">${item.law}</span>` : ''}
          ${item.desc ? `<span class="check-toggle" onclick="toggleDesc(this, event)">‚ñº ÏÑ§Î™Ö</span><div class="check-desc">${escapeHTML(item.desc)}</div>` : ''}
        </div>
      `).join('')}
    </div>
  `).join('');
  loadChecklist();
}

function toggleCheck(si,ii) {
  const el = document.getElementById('chk-'+si+'-'+ii);
  const cb = document.getElementById('cb-'+si+'-'+ii);
  if(cb.checked) el.classList.add('done'); else el.classList.remove('done');
  saveChecklist(); updateProgress();
}

function updateProgress() {
  const total = document.querySelectorAll('.check-item input').length;
  const checked = document.querySelectorAll('.check-item input:checked').length;
  const pct = total>0?Math.round((checked/total)*100):0;
  document.getElementById('overallProgress').textContent = pct+'%';
  document.getElementById('overallProgressBar').style.width = pct+'%';
}

function saveChecklist() {
  const data = {};
  document.querySelectorAll('.check-item input').forEach(cb => data[cb.id]=cb.checked);
  try{localStorage.setItem('electionChecklist',JSON.stringify(data));}catch(e){}
}

function loadChecklist() {
  try {
    const data = JSON.parse(localStorage.getItem('electionChecklist')||'{}');
    Object.entries(data).forEach(([id,checked])=>{
      const cb=document.getElementById(id);
      if(cb){cb.checked=checked;if(checked)cb.closest('.check-item').classList.add('done');}
    });
  }catch(e){}
  updateProgress();
}

function toggleDesc(btn, event) {
  event.stopPropagation();
  const item = btn.closest('.check-item');
  const isOpen = item.classList.toggle('expanded');
  btn.textContent = isOpen ? '‚ñ≤ Ï†ëÍ∏∞' : '‚ñº ÏÑ§Î™Ö';
}

// ========== INIT ==========
initSido();
buildChecklist();
updateCalc();
loadProfile();

// ÏÑ§ÏπòÏùº Í∏∞Î°ù (ÏµúÏ¥à Ï†ëÏÜç Ïãú)
getInstallDate();

// Ìôà Ï≤¥Ìóò Î∞∞ÎÑà Î†åÎçîÎßÅ
function renderHomeTrialBanner() {
  const el = document.getElementById('homeTrialBanner');
  if (!el) return;
  const left = getTrialRemaining();
  if (left > 0 && left <= TRIAL_DAYS) {
    el.innerHTML = `<div style="background:linear-gradient(135deg,#d1fae5,#a7f3d0);border:2px solid #10b981;border-radius:var(--radius);padding:16px 20px;margin-bottom:20px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:12px;">
      <span style="font-size:14px;font-weight:700;color:#065f46;">üéÅ Î¨¥Î£å Ï≤¥Ìóò Ï§ë ‚Äî Î™®Îì† ÌîÑÎ¶¨ÎØ∏ÏóÑ Í∏∞Îä• Ïù¥Ïö© Í∞ÄÎä• (ÏûîÏó¨ <strong>${left}Ïùº</strong>)</span>
      <button onclick="showPage('pricing')" style="background:#10b981;color:white;border:none;padding:8px 16px;border-radius:8px;font-size:13px;font-weight:700;cursor:pointer;">üíé ÏöîÍ∏àÏ†ú Î≥¥Í∏∞</button>
    </div>`;
  } else if (left === 0) {
    el.innerHTML = `<div style="background:linear-gradient(135deg,#fef2f2,#fecaca);border:2px solid #ef4444;border-radius:var(--radius);padding:16px 20px;margin-bottom:20px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:12px;">
      <span style="font-size:14px;font-weight:700;color:#991b1b;">‚è∞ Î¨¥Î£å Ï≤¥ÌóòÏù¥ Ï¢ÖÎ£åÎêòÏóàÏäµÎãàÎã§ ‚Äî Ïú†Î£å ÏöîÍ∏àÏ†úÎ°ú ÏóÖÍ∑∏Î†àÏù¥ÎìúÌïòÏÑ∏Ïöî</span>
      <button onclick="showPage('pricing')" style="background:#ef4444;color:white;border:none;padding:8px 16px;border-radius:8px;font-size:13px;font-weight:700;cursor:pointer;">üíé ÏóÖÍ∑∏Î†àÏù¥Îìú</button>
    </div>`;
  } else {
    el.innerHTML = '';
  }
}
renderHomeTrialBanner();
</script>
</body>
</html>
